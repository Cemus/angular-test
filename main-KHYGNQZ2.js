var P0=Object.defineProperty,O0=Object.defineProperties;var F0=Object.getOwnPropertyDescriptors;var sv=Object.getOwnPropertySymbols,L0=Object.getPrototypeOf,V0=Object.prototype.hasOwnProperty,j0=Object.prototype.propertyIsEnumerable,U0=Reflect.get;var av=(t,e,n)=>e in t?P0(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})V0.call(e,n)&&av(t,n,e[n]);if(sv)for(var n of sv(e))j0.call(e,n)&&av(t,n,e[n]);return t},$=(t,e)=>O0(t,F0(e));var sr=(t,e,n)=>U0(L0(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function lv(t,e){return Object.is(t,e)}var ve=null,va=!1,cd=1,Je=Symbol("SIGNAL");function K(t){let e=ve;return ve=t,e}function uv(){return ve}var Ro={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _a(t){if(va)throw new Error("");if(ve===null)return;ve.consumerOnSignalRead(t);let e=ve.nextProducerIndex++;if(Ca(ve),e<ve.producerNode.length&&ve.producerNode[e]!==t&&No(ve)){let n=ve.producerNode[e];wa(n,ve.producerIndexOfThis[e])}ve.producerNode[e]!==t&&(ve.producerNode[e]=t,ve.producerIndexOfThis[e]=No(ve)?pv(t,ve,e):0),ve.producerLastReadVersion[e]=t.version}function B0(){cd++}function dv(t){if(!(No(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cd)){if(!t.producerMustRecompute(t)&&!ud(t)){cv(t);return}t.producerRecomputeValue(t),cv(t)}}function fv(t){if(t.liveConsumerNode===void 0)return;let e=va;va=!0;try{for(let n of t.liveConsumerNode)n.dirty||$0(n)}finally{va=e}}function hv(){return ve?.consumerAllowSignalWrites!==!1}function $0(t){t.dirty=!0,fv(t),t.consumerMarkedDirty?.(t)}function cv(t){t.dirty=!1,t.lastCleanEpoch=cd}function Ea(t){return t&&(t.nextProducerIndex=0),K(t)}function ld(t,e){if(K(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(No(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)wa(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ud(t){Ca(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dv(n),r!==n.version))return!0}return!1}function dd(t){if(Ca(t),No(t))for(let e=0;e<t.producerNode.length;e++)wa(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function pv(t,e,n){if(gv(t),t.liveConsumerNode.length===0&&mv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=pv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function wa(t,e){if(gv(t),t.liveConsumerNode.length===1&&mv(t))for(let r=0;r<t.producerNode.length;r++)wa(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ca(i),i.producerIndexOfThis[r]=e}}function No(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ca(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function gv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function mv(t){return t.producerNode!==void 0}function vv(t){let e=Object.create(H0);e.computation=t;let n=()=>{if(dv(e),_a(e),e.value===ya)throw e.error;return e.value};return n[Je]=e,n}var sd=Symbol("UNSET"),ad=Symbol("COMPUTING"),ya=Symbol("ERRORED"),H0=$(w({},Ro),{value:sd,dirty:!0,error:null,equal:lv,kind:"computed",producerMustRecompute(t){return t.value===sd||t.value===ad},producerRecomputeValue(t){if(t.value===ad)throw new Error("Detected cycle in computations.");let e=t.value;t.value=ad;let n=Ea(t),r,i=!1;try{r=t.computation(),K(null),i=e!==sd&&e!==ya&&r!==ya&&t.equal(e,r)}catch(o){r=ya,t.error=o}finally{ld(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function W0(){throw new Error}var yv=W0;function _v(){yv()}function Ev(t){yv=t}var z0=null;function wv(t){let e=Object.create(fd);e.value=t;let n=()=>(_a(e),e.value);return n[Je]=e,n}function Ia(t,e){hv()||_v(),t.equal(t.value,e)||(t.value=e,G0(t))}function Cv(t,e){hv()||_v(),Ia(t,e(t.value))}var fd=$(w({},Ro),{equal:lv,value:void 0,kind:"signal"});function G0(t){t.version++,B0(),fv(t),z0?.()}function P(t){return typeof t=="function"}function ei(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Da=ei(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ar(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var de=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(o){e=o instanceof Da?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Iv(o)}catch(s){e=e??[],s instanceof Da?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Da(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Iv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ar(n,e)}remove(e){let{_finalizers:n}=this;n&&ar(n,e),e instanceof t&&e._removeParent(this)}};de.EMPTY=(()=>{let t=new de;return t.closed=!0,t})();var hd=de.EMPTY;function ba(t){return t instanceof de||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function Iv(t){P(t)?t():t.unsubscribe()}var It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ti={setTimeout(t,e,...n){let{delegate:r}=ti;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ti;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ta(t){ti.setTimeout(()=>{let{onUnhandledError:e}=It;if(e)e(t);else throw t})}function xo(){}var Dv=pd("C",void 0,void 0);function bv(t){return pd("E",void 0,t)}function Tv(t){return pd("N",t,void 0)}function pd(t,e,n){return{kind:t,value:e,error:n}}var cr=null;function ni(t){if(It.useDeprecatedSynchronousErrorHandling){let e=!cr;if(e&&(cr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=cr;if(cr=null,n)throw r}}else t()}function Sv(t){It.useDeprecatedSynchronousErrorHandling&&cr&&(cr.errorThrown=!0,cr.error=t)}var lr=class extends de{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ba(e)&&e.add(this)):this.destination=Y0}static create(e,n,r){return new ri(e,n,r)}next(e){this.isStopped?md(Tv(e),this):this._next(e)}error(e){this.isStopped?md(bv(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?md(Dv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},q0=Function.prototype.bind;function gd(t,e){return q0.call(t,e)}var vd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Sa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Sa(r)}else Sa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Sa(n)}}},ri=class extends lr{constructor(e,n,r){super();let i;if(P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&It.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gd(e.next,o),error:e.error&&gd(e.error,o),complete:e.complete&&gd(e.complete,o)}):i=e}this.destination=new vd(i)}};function Sa(t){It.useDeprecatedSynchronousErrorHandling?Sv(t):Ta(t)}function K0(t){throw t}function md(t,e){let{onStoppedNotification:n}=It;n&&ti.setTimeout(()=>n(t,e))}var Y0={closed:!0,next:xo,error:K0,complete:xo};var ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Xe(t){return t}function yd(...t){return _d(t)}function _d(t){return t.length===0?Xe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var j=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Q0(n)?n:new ri(n,r,i);return ni(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Av(r),new r((i,o)=>{let s=new ri({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ii](){return this}pipe(...n){return _d(n)(this)}toPromise(n){return n=Av(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Av(t){var e;return(e=t??It.Promise)!==null&&e!==void 0?e:Promise}function Z0(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}function Q0(t){return t&&t instanceof lr||Z0(t)&&ba(t)}function Ed(t){return P(t?.lift)}function Y(t){return e=>{if(Ed(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(t,e,n,r,i){return new wd(t,e,n,r,i)}var wd=class extends lr{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function oi(){return Y((t,e)=>{let n=null;t._refCount++;let r=z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var si=class extends j{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ed(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new de;let n=this.getSubject();e.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=de.EMPTY)}return e}refCount(){return oi()(this)}};var Mv=ei(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=(()=>{class t extends j{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Aa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Mv}next(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?hd:(this.currentObservers=null,o.push(n),new de(()=>{this.currentObservers=null,ar(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new j;return n.source=this,n}}return t.create=(e,n)=>new Aa(e,n),t})(),Aa=class extends pe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:hd}};var Me=class extends pe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cd={now(){return(Cd.delegate||Date).now()},delegate:void 0};var Ma=class extends de{constructor(e,n){super()}schedule(e,n=0){return this}};var ko={setInterval(t,e,...n){let{delegate:r}=ko;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ko;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ai=class extends Ma{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ko.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ko.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ar(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ci=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ci.now=Cd.now;var li=class extends ci{constructor(e,n=ci.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Id=new li(ai);var Na=class extends ai{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ra=class extends li{};var Dd=new Ra(Na);var ze=new j(t=>t.complete());function Nv(t){return t&&P(t.schedule)}function Rv(t){return t[t.length-1]}function xa(t){return P(Rv(t))?t.pop():void 0}function Mn(t){return Nv(Rv(t))?t.pop():void 0}function bd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function kv(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function xv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ur(t){return this instanceof ur?(this.v=t,this):new ur(t)}function Pv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(y){return Promise.resolve(y).then(h,d)}}function a(h,y){r[h]&&(i[h]=function(E){return new Promise(function(b,F){o.push([h,E,b,F])>1||c(h,E)})},y&&(i[h]=y(i[h])))}function c(h,y){try{l(r[h](y))}catch(E){f(o[0][3],E)}}function l(h){h.value instanceof ur?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Ov(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xv=="function"?xv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var ka=t=>t&&typeof t.length=="number"&&typeof t!="function";function Pa(t){return P(t?.then)}function Oa(t){return P(t[ii])}function Fa(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function La(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function J0(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Va=J0();function ja(t){return P(t?.[Va])}function Ua(t){return Pv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ur(n.read());if(i)return yield ur(void 0);yield yield ur(r)}}finally{n.releaseLock()}})}function Ba(t){return P(t?.getReader)}function ge(t){if(t instanceof j)return t;if(t!=null){if(Oa(t))return X0(t);if(ka(t))return eT(t);if(Pa(t))return tT(t);if(Fa(t))return Fv(t);if(ja(t))return nT(t);if(Ba(t))return rT(t)}throw La(t)}function X0(t){return new j(e=>{let n=t[ii]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function eT(t){return new j(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function tT(t){return new j(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ta)})}function nT(t){return new j(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Fv(t){return new j(e=>{iT(t,e).catch(n=>e.error(n))})}function rT(t){return Fv(Ua(t))}function iT(t,e){var n,r,i,o;return kv(this,void 0,void 0,function*(){try{for(n=Ov(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ge(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Nn(t,e=0){return Y((n,r)=>{n.subscribe(z(r,i=>Ge(r,t,()=>r.next(i),e),()=>Ge(r,t,()=>r.complete(),e),i=>Ge(r,t,()=>r.error(i),e)))})}function Rn(t,e=0){return Y((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Lv(t,e){return ge(t).pipe(Rn(e),Nn(e))}function Vv(t,e){return ge(t).pipe(Rn(e),Nn(e))}function jv(t,e){return new j(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Uv(t,e){return new j(n=>{let r;return Ge(n,e,()=>{r=t[Va](),Ge(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function $a(t,e){if(!t)throw new Error("Iterable cannot be null");return new j(n=>{Ge(n,e,()=>{let r=t[Symbol.asyncIterator]();Ge(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Bv(t,e){return $a(Ua(t),e)}function $v(t,e){if(t!=null){if(Oa(t))return Lv(t,e);if(ka(t))return jv(t,e);if(Pa(t))return Vv(t,e);if(Fa(t))return $a(t,e);if(ja(t))return Uv(t,e);if(Ba(t))return Bv(t,e)}throw La(t)}function le(t,e){return e?$v(t,e):ge(t)}function R(...t){let e=Mn(t);return le(t,e)}function ui(t,e){let n=P(t)?t:()=>t,r=i=>i.error(n());return new j(e?i=>e.schedule(r,0,i):r)}function Td(t){return!!t&&(t instanceof j||P(t.lift)&&P(t.subscribe))}var nn=ei(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function L(t,e){return Y((n,r)=>{let i=0;n.subscribe(z(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:oT}=Array;function sT(t,e){return oT(e)?t(...e):t(e)}function Ha(t){return L(e=>sT(t,e))}var{isArray:aT}=Array,{getPrototypeOf:cT,prototype:lT,keys:uT}=Object;function Wa(t){if(t.length===1){let e=t[0];if(aT(e))return{args:e,keys:null};if(dT(e)){let n=uT(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function dT(t){return t&&typeof t=="object"&&cT(t)===lT}function za(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ga(...t){let e=Mn(t),n=xa(t),{args:r,keys:i}=Wa(t);if(r.length===0)return le([],e);let o=new j(fT(r,e,i?s=>za(i,s):Xe));return n?o.pipe(Ha(n)):o}function fT(t,e,n=Xe){return r=>{Hv(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Hv(e,()=>{let l=le(t[c],e),u=!1;l.subscribe(z(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Hv(t,e,n){t?Ge(n,t,e):e()}function Wv(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=E=>l<r?y(E):c.push(E),y=E=>{o&&e.next(E),l++;let b=!1;ge(n(E,u++)).subscribe(z(e,F=>{i?.(F),o?h(F):e.next(F)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<r;){let F=c.shift();s?Ge(e,s,()=>y(F)):y(F)}f()}catch(F){e.error(F)}}))};return t.subscribe(z(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ye(t,e,n=1/0){return P(e)?ye((r,i)=>L((o,s)=>e(r,o,i,s))(ge(t(r,i))),n):(typeof e=="number"&&(n=e),Y((r,i)=>Wv(r,i,t,n)))}function Sd(t=1/0){return ye(Xe,t)}function zv(){return Sd(1)}function di(...t){return zv()(le(t,Mn(t)))}function qa(t){return new j(e=>{ge(t()).subscribe(e)})}function Ad(...t){let e=xa(t),{args:n,keys:r}=Wa(t),i=new j(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;ge(n[u]).subscribe(z(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?za(r,a):a),o.complete())}))}});return e?i.pipe(Ha(e)):i}function et(t,e){return Y((n,r)=>{let i=0;n.subscribe(z(r,o=>t.call(e,o,i++)&&r.next(o)))})}function xn(t){return Y((e,n)=>{let r=null,i=!1,o;r=e.subscribe(z(n,void 0,void 0,s=>{o=ge(t(s,xn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Gv(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(z(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function kn(t,e){return P(e)?ye(t,e,1):ye(t,1)}function Pn(t){return Y((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function rn(t){return t<=0?()=>ze:Y((e,n)=>{let r=0;e.subscribe(z(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ka(t=hT){return Y((e,n)=>{let r=!1;e.subscribe(z(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function hT(){return new nn}function dr(t){return Y((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?et((i,o)=>t(i,o,r)):Xe,rn(1),n?Pn(e):Ka(()=>new nn))}function fi(t){return t<=0?()=>ze:Y((e,n)=>{let r=[];e.subscribe(z(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Md(t,e){let n=arguments.length>=2;return r=>r.pipe(t?et((i,o)=>t(i,o,r)):Xe,fi(1),n?Pn(e):Ka(()=>new nn))}function Nd(t,e){return Y(Gv(t,e,arguments.length>=2,!0))}function Rd(...t){let e=Mn(t);return Y((n,r)=>{(e?di(t,n,e):di(t,n)).subscribe(r)})}function tt(t,e){return Y((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(z(r,c=>{i?.unsubscribe();let l=0,u=o++;ge(t(c,u)).subscribe(i=z(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xd(t){return Y((e,n)=>{ge(t).subscribe(z(n,()=>n.complete(),xo)),!n.closed&&e.subscribe(n)})}function we(t,e,n){let r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?Y((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(z(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Xe}var Fy="https://g.co/ng/security#xss",D=class extends Error{code;constructor(e,n){super(Nc(e,n)),this.code=e}};function Nc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Ly=Symbol("InputSignalNode#UNSET"),pT=$(w({},fd),{transformFn:void 0,applyValueToInputSignal(t,e){Ia(t,e)}});function Vy(t,e){let n=Object.create(pT);n.value=t,n.transformFn=e?.transform;function r(){if(_a(n),n.value===Ly)throw new D(-950,!1);return n.value}return r[Je]=n,r}function Go(t){return{toString:t}.toString()}var Ya="__parameters__";function gT(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function jy(t,e,n){return Go(()=>{let r=gT(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ya)?c[Ya]:Object.defineProperty(c,Ya,{value:[]})[Ya];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var zd=globalThis;function se(t){for(let e in t)if(t[e]===se)return e;throw Error("Could not find renamed property on target object.")}function mT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Be(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Be).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function qv(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var vT=se({__forward_ref__:se});function Er(t){return t.__forward_ref__=Er,t.toString=function(){return Be(this())},t}function Ue(t){return Uy(t)?t():t}function Uy(t){return typeof t=="function"&&t.hasOwnProperty(vT)&&t.__forward_ref__===Er}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function $n(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rc(t){return Kv(t,$y)||Kv(t,Hy)}function By(t){return Rc(t)!==null}function Kv(t,e){return t.hasOwnProperty(e)?t[e]:null}function yT(t){let e=t&&(t[$y]||t[Hy]);return e||null}function Yv(t){return t&&(t.hasOwnProperty(Zv)||t.hasOwnProperty(_T))?t[Zv]:null}var $y=se({\u0275prov:se}),Zv=se({\u0275inj:se}),Hy=se({ngInjectableDef:se}),_T=se({ngInjectorDef:se}),T=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wy(t){return t&&!!t.\u0275providers}var ET=se({\u0275cmp:se}),wT=se({\u0275dir:se}),CT=se({\u0275pipe:se}),IT=se({\u0275mod:se}),ic=se({\u0275fac:se}),Lo=se({__NG_ELEMENT_ID__:se}),Qv=se({__NG_ENV_ID__:se});function yi(t){return typeof t=="string"?t:t==null?"":String(t)}function DT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yi(t)}function bT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,t)}function Ff(t,e){throw new D(-201,!1)}var U=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(U||{}),Gd;function zy(){return Gd}function ut(t){let e=Gd;return Gd=t,e}function Gy(t,e,n){let r=Rc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&U.Optional)return null;if(e!==void 0)return e;Ff(t,"Injector")}var TT={},Vo=TT,qd="__NG_DI_FLAG__",oc="ngTempTokenPath",ST="ngTokenPath",AT=/\n/gm,MT="\u0275",Jv="__source",mi;function NT(){return mi}function On(t){let e=mi;return mi=t,e}function RT(t,e=U.Default){if(mi===void 0)throw new D(-203,!1);return mi===null?Gy(t,void 0,e):mi.get(t,e&U.Optional?null:void 0,e)}function k(t,e=U.Default){return(zy()||RT)(Ue(t),e)}function _(t,e=U.Default){return k(t,xc(e))}function xc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kd(t){let e=[];for(let n=0;n<t.length;n++){let r=Ue(t[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=U.Default;for(let s=0;s<r.length;s++){let a=r[s],c=xT(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(k(i,o))}else e.push(k(r))}return e}function qy(t,e){return t[qd]=e,t.prototype[qd]=e,t}function xT(t){return t[qd]}function kT(t,e,n,r){let i=t[oc];throw e[Jv]&&i.unshift(e[Jv]),t.message=PT(`
`+t.message,i,n,r),t[ST]=i,t[oc]=null,t}function PT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==MT?t.slice(2):t;let i=Be(e);if(Array.isArray(e))i=e.map(Be).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Be(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(AT,`
  `)}`}var He=qy(jy("Optional"),8);var Ky=qy(jy("SkipSelf"),4);function _i(t,e){let n=t.hasOwnProperty(ic);return n?t[ic]:null}function Lf(t,e){t.forEach(n=>Array.isArray(n)?Lf(n,e):e(n))}function Yy(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function OT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function FT(t,e,n){let r=qo(t,e);return r>=0?t[r|1]=n:(r=~r,OT(t,r,e,n)),r}function kd(t,e){let n=qo(t,e);if(n>=0)return t[n|1]}function qo(t,e){return LT(t,e,1)}function LT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ei={},dt=[],wi=new T(""),Zy=new T("",-1),Qy=new T(""),ac=class{get(e,n=Vo){if(n===Vo){let r=new Error(`NullInjectorError: No provider for ${Be(e)}!`);throw r.name="NullInjectorError",r}return n}};function Jy(t,e){let n=t[IT]||null;if(!n&&e===!0)throw new Error(`Type ${Be(t)} does not have '\u0275mod' property.`);return n}function hr(t){return t[ET]||null}function Xy(t){return t[wT]||null}function e_(t){return t[CT]||null}function t_(t){let e=hr(t)||Xy(t)||e_(t);return e!==null&&e.standalone}function gt(t){return{\u0275providers:t}}function VT(...t){return{\u0275providers:n_(!0,t),\u0275fromNgModule:!0}}function n_(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Lf(e,s=>{let a=s;Yd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&r_(i,o),n}function r_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Vf(i,o=>{e(o,r)})}}function Yd(t,e,n,r){if(t=Ue(t),!t)return!1;let i=null,o=Yv(t),s=!o&&hr(t);if(!o&&!s){let c=t.ngModule;if(o=Yv(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Yd(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Lf(o.imports,u=>{Yd(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&r_(l,e)}if(!a){let l=_i(i)||(()=>new i);e({provide:i,useFactory:l,deps:dt},i),e({provide:Qy,useValue:i,multi:!0},i),e({provide:wi,useValue:()=>k(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Vf(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Vf(t,e){for(let n of t)Wy(n)&&(n=n.\u0275providers),Array.isArray(n)?Vf(n,e):e(n)}var jT=se({provide:String,useValue:se});function i_(t){return t!==null&&typeof t=="object"&&jT in t}function UT(t){return!!(t&&t.useExisting)}function BT(t){return!!(t&&t.useFactory)}function Ci(t){return typeof t=="function"}function $T(t){return!!t.useClass}var kc=new T(""),Xa={},HT={},Pd;function jf(){return Pd===void 0&&(Pd=new ac),Pd}var Pe=class{},jo=class extends Pe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Qd(e,s=>this.processProvider(s)),this.records.set(Zy,hi(void 0,this)),i.has("environment")&&this.records.set(Pe,hi(void 0,this));let o=this.records.get(kc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Qy,dt,U.Self))}destroy(){Oo(this),this._destroyed=!0;let e=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(e)}}onDestroy(e){return Oo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Oo(this);let n=On(this),r=ut(void 0),i;try{return e()}finally{On(n),ut(r)}}get(e,n=Vo,r=U.Default){if(Oo(this),e.hasOwnProperty(Qv))return e[Qv](this);r=xc(r);let i,o=On(this),s=ut(void 0);try{if(!(r&U.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=KT(e)&&Rc(e);l&&this.injectableDefInScope(l)?c=hi(Zd(e),Xa):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&U.Self?jf():this.parent;return n=r&U.Optional&&n===Vo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[oc]=a[oc]||[]).unshift(Be(e)),o)throw a;return kT(a,e,"R3InjectorError",this.source)}else throw a}finally{ut(s),On(o)}}resolveInjectorInitializers(){let e=K(null),n=On(this),r=ut(void 0),i;try{let o=this.get(wi,dt,U.Self);for(let s of o)s()}finally{On(n),ut(r),K(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Be(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ue(e);let n=Ci(e)?e:Ue(e&&e.provide),r=zT(e);if(!Ci(e)&&e.multi===!0){let i=this.records.get(n);i||(i=hi(void 0,Xa,!0),i.factory=()=>Kd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=K(null);try{return n.value===Xa&&(n.value=HT,n.value=n.factory()),typeof n.value=="object"&&n.value&&qT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ue(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Zd(t){let e=Rc(t),n=e!==null?e.factory:_i(t);if(n!==null)return n;if(t instanceof T)throw new D(204,!1);if(t instanceof Function)return WT(t);throw new D(204,!1)}function WT(t){if(t.length>0)throw new D(204,!1);let n=yT(t);return n!==null?()=>n.factory(t):()=>new t}function zT(t){if(i_(t))return hi(void 0,t.useValue);{let e=o_(t);return hi(e,Xa)}}function o_(t,e,n){let r;if(Ci(t)){let i=Ue(t);return _i(i)||Zd(i)}else if(i_(t))r=()=>Ue(t.useValue);else if(BT(t))r=()=>t.useFactory(...Kd(t.deps||[]));else if(UT(t))r=()=>k(Ue(t.useExisting));else{let i=Ue(t&&(t.useClass||t.provide));if(GT(t))r=()=>new i(...Kd(t.deps));else return _i(i)||Zd(i)}return r}function Oo(t){if(t.destroyed)throw new D(205,!1)}function hi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function GT(t){return!!t.deps}function qT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function KT(t){return typeof t=="function"||typeof t=="object"&&t instanceof T}function Qd(t,e){for(let n of t)Array.isArray(n)?Qd(n,e):n&&Wy(n)?Qd(n.\u0275providers,e):e(n)}function Ne(t,e){t instanceof jo&&Oo(t);let n,r=On(t),i=ut(void 0);try{return e()}finally{On(r),ut(i)}}function s_(){return zy()!==void 0||NT()!=null}function a_(t){if(!s_())throw new D(-203,!1)}function YT(t){return typeof t=="function"}var un=0,J=1,O=2,$e=3,bt=4,Tt=5,cc=6,lc=7,pt=8,Uo=9,sn=10,me=11,Bo=12,Xv=13,Mi=14,jt=15,Ii=16,pi=17,Di=18,Pc=19,c_=20,Fn=21,Od=22,uc=23,nt=24,Ut=25,l_=1;var pr=7,dc=8,fc=9,ht=10;function Ln(t){return Array.isArray(t)&&typeof t[l_]=="object"}function dn(t){return Array.isArray(t)&&t[l_]===!0}function u_(t){return(t.flags&4)!==0}function wr(t){return t.componentOffset>-1}function Uf(t){return(t.flags&1)===1}function an(t){return!!t.template}function hc(t){return(t[O]&512)!==0}function Ko(t){return(t[O]&256)===256}var Jd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function d_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ni=(()=>{let t=()=>f_;return t.ngInherit=!0,t})();function f_(t){return t.type.prototype.ngOnChanges&&(t.setInput=QT),ZT}function ZT(){let t=p_(this),e=t?.current;if(e){let n=t.previous;if(n===Ei)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QT(t,e,n,r,i){let o=this.declaredInputs[r],s=p_(t)||JT(t,{previous:Ei,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Jd(l&&l.currentValue,n,c===Ei),d_(t,e,i,n)}var h_="__ngSimpleChanges__";function p_(t){return t[h_]||null}function JT(t,e){return t[h_]=e}var ey=null;var ft=function(t,e,n){ey?.(t,e,n)},XT="svg",eS="math";function Bt(t){for(;Array.isArray(t);)t=t[un];return t}function g_(t,e){return Bt(e[t])}function St(t,e){return Bt(e[t.index])}function m_(t,e){return t.data[e]}function tS(t,e){return t[e]}function $t(t,e){let n=e[t];return Ln(n)?n:n[un]}function Bf(t){return(t[O]&128)===128}function nS(t){return dn(t[$e])}function pc(t,e){return e==null?null:t[e]}function v_(t){t[pi]=0}function $f(t){t[O]&1024||(t[O]|=1024,Bf(t)&&Fc(t))}function rS(t,e){for(;t>0;)e=e[Mi],t--;return e}function Oc(t){return!!(t[O]&9216||t[nt]?.dirty)}function Xd(t){t[sn].changeDetectionScheduler?.notify(9),t[O]&64&&(t[O]|=1024),Oc(t)&&Fc(t)}function Fc(t){t[sn].changeDetectionScheduler?.notify(0);let e=gr(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!Bf(e)));)e=gr(e)}function y_(t,e){if(Ko(t))throw new D(911,!1);t[Fn]===null&&(t[Fn]=[]),t[Fn].push(e)}function iS(t,e){if(t[Fn]===null)return;let n=t[Fn].indexOf(e);n!==-1&&t[Fn].splice(n,1)}function gr(t){let e=t[$e];return dn(e)?e[$e]:e}function oS(t){return t[lc]??=[]}function sS(t){return t.cleanup??=[]}var B={lFrame:S_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ef=!1;function aS(){return B.lFrame.elementDepthCount}function cS(){B.lFrame.elementDepthCount++}function lS(){B.lFrame.elementDepthCount--}function Hf(){return B.bindingsEnabled}function uS(){return B.skipHydrationRootTNode!==null}function dS(t){return B.skipHydrationRootTNode===t}function fS(){B.skipHydrationRootTNode=null}function ne(){return B.lFrame.lView}function qe(){return B.lFrame.tView}function Yo(t){return B.lFrame.contextLView=t,t[pt]}function Zo(t){return B.lFrame.contextLView=null,t}function rt(){let t=__();for(;t!==null&&t.type===64;)t=t.parent;return t}function __(){return B.lFrame.currentTNode}function hS(){let t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qo(t,e){let n=B.lFrame;n.currentTNode=t,n.isParent=e}function E_(){return B.lFrame.isParent}function pS(){B.lFrame.isParent=!1}function gS(){return B.lFrame.contextLView}function w_(){return ef}function ty(t){let e=ef;return ef=t,e}function C_(){let t=B.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mS(){return B.lFrame.bindingIndex}function vS(t){return B.lFrame.bindingIndex=t}function Lc(){return B.lFrame.bindingIndex++}function I_(t){let e=B.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function yS(){return B.lFrame.inI18n}function _S(t,e){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,tf(e)}function ES(){return B.lFrame.currentDirectiveIndex}function tf(t){B.lFrame.currentDirectiveIndex=t}function wS(t){let e=B.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function D_(t){B.lFrame.currentQueryIndex=t}function CS(t){let e=t[J];return e.type===2?e.declTNode:e.type===1?t[Tt]:null}function b_(t,e,n){if(n&U.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&U.Host);)if(i=CS(o),i===null||(o=o[Mi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=B.lFrame=T_();return r.currentTNode=e,r.lView=t,!0}function Wf(t){let e=T_(),n=t[J];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function T_(){let t=B.lFrame,e=t===null?null:t.child;return e===null?S_(t):e}function S_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function A_(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var M_=A_;function zf(){let t=A_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function IS(t){return(B.lFrame.contextLView=rS(t,B.lFrame.contextLView))[pt]}function Cr(){return B.lFrame.selectedIndex}function mr(t){B.lFrame.selectedIndex=t}function Vc(){let t=B.lFrame;return m_(t.tView,t.selectedIndex)}function DS(){return B.lFrame.currentNamespace}var N_=!0;function Gf(){return N_}function qf(t){N_=t}function bS(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=f_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function R_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function ec(t,e,n){x_(t,e,3,n)}function tc(t,e,n,r){(t[O]&3)===n&&x_(t,e,n,r)}function Fd(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function x_(t,e,n,r){let i=r!==void 0?t[pi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[pi]+=65536),(a<o||o==-1)&&(TS(t,n,e,c),t[pi]=(t[pi]&4294901760)+c+2),c++}function ny(t,e){ft(4,t,e);let n=K(null);try{e.call(t)}finally{K(n),ft(5,t,e)}}function TS(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[pi]>>16&&(t[O]&3)===e&&(t[O]+=16384,ny(a,o)):ny(a,o)}var vi=-1,vr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function SS(t){return t instanceof vr}function AS(t){return(t.flags&8)!==0}function MS(t){return(t.flags&16)!==0}function NS(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];RS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function k_(t){return t===3||t===4||t===6}function RS(t){return t.charCodeAt(0)===64}function $o(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ry(t,n,i,null,e[++r]):ry(t,n,i,null,null))}}return t}function ry(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Ld={},nf=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=xc(r);let i=this.injector.get(e,Ld,r);return i!==Ld||n===Ld?i:this.parentInjector.get(e,n,r)}};function P_(t){return t!==vi}function gc(t){return t&32767}function xS(t){return t>>16}function mc(t,e){let n=xS(t),r=e;for(;n>0;)r=r[Mi],n--;return r}var rf=!0;function iy(t){let e=rf;return rf=t,e}var kS=256,O_=kS-1,F_=5,PS=0,Vt={};function OS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Lo)&&(r=n[Lo]),r==null&&(r=n[Lo]=PS++);let i=r&O_,o=1<<i;e.data[t+(i>>F_)]|=o}function vc(t,e){let n=L_(t,e);if(n!==-1)return n;let r=e[J];r.firstCreatePass&&(t.injectorIndex=e.length,Vd(r.data,t),Vd(e,null),Vd(r.blueprint,null));let i=Kf(t,e),o=t.injectorIndex;if(P_(i)){let s=gc(i),a=mc(i,e),c=a[J].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Vd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function L_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Kf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=$_(i),r===null)return vi;if(n++,i=i[Mi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vi}function of(t,e,n){OS(t,e,n)}function FS(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(k_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function V_(t,e,n){if(n&U.Optional||t!==void 0)return t;Ff(e,"NodeInjector")}function j_(t,e,n,r){if(n&U.Optional&&r===void 0&&(r=null),!(n&(U.Self|U.Host))){let i=t[Uo],o=ut(void 0);try{return i?i.get(e,r,n&U.Optional):Gy(e,r,n&U.Optional)}finally{ut(o)}}return V_(r,e,n)}function U_(t,e,n,r=U.Default,i){if(t!==null){if(e[O]&2048&&!(r&U.Self)){let s=BS(t,e,n,r,Vt);if(s!==Vt)return s}let o=B_(t,e,n,r,Vt);if(o!==Vt)return o}return j_(e,n,r,i)}function B_(t,e,n,r,i){let o=jS(n);if(typeof o=="function"){if(!b_(e,t,r))return r&U.Host?V_(i,n,r):j_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&U.Optional))Ff(n);else return s}finally{M_()}}else if(typeof o=="number"){let s=null,a=L_(t,e),c=vi,l=r&U.Host?e[jt][Tt]:null;for((a===-1||r&U.SkipSelf)&&(c=a===-1?Kf(t,e):e[a+8],c===vi||!sy(r,!1)?a=-1:(s=e[J],a=gc(c),e=mc(c,e)));a!==-1;){let u=e[J];if(oy(o,a,u.data)){let d=LS(a,e,n,s,r,l);if(d!==Vt)return d}c=e[a+8],c!==vi&&sy(r,e[J].data[a+8]===l)&&oy(o,a,e)?(s=u,a=gc(c),e=mc(c,e)):a=-1}}return i}function LS(t,e,n,r,i,o){let s=e[J],a=s.data[t+8],c=r==null?wr(a)&&rf:r!=s&&(a.type&3)!==0,l=i&U.Host&&o===a,u=VS(a,s,n,c,l);return u!==null?yc(e,s,u,a):Vt}function VS(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let y=s[h];if(h<c&&n===y||h>=c&&y.type===n)return h}if(i){let h=s[c];if(h&&an(h)&&h.type===n)return c}return null}function yc(t,e,n,r){let i=t[n],o=e.data;if(SS(i)){let s=i;s.resolving&&bT(DT(o[n]));let a=iy(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ut(s.injectImpl):null,u=b_(t,r,U.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&bS(n,o[n],e)}finally{l!==null&&ut(l),iy(a),s.resolving=!1,M_()}}return i}function jS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Lo)?t[Lo]:void 0;return typeof e=="number"?e>=0?e&O_:US:e}function oy(t,e,n){let r=1<<t;return!!(n[e+(t>>F_)]&r)}function sy(t,e){return!(t&U.Self)&&!(t&U.Host&&e)}var fr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return U_(this._tNode,this._lView,e,xc(r),n)}};function US(){return new fr(rt(),ne())}function Ri(t){return Go(()=>{let e=t.prototype.constructor,n=e[ic]||sf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ic]||sf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function sf(t){return Uy(t)?()=>{let e=sf(Ue(t));return e&&e()}:_i(t)}function BS(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!hc(s);){let a=B_(o,s,n,r|U.Self,Vt);if(a!==Vt)return a;let c=o.parent;if(!c){let l=s[c_];if(l){let u=l.get(n,Vt,r);if(u!==Vt)return u}c=$_(s),s=s[Mi]}o=c}return i}function $_(t){let e=t[J],n=e.type;return n===2?e.declTNode:n===1?t[Tt]:null}function Yf(t){return FS(rt(),t)}function ay(t,e=null,n=null,r){let i=H_(t,e,n,r);return i.resolveInjectorInitializers(),i}function H_(t,e=null,n=null,r,i=new Set){let o=[n||dt,VT(t)];return r=r||(typeof t=="object"?void 0:Be(t)),new jo(o,e||jf(),r||null,i)}var _e=class t{static THROW_IF_NOT_FOUND=Vo;static NULL=new ac;static create(e,n){if(Array.isArray(e))return ay({name:""},n,e,"");{let r=e.name??"";return ay({name:r},e.parent,e.providers,r)}}static \u0275prov=S({token:t,providedIn:"any",factory:()=>k(Zy)});static __NG_ELEMENT_ID__=-1};var $S=new T("");$S.__NG_ELEMENT_ID__=t=>{let e=rt();if(e===null)throw new D(204,!1);if(e.type&2)return e.value;if(t&U.Optional)return null;throw new D(204,!1)};var W_=!1,Jo=(()=>{class t{static __NG_ELEMENT_ID__=HS;static __NG_ENV_ID__=n=>n}return t})(),af=class extends Jo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return y_(this._lView,e),()=>iS(this._lView,e)}};function HS(){return new af(ne())}var bi=class{},jc=new T("",{providedIn:"root",factory:()=>!1});var z_=new T(""),G_=new T(""),fn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Me(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}return t})(),Uc=(()=>{class t{internalPendingTasks=_(fn);scheduler=_(bi);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(n))}}run(n){return p(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}return t})(),cf=class extends pe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,s_()&&(this.destroyRef=_(Jo,{optional:!0})??void 0,this.pendingTasks=_(fn,{optional:!0})??void 0)}emit(e){let n=K(null);try{super.next(e)}finally{K(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof de&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},fe=cf;function _c(...t){}function q_(t){let e,n;function r(){t=_c;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function cy(t){return queueMicrotask(()=>t()),()=>{t=_c}}var Zf="isAngularZone",Ec=Zf+"_ID",WS=0,te=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new fe(!1);onMicrotaskEmpty=new fe(!1);onStable=new fe(!1);onError=new fe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=W_}=e;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,qS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Zf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zS,_c,_c);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},zS={};function Qf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function GS(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){q_(()=>{t.callbackScheduled=!1,lf(t),t.isCheckStableRunning=!0,Qf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),lf(t)}function qS(t){let e=()=>{GS(t)},n=WS++;t._inner=t._inner.fork({name:"angular",properties:{[Zf]:!0,[Ec]:n,[Ec+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(KS(c))return r.invokeTask(o,s,a,c);try{return ly(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),uy(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return ly(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!YS(c)&&e(),uy(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,lf(t),Qf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function lf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function ly(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function uy(t){t._nesting--,Qf(t)}var uf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new fe;onMicrotaskEmpty=new fe;onStable=new fe;onError=new fe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function KS(t){return K_(t,"__ignore_ng_zone__")}function YS(t){return K_(t,"__scheduler_tick__")}function K_(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Vn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ZS=new T("",{providedIn:"root",factory:()=>{let t=_(te),e=_(Vn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function dy(t,e){return Vy(t,e)}function QS(t){return Vy(Ly,t)}var Y_=(dy.required=QS,dy);function JS(){return Bc(rt(),ne())}function Bc(t,e){return new zt(St(t,e))}var zt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=JS}return t})();var fy=new Set;function xi(t){fy.has(t)||(fy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function XS(t){return typeof t=="function"&&t[Je]!==void 0}function ki(t,e){xi("NgSignals");let n=wv(t),r=n[Je];return e?.equal&&(r.equal=e.equal),n.set=i=>Ia(r,i),n.update=i=>Cv(r,i),n.asReadonly=eA.bind(n),n}function eA(){let t=this[Je];if(t.readonlyFn===void 0){let e=()=>this();e[Je]=t,t.readonlyFn=e}return t.readonlyFn}function Z_(t){return XS(t)&&typeof t.set=="function"}function Q_(t){return(t.flags&128)===128}var J_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(J_||{}),X_=new Map,tA=0;function nA(){return tA++}function rA(t){X_.set(t[Pc],t)}function df(t){X_.delete(t[Pc])}var hy="__ngContext__";function Pi(t,e){Ln(e)?(t[hy]=e[Pc],rA(e)):t[hy]=e}function eE(t){return nE(t[Bo])}function tE(t){return nE(t[bt])}function nE(t){for(;t!==null&&!dn(t);)t=t[bt];return t}var ff;function rE(t){ff=t}function iA(){if(ff!==void 0)return ff;if(typeof document<"u")return document;throw new D(210,!1)}var Jf=new T("",{providedIn:"root",factory:()=>oA}),oA="ng",Xf=new T(""),hn=new T("",{providedIn:"platform",factory:()=>"unknown"});var eh=new T("",{providedIn:"root",factory:()=>iA().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sA="h",aA="b";var iE=!1,cA=new T("",{providedIn:"root",factory:()=>iE});var oE=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(oE||{}),$c=new T("");var lA=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=S({token:t,providedIn:"root",factory:()=>new t})}return t})();var uA=()=>null;function sE(t,e,n=!1){return uA(t,e,n)}function aE(t,e){let n=t.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];D_(o),a.contentQueries(2,e[s],s)}}}finally{K(r)}}}function hf(t,e,n){D_(0);let r=K(null);try{e(t,n)}finally{K(r)}}function cE(t,e,n){if(u_(e)){let r=K(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{K(r)}}}var Ht=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Ht||{});var Za;function dA(){if(Za===void 0&&(Za=null,zd.trustedTypes))try{Za=zd.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Za}function py(t){return dA()?.createScriptURL(t)||t}var wc=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fy})`}};function Xo(t){return t instanceof wc?t.changingThisBreaksApplicationSecurity:t}function th(t,e){let n=fA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Fy})`)}return n===e}function fA(t){return t instanceof wc&&t.getTypeName()||null}var hA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lE(t){return t=String(t),t.match(hA)?t:"unsafe:"+t}var Hc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Hc||{});function es(t){let e=dE();return e?e.sanitize(Hc.URL,t)||"":th(t,"URL")?Xo(t):lE(yi(t))}function pA(t){let e=dE();if(e)return py(e.sanitize(Hc.RESOURCE_URL,t)||"");if(th(t,"ResourceURL"))return py(Xo(t));throw new D(904,!1)}function gA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?pA:es}function uE(t,e,n){return gA(e,n)(t)}function dE(){let t=ne();return t&&t[sn].sanitizer}function fE(t){return t instanceof Function?t():t}function mA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var hE="ng-template";function vA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&mA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(nh(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function nh(t){return t.type===4&&t.value!==hE}function yA(t,e,n){let r=t.type===4&&!n?hE:t.value;return e===r}function _A(t,e,n){let r=4,i=t.attrs,o=i!==null?CA(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Dt(r)&&!Dt(c))return!1;if(s&&Dt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!yA(t,c,n)||c===""&&e.length===1){if(Dt(r))return!1;s=!0}}else if(r&8){if(i===null||!vA(t,i,c,n)){if(Dt(r))return!1;s=!0}}else{let l=e[++a],u=EA(c,i,nh(t),n);if(u===-1){if(Dt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(Dt(r))return!1;s=!0}}}}return Dt(r)||s}function Dt(t){return(t&1)===0}function EA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return IA(e,t)}function wA(t,e,n=!1){for(let r=0;r<e.length;r++)if(_A(t,e[r],n))return!0;return!1}function CA(t){for(let e=0;e<t.length;e++){let n=t[e];if(k_(n))return e}return t.length}function IA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function gy(t,e){return t?":not("+e.trim()+")":e}function DA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dt(s)&&(e+=gy(o,i),i=""),r=s,o=o||!Dt(r);n++}return i!==""&&(e+=gy(o,i)),e}function bA(t){return t.map(DA).join(",")}function TA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Dt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var At={};function SA(t,e){return t.createText(e)}function AA(t,e,n){t.setValue(e,n)}function pE(t,e,n){return t.createElement(e,n)}function Cc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function gE(t,e,n){t.appendChild(e,n)}function my(t,e,n,r,i){r!==null?Cc(t,e,n,r,i):gE(t,e,n)}function MA(t,e,n){t.removeChild(null,e,n)}function NA(t,e,n){t.setAttribute(e,"style",n)}function RA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&NS(t,e,r),i!==null&&RA(t,e,i),o!==null&&NA(t,e,o)}function I(t=1){vE(qe(),ne(),Cr()+t,!1)}function vE(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&ec(e,o,n)}else{let o=t.preOrderHooks;o!==null&&tc(e,o,0,n)}mr(n)}var jn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(jn||{});function yE(t,e,n,r,i,o){let s=K(null);try{let a=null;i&jn.SignalBased&&(a=e[r][Je]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&jn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):d_(e,a,r,o)}finally{K(s)}}function rh(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[un]=i,d[O]=r|4|128|8|64|1024,(l!==null||t&&t[O]&2048)&&(d[O]|=2048),v_(d),d[$e]=d[Mi]=t,d[pt]=n,d[sn]=s||t&&t[sn],d[me]=a||t&&t[me],d[Uo]=c||t&&t[Uo]||null,d[Tt]=o,d[Pc]=nA(),d[cc]=u,d[c_]=l,d[jt]=e.type==2?t[jt]:d,d}function _E(t,e,n,r,i){let o=Cr(),s=r&2;try{mr(-1),s&&e.length>Ut&&vE(t,e,Ut,!1),ft(s?2:0,i),n(r,i)}finally{mr(o),ft(s?3:1,i)}}function EE(t,e,n){Hf()&&(Pi(St(n,e),e),wE(t,e,n))}function wE(t,e,n){jA(t,e,n),(n.flags&64)===64&&UA(t,e,n)}function CE(t,e,n=St){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function xA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ih(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ih(t,e,n,r,i,o,s,a,c,l,u){let d=Ut+r,f=d+i,h=kA(d,f),y=typeof l=="function"?l():l;return h[J]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:u}}function kA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:At);return n}function PA(t,e,n,r){let o=r.get(cA,iE)||n===Ht.ShadowDom,s=t.selectRootElement(e,o);return OA(s),s}function OA(t){FA(t)}var FA=()=>null;function LA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function oh(t,e,n,r,i,o,s,a){let c=St(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(ah(t,n,u,r,i),wr(e)&&VA(n,e.index)):e.type&3?(r=LA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function VA(t,e){let n=$t(e,t);n[O]&16||(n[O]|=64)}function jA(t,e,n){let r=n.directiveStart,i=n.directiveEnd;wr(n)&&$A(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||vc(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=yc(e,t,s,n);if(Pi(c,e),o!==null&&zA(e,s-r,c,a,n,o),an(a)){let l=$t(n.index,e);l[pt]=yc(e,t,s,n)}}}function UA(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=ES();try{mr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];tf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&BA(c,l)}}finally{mr(-1),tf(s)}}function BA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function IE(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];wA(e,o.selectors,!1)&&(r??=[],an(o)?r.unshift(o):r.push(o))}return r}function DE(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function $A(t,e,n){let r=St(e,t),i=xA(n),o=t[sn].rendererFactory,s=sh(t,rh(t,i,null,DE(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function HA(t,e,n,r,i,o){let s=St(t,e);WA(e[me],s,o,t.value,n,r,i)}function WA(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?yi(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function zA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];yE(r,n,c,l,u,d)}}function bE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function sh(t,e){return t[Bo]?t[Xv][bt]=e:t[Bo]=e,t[Xv]=e,e}function TE(t,e){let n=t[Uo],r=n?n.get(Vn,null):null;r&&r.handleError(e)}function ah(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];yE(u,l,r,a,c,i)}}function GA(t,e){let n=$t(e,t),r=n[J];qA(r,n);let i=n[un];i!==null&&n[cc]===null&&(n[cc]=sE(i,n[Uo])),ch(r,n,n[pt])}function qA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ch(t,e,n){Wf(e);try{let r=t.viewQuery;r!==null&&hf(1,r,n);let i=t.template;i!==null&&_E(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Di]?.finishViewCreation(t),t.staticContentQueries&&aE(t,e),t.staticViewQueries&&hf(2,t.viewQuery,n);let o=t.components;o!==null&&KA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,zf()}}function KA(t,e){for(let n=0;n<e.length;n++)GA(t,e[n])}var Wt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Wt||{}),YA;function lh(t,e){return YA(t,e)}function SE(t){return(t.flags&32)===32}function gi(t,e,n,r,i){if(r!=null){let o,s=!1;dn(r)?o=r:Ln(r)&&(s=!0,r=r[un]);let a=Bt(r);t===0&&n!==null?i==null?gE(e,n,a):Cc(e,n,a,i||null,!0):t===1&&n!==null?Cc(e,n,a,i||null,!0):t===2?MA(e,a,s):t===3&&e.destroyNode(a),o!=null&&cM(e,t,o,n,i)}}function ZA(t,e){AE(t,e),e[un]=null,e[Tt]=null}function QA(t,e,n,r,i,o){r[un]=i,r[Tt]=e,Wc(t,r,n,1,i,o)}function AE(t,e){e[sn].changeDetectionScheduler?.notify(10),Wc(t,e,e[me],2,null,null)}function JA(t){let e=t[Bo];if(!e)return jd(t[J],t);for(;e;){let n=null;if(Ln(e))n=e[Bo];else{let r=e[ht];r&&(n=r)}if(!n){for(;e&&!e[bt]&&e!==t;)Ln(e)&&jd(e[J],e),e=e[$e];e===null&&(e=t),Ln(e)&&jd(e[J],e),n=e&&e[bt]}e=n}}function XA(t,e,n,r){let i=ht+r,o=n.length;r>0&&(n[i-1][bt]=e),r<o-ht?(e[bt]=n[i],Yy(n,ht+r,e)):(n.push(e),e[bt]=null),e[$e]=n;let s=e[Ii];s!==null&&n!==s&&ME(s,e);let a=e[Di];a!==null&&a.insertView(t),Xd(e),e[O]|=128}function ME(t,e){let n=t[fc],r=e[$e];if(Ln(r))t[O]|=2;else{let i=r[$e][jt];e[jt]!==i&&(t[O]|=2)}n===null?t[fc]=[e]:n.push(e)}function uh(t,e){let n=t[fc],r=n.indexOf(e);n.splice(r,1)}function pf(t,e){if(t.length<=ht)return;let n=ht+e,r=t[n];if(r){let i=r[Ii];i!==null&&i!==t&&uh(i,r),e>0&&(t[n-1][bt]=r[bt]);let o=sc(t,ht+e);ZA(r[J],r);let s=o[Di];s!==null&&s.detachView(o[J]),r[$e]=null,r[bt]=null,r[O]&=-129}return r}function NE(t,e){if(Ko(e))return;let n=e[me];n.destroyNode&&Wc(t,e,n,3,null,null),JA(e)}function jd(t,e){if(Ko(e))return;let n=K(null);try{e[O]&=-129,e[O]|=256,e[nt]&&dd(e[nt]),tM(t,e),eM(t,e),e[J].type===1&&e[me].destroy();let r=e[Ii];if(r!==null&&dn(e[$e])){r!==e[$e]&&uh(r,e);let i=e[Di];i!==null&&i.detachView(t)}df(e)}finally{K(n)}}function eM(t,e){let n=t.cleanup,r=e[lc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[lc]=null);let i=e[Fn];if(i!==null){e[Fn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[uc];if(o!==null){e[uc]=null;for(let s of o)s.destroy()}}function tM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof vr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ft(4,a,c);try{c.call(a)}finally{ft(5,a,c)}}else{ft(4,i,o);try{o.call(i)}finally{ft(5,i,o)}}}}}function nM(t,e,n){return rM(t,e.parent,n)}function rM(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[un];if(wr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Ht.None||i===Ht.Emulated)return null}return St(r,n)}function iM(t,e,n){return sM(t,e,n)}function oM(t,e,n){return t.type&40?St(t,n):null}var sM=oM,vy;function dh(t,e,n,r){let i=nM(t,r,e),o=e[me],s=r.parent||e[Tt],a=iM(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)my(o,i,n[c],a,!1);else my(o,i,n,a,!1);vy!==void 0&&vy(o,r,e,n,i)}function Fo(t,e){if(e!==null){let n=e.type;if(n&3)return St(e,t);if(n&4)return gf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Fo(t,r);{let i=t[e.index];return dn(i)?gf(-1,i):Bt(i)}}else{if(n&128)return Fo(t,e.next);if(n&32)return lh(e,t)()||Bt(t[e.index]);{let r=RE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=gr(t[jt]);return Fo(i,r)}else return Fo(t,e.next)}}}return null}function RE(t,e){if(e!==null){let r=t[jt][Tt],i=e.projection;return r.projection[i]}return null}function gf(t,e){let n=ht+t+1;if(n<e.length){let r=e[n],i=r[J].firstChild;if(i!==null)return Fo(r,i)}return e[pr]}function fh(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Pi(Bt(a),r),n.flags|=2),!SE(n))if(c&8)fh(t,e,n.child,r,i,o,!1),gi(e,t,i,a,o);else if(c&32){let l=lh(n,r),u;for(;u=l();)gi(e,t,i,u,o);gi(e,t,i,a,o)}else c&16?aM(t,e,r,n,i,o):gi(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Wc(t,e,n,r,i,o){fh(n,r,t.firstChild,e,i,o,!1)}function aM(t,e,n,r,i,o){let s=n[jt],c=s[Tt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];gi(e,t,i,u,o)}else{let l=c,u=s[$e];Q_(r)&&(l.flags|=128),fh(t,e,l,u,i,o,!0)}}function cM(t,e,n,r,i){let o=n[pr],s=Bt(n);o!==s&&gi(e,t,r,o,i);for(let a=ht;a<n.length;a++){let c=n[a];Wc(c[J],c,t,e,r,o)}}function lM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wt.Important),t.setStyle(n,r,i,o))}}function uM(t,e,n,r){let i=K(null);try{let o=e.tView,a=t[O]&4096?4096:16,c=rh(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ii]=l;let u=t[Di];return u!==null&&(c[Di]=u.createEmbeddedView(o)),ch(o,c,n),c}finally{K(i)}}function yy(t,e){return!e||e.firstChild===null||Q_(t)}function dM(t,e,n,r=!0){let i=e[J];if(XA(i,e,t,n),r){let s=gf(n,t),a=e[me],c=a.parentNode(t[pr]);c!==null&&QA(i,t[Tt],a,e,c,s)}let o=e[cc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ic(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Bt(o)),dn(o)&&fM(o,r);let s=n.type;if(s&8)Ic(t,e,n.child,r);else if(s&32){let a=lh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=RE(e,n);if(Array.isArray(a))r.push(...a);else{let c=gr(e[jt]);Ic(c[J],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function fM(t,e){for(let n=ht;n<t.length;n++){let r=t[n],i=r[J].firstChild;i!==null&&Ic(r[J],r,i,e)}t[pr]!==t[un]&&e.push(t[pr])}var xE=[];function hM(t){return t[nt]??pM(t)}function pM(t){let e=xE.pop()??Object.create(mM);return e.lView=t,e}function gM(t){t.lView[nt]!==t&&(t.lView=null,xE.push(t))}var mM=$(w({},Ro),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Fc(t.lView)},consumerOnSignalRead(){this.lView[nt]=this}});function vM(t){let e=t[nt]??Object.create(yM);return e.lView=t,e}var yM=$(w({},Ro),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=gr(t.lView);for(;e&&!kE(e[J]);)e=gr(e);e&&$f(e)},consumerOnSignalRead(){this.lView[nt]=this}});function kE(t){return t.type!==2}function PE(t){if(t[uc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[uc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[O]&8192)}}var _M=100;function OE(t,e=!0,n=0){let i=t[sn].rendererFactory,o=!1;o||i.begin?.();try{EM(t,n)}catch(s){throw e&&TE(t,s),s}finally{o||i.end?.()}}function EM(t,e){let n=w_();try{ty(!0),mf(t,e);let r=0;for(;Oc(t);){if(r===_M)throw new D(103,!1);r++,mf(t,1)}}finally{ty(n)}}function wM(t,e,n,r){if(Ko(e))return;let i=e[O],o=!1,s=!1;Wf(e);let a=!0,c=null,l=null;o||(kE(t)?(l=hM(e),c=Ea(l)):uv()===null?(a=!1,l=vM(e),c=Ea(l)):e[nt]&&(dd(e[nt]),e[nt]=null));try{v_(e),vS(t.bindingStartIndex),n!==null&&_E(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&ec(e,h,null)}else{let h=t.preOrderHooks;h!==null&&tc(e,h,0,null),Fd(e,0)}if(s||CM(e),PE(e),FE(e,0),t.contentQueries!==null&&aE(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&ec(e,h)}else{let h=t.contentHooks;h!==null&&tc(e,h,1),Fd(e,1)}DM(t,e);let d=t.components;d!==null&&VE(e,d,0);let f=t.viewQuery;if(f!==null&&hf(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&ec(e,h)}else{let h=t.viewHooks;h!==null&&tc(e,h,2),Fd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Od]){for(let h of e[Od])h();e[Od]=null}o||(e[O]&=-73)}catch(u){throw o||Fc(e),u}finally{l!==null&&(ld(l,c),a&&gM(l)),zf()}}function FE(t,e){for(let n=eE(t);n!==null;n=tE(n))for(let r=ht;r<n.length;r++){let i=n[r];LE(i,e)}}function CM(t){for(let e=eE(t);e!==null;e=tE(e)){if(!(e[O]&2))continue;let n=e[fc];for(let r=0;r<n.length;r++){let i=n[r];$f(i)}}}function IM(t,e,n){let r=$t(e,t);LE(r,n)}function LE(t,e){Bf(t)&&mf(t,e)}function mf(t,e){let r=t[J],i=t[O],o=t[nt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ud(o)),s||=!1,o&&(o.dirty=!1),t[O]&=-9217,s)wM(r,t,r.template,t[pt]);else if(i&8192){PE(t),FE(t,1);let a=r.components;a!==null&&VE(t,a,1)}}function VE(t,e,n){for(let r=0;r<e.length;r++)IM(t,e[r],n)}function DM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)mr(~i);else{let o=i,s=n[++r],a=n[++r];_S(s,o);let c=e[o];ft(24,c),a(2,c),ft(25,c)}}}finally{mr(-1)}}function hh(t,e){let n=w_()?64:1088;for(t[sn].changeDetectionScheduler?.notify(e);t;){t[O]|=n;let r=gr(t);if(hc(t)&&!r)return t;t=r}return null}var yr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[J];return Ic(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[pt]}get dirty(){return!!(this._lView[O]&9280)||!!this._lView[nt]?.dirty}set context(e){this._lView[pt]=e}get destroyed(){return Ko(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[$e];if(dn(e)){let n=e[dc],r=n?n.indexOf(this):-1;r>-1&&(pf(e,r),sc(n,r))}this._attachedToViewContainer=!1}NE(this._lView[J],this._lView)}onDestroy(e){y_(this._lView,e)}markForCheck(){hh(this._cdRefInjectingView||this._lView,4)}markForRefresh(){$f(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){Xd(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,OE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=hc(this._lView),n=this._lView[Ii];n!==null&&!e&&uh(n,this._lView),AE(this._lView[J],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e;let n=hc(this._lView),r=this._lView[Ii];r!==null&&!n&&ME(r,this._lView),Xd(this._lView)}},zc=(()=>{class t{static __NG_ELEMENT_ID__=SM}return t})(),bM=zc,TM=class extends bM{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=uM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new yr(i)}};function SM(){return jE(rt(),ne())}function jE(t,e){return t.type&4?new TM(e,t,Bc(t,e)):null}function ph(t,e,n,r,i){let o=t.data[e];if(o===null)o=AM(t,e,n,r,i),yS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=hS();o.injectorIndex=s===null?-1:s.injectorIndex}return Qo(o,!0),o}function AM(t,e,n,r,i){let o=__(),s=E_(),a=s?o:o&&o.parent,c=t.data[e]=NM(t,a,n,e,r,i);return MM(t,c,o,s),c}function MM(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function NM(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return uS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var s3=new RegExp(`^(\\d+)*(${aA}|${sA})*(.*)`);var RM=()=>null;function _y(t,e){return RM(t,e)}var vf=class{},Dc=class{},yf=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Be(e)}.`)}},Ti=class{static NULL=new yf},Si=class{},pn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>xM()}return t})();function xM(){let t=ne(),e=rt(),n=$t(e.index,t);return(Ln(n)?n:t)[me]}var kM=(()=>{class t{static \u0275prov=S({token:t,providedIn:"root",factory:()=>null})}return t})();function Ey(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=qv(i,a);else if(o==2){let c=a,l=e[++s];r=qv(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function x(t,e=U.Default){let n=ne();if(n===null)return k(t,e);let r=rt();return U_(r,n,Ue(t),e)}function UE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BE(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let[a,c]=OM(t,n,s);LM(t,e,n,a,o,c)}o!==null&&r!==null&&PM(n,r,o)}function PM(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new D(-301,!1);r.push(e[i],o)}}function OM(t,e,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),an(o)&&(r.push(o),FM(t,e,r.length-1));return wr(e)?r.push(...n.slice(1)):r.push(...n),[r,i]}function FM(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function LM(t,e,n,r,i,o){for(let l=0;l<r.length;l++)of(vc(n,e),t,r[l].type);WM(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=UE(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=$o(n.mergedAttrs,u.hostAttrs),UM(t,n,e,c,u),HM(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}VM(t,n,o)}function VM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,y=f?f.outputs:null;c=wy(0,d.inputs,u,c,h),l=wy(1,d.outputs,u,l,y);let E=c!==null&&s!==null&&!nh(e)?jM(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function wy(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=jn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Cy(r,n,l,a,c):Cy(r,n,l,a)}return r}function Cy(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function jM(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function UM(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=_i(i.type,!0)),s=new vr(o,an(i),x);t.blueprint[r]=s,n[r]=s,BM(t,e,r,UE(t,n,i.hostVars,At),i)}function BM(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;$M(s)!=a&&s.push(a),s.push(n,r,o)}}function $M(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function HM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;an(e)&&(n[""]=t)}}function WM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $E(t,e,n,r,i,o,s,a){let c=e.consts,l=pc(c,s),u=ph(e,t,2,r,l);return o&&BE(e,n,u,pc(c,a),i),u.mergedAttrs=$o(u.mergedAttrs,u.attrs),u.attrs!==null&&Ey(u,u.attrs,!1),u.mergedAttrs!==null&&Ey(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function HE(t,e){R_(t,e),u_(e)&&t.queries.elementEnd(e)}var bc=class extends Ti{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=hr(e);return new Ho(n,this.ngModule)}};function Iy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:jn.None;e?n.push({propName:s,templateName:r,isSignal:(a&jn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function zM(t,e,n){let r=e instanceof Pe?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new nf(n,r):n}function GM(t){let e=t.get(Si,null);if(e===null)throw new D(407,!1);let n=t.get(kM,null),r=t.get(bi,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function qM(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return pE(e,n,n==="svg"?XT:n==="math"?eS:null)}var Ho=class extends Dc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Iy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Iy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=bA(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){let o=K(null);try{let s=this.componentDef,a=r?["ng-version","19.1.6"]:TA(this.componentDef.selectors[0]),c=ih(0,null,null,1,0,null,null,null,null,[a],null),l=zM(s,i||this.ngModule,e),u=GM(l),d=u.rendererFactory.createRenderer(null,s),f=r?PA(d,r,s.encapsulation,l):qM(s,d),h=rh(null,c,null,512|DE(s),null,null,u,d,l,null,sE(f,l,!0));h[Ut]=f,Wf(h);let y=null;try{let E=$E(Ut,c,h,"#host",()=>[this.componentDef],!0,0);f&&(mE(d,f,E),Pi(f,h)),wE(c,h,E),cE(c,E,h),HE(c,E),n!==void 0&&KM(E,this.ngContentSelectors,n),y=$t(E.index,h),h[pt]=y[pt],ch(c,h,null)}catch(E){throw y!==null&&df(y),df(h),E}finally{zf()}return new _f(this.componentType,h)}finally{K(o)}}},_f=class extends vf{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=m_(n[J],Ut),this.location=Bc(this._tNode,n),this.instance=$t(this._tNode.index,n)[pt],this.hostView=this.changeDetectorRef=new yr(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ah(o[J],o,i,e,n),this.previousInputValues.set(e,n);let s=$t(this._tNode.index,o);hh(s,1)}}get injector(){return new fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function KM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Oi=(()=>{class t{static __NG_ELEMENT_ID__=YM}return t})();function YM(){let t=rt();return QM(t,ne())}var ZM=Oi,WE=class extends ZM{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Bc(this._hostTNode,this._hostLView)}get injector(){return new fr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Kf(this._hostTNode,this._hostLView);if(P_(e)){let n=mc(e,this._hostLView),r=gc(e),i=n[J].data[r+8];return new fr(i,n)}else return new fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Dy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=_y(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,yy(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!YT(e),a;if(s)a=n;else{let y=n||{};a=y.index,r=y.injector,i=y.projectableNodes,o=y.environmentInjector||y.ngModuleRef}let c=s?e:new Ho(hr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Pe,null);E&&(o=E)}let u=hr(c.componentType??{}),d=_y(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,yy(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(nS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[$e],l=new WE(c,c[Tt],c[$e]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return dM(s,i,o,r),e.attachToViewContainerRef(),Yy(Ud(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Dy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=pf(this._lContainer,n);r&&(sc(Ud(this._lContainer),n),NE(r[J],r))}detach(e){let n=this._adjustIndex(e,-1),r=pf(this._lContainer,n);return r&&sc(Ud(this._lContainer),n)!=null?new yr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Dy(t){return t[dc]}function Ud(t){return t[dc]||(t[dc]=[])}function QM(t,e){let n,r=e[t.index];return dn(r)?n=r:(n=bE(r,e,null,t),e[t.index]=n,sh(e,n)),XM(n,e,t,r),new WE(n,t,e)}function JM(t,e){let n=t[me],r=n.createComment(""),i=St(e,t),o=n.parentNode(i);return Cc(n,o,r,n.nextSibling(i),!1),r}var XM=nN,eN=()=>!1;function tN(t,e,n){return eN(t,e,n)}function nN(t,e,n,r){if(t[pr])return;let i;n.type&8?i=Bt(r):i=JM(e,n),t[pr]=i}var Un=class{},Wo=class{};var Ef=class extends Un{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new bc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Jy(e);this._bootstrapComponents=fE(o.bootstrap),this._r3Injector=H_(e,n,[{provide:Un,useValue:this},{provide:Ti,useValue:this.componentFactoryResolver},...r],Be(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},wf=class extends Wo{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ef(this.moduleType,e,[])}};var Tc=class extends Un{injector;componentFactoryResolver=new bc(this);instance=null;constructor(e){super();let n=new jo([...e.providers,{provide:Un,useValue:this},{provide:Ti,useValue:this.componentFactoryResolver}],e.parent||jf(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function gh(t,e,n=null){return new Tc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var rN=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=n_(!1,n.type),i=r.length>0?gh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:t,providedIn:"environment",factory:()=>new t(k(Pe))})}return t})();function A(t){return Go(()=>{let e=zE(t),n=$(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===J_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(rN).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Ht.Emulated,styles:t.styles||dt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&xi("NgStandalone"),GE(n);let r=t.dependencies;return n.directiveDefs=Ty(r,!1),n.pipeDefs=Ty(r,!0),n.id=sN(n),n})}function iN(t){return hr(t)||Xy(t)}function oN(t){return t!==null}function Hn(t){return Go(()=>({type:t.type,bootstrap:t.bootstrap||dt,declarations:t.declarations||dt,imports:t.imports||dt,exports:t.exports||dt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function by(t,e){if(t==null)return Ei;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=jn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==jn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ce(t){return Go(()=>{let e=zE(t);return GE(e),e})}function zE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ei,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||dt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:by(t.inputs,e),outputs:by(t.outputs),debugInfo:null}}function GE(t){t.features?.forEach(e=>e(t))}function Ty(t,e){if(!t)return null;let n=e?e_:iN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(oN)}function sN(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function aN(t){return Object.getPrototypeOf(t.prototype).constructor}function gn(t){let e=aN(t.type),n=!0,r=[t];for(;e;){let i;if(an(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new D(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Qa(t.inputs),s.inputTransforms=Qa(t.inputTransforms),s.declaredInputs=Qa(t.declaredInputs),s.outputs=Qa(t.outputs);let a=i.hostBindings;a&&fN(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&uN(t,c),l&&dN(t,l),cN(t,i),mT(t.outputs,i.outputs),an(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===gn&&(n=!1)}}e=Object.getPrototypeOf(e)}lN(r)}function cN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function lN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$o(i.hostAttrs,n=$o(n,i.hostAttrs))}}function Qa(t){return t===Ei?{}:t===dt?[]:t}function uN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function dN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function fN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function mh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}function qE(t){return vh(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function hN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function vh(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function KE(t,e,n){return t[e]=n}function pN(t,e){return t[e]}function Bn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function gN(t,e,n,r){let i=Bn(t,e,n);return Bn(t,e+1,r)||i}function mN(t,e,n,r,i,o,s,a,c){let l=e.consts,u=ph(e,t,4,s||null,a||null);Hf()&&BE(e,n,u,pc(l,c),IE),u.mergedAttrs=$o(u.mergedAttrs,u.attrs),R_(e,u);let d=u.tView=ih(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function vN(t,e,n,r,i,o,s,a,c,l){let u=n+Ut,d=e.firstCreatePass?mN(u,e,t,r,i,o,s,a,c):e.data[u];Qo(d,!1);let f=yN(e,t,d,n);Gf()&&dh(e,t,f,d),Pi(f,t);let h=bE(f,t,f,d);return t[u]=h,sh(t,h),tN(h,d,t),Uf(d)&&EE(e,t,d),c!=null&&CE(t,d,l),d}function Ee(t,e,n,r,i,o,s,a){let c=ne(),l=qe(),u=pc(l.consts,o);return vN(c,l,t,e,n,r,i,u,s,a),Ee}var yN=_N;function _N(t,e,n,r){return qf(!0),e[me].createComment("")}var yh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var YE=new T("");function Ir(t){return!!t&&typeof t.then=="function"}function ZE(t){return!!t&&typeof t.subscribe=="function"}var QE=new T("");var JE=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=_(QE,{optional:!0})??[];injector=_(_e);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ne(this.injector,i);if(Ir(o))n.push(o);else if(ZE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),EN=(()=>{class t{static \u0275prov=S({token:t,providedIn:"root",factory:()=>new Cf})}return t})(),Cf=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Gc=new T("");function wN(){Ev(()=>{throw new D(600,!1)})}function CN(t){return t.isBoundToModule}var IN=10;var cn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(ZS);afterRenderManager=_(lA);zonelessEnabled=_(jc);rootEffectScheduler=_(EN);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new pe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=_(fn).hasPendingTasks.pipe(L(n=>!n));constructor(){_($c,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=_(Pe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Dc;if(!this._injector.get(JE).done){let f=!i&&t_(n),h=!1;throw new D(405,h)}let s;i?s=n:s=this._injector.get(Ti).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=CN(s)?void 0:this._injector.get(Un),c=r||s.selector,l=s.create(_e.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(YE,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),nc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(oE.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new D(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,K(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Si,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<IN;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)DN(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Oc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;nc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Gc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>nc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DN(t,e,n,r){if(!n&&!Oc(t))return;OE(t,e,n&&!r?0:1)}function qc(t,e,n,r){let i=ne(),o=Lc();if(Bn(i,o,e)){let s=qe(),a=Vc();HA(a,i,t,e,n,r)}return qc}function XE(t,e,n,r){return Bn(t,Lc(),n)?e+yi(n)+r:At}function bN(t,e,n,r,i,o){let s=mS(),a=gN(t,s,n,i);return I_(2),a?e+yi(n)+r+yi(i)+o:At}function Ja(t,e){return t<<17|e<<2}function _r(t){return t>>17&32767}function TN(t){return(t&2)==2}function SN(t,e){return t&131071|e<<17}function If(t){return t|2}function Ai(t){return(t&131068)>>2}function Bd(t,e){return t&-131069|e<<2}function AN(t){return(t&1)===1}function Df(t){return t|1}function MN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=_r(s),c=Ai(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||qo(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=_r(t[a+1]);t[r+1]=Ja(f,a),f!==0&&(t[f+1]=Bd(t[f+1],r)),t[a+1]=SN(t[a+1],r)}else t[r+1]=Ja(a,0),a!==0&&(t[a+1]=Bd(t[a+1],r)),a=r;else t[r+1]=Ja(c,0),a===0?a=r:t[c+1]=Bd(t[c+1],r),c=r;l&&(t[r+1]=If(t[r+1])),Sy(t,u,r,!0),Sy(t,u,r,!1),NN(e,u,t,r,o),s=Ja(a,c),o?e.classBindings=s:e.styleBindings=s}function NN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&qo(o,e)>=0&&(n[r+1]=Df(n[r+1]))}function Sy(t,e,n,r){let i=t[n+1],o=e===null,s=r?_r(i):Ai(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];RN(c,e)&&(a=!0,t[s+1]=r?Df(l):If(l)),s=r?_r(l):Ai(l)}a&&(t[n+1]=r?If(i):Df(i))}function RN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?qo(t,e)>=0:!1}function W(t,e,n){let r=ne(),i=Lc();if(Bn(r,i,e)){let o=qe(),s=Vc();oh(o,s,r,t,e,r[me],n,!1)}return W}function Ay(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ah(t,n,o[s],s,r)}function Kc(t,e){return xN(t,e,null,!0),Kc}function xN(t,e,n,r){let i=ne(),o=qe(),s=I_(2);if(o.firstUpdatePass&&PN(o,t,s,r),e!==At&&Bn(i,s,e)){let a=o.data[Cr()];jN(o,a,i,i[me],t,i[s+1]=UN(e,n),r,s)}}function kN(t,e){return e>=t.expandoStartIndex}function PN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Cr()],s=kN(t,n);BN(o,r)&&e===null&&!s&&(e=!1),e=ON(i,o,e,r),MN(i,o,e,n,s,r)}}function ON(t,e,n,r){let i=wS(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=$d(null,t,e,n,r),n=zo(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=$d(i,t,e,n,r),o===null){let c=FN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=$d(null,t,e,c[1],r),c=zo(c,e.attrs,r),LN(t,e,r,c))}else o=VN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function FN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ai(r)!==0)return t[_r(r)]}function LN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[_r(i)]=r}function VN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=zo(r,s,n)}return zo(r,e.attrs,n)}function $d(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=zo(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function zo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),FT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function jN(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=AN(l)?My(c,e,n,i,Ai(l),s):void 0;if(!Sc(u)){Sc(o)||TN(l)&&(o=My(c,null,n,i,a,s));let d=g_(Cr(),n);lM(r,s,d,i,o)}}function My(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===At&&(f=d?dt:void 0);let h=d?kd(f,r):u===r?f:void 0;if(l&&!Sc(h)&&(h=kd(c,r)),Sc(h)&&(a=h,s))return a;let y=t[i+1];i=s?_r(y):Ai(y)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=kd(c,r))}return a}function Sc(t){return t!==void 0}function UN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Be(Xo(t)))),t}function BN(t,e){return(t.flags&(e?8:16))!==0}function g(t,e,n,r){let i=ne(),o=qe(),s=Ut+t,a=i[me],c=o.firstCreatePass?$E(s,o,i,e,IE,Hf(),n,r):o.data[s],l=$N(o,i,c,a,e,t);i[s]=l;let u=Uf(c);return Qo(c,!0),mE(a,l,c),!SE(c)&&Gf()&&dh(o,i,l,c),aS()===0&&Pi(l,i),cS(),u&&(EE(o,i,c),cE(o,c,i)),r!==null&&CE(i,c),g}function m(){let t=rt();E_()?pS():(t=t.parent,Qo(t,!1));let e=t;dS(e)&&fS(),lS();let n=qe();return n.firstCreatePass&&HE(n,e),e.classesWithoutHost!=null&&AS(e)&&Ay(n,e,ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&MS(e)&&Ay(n,e,ne(),e.stylesWithoutHost,!1),m}function M(t,e,n,r){return g(t,e,n,r),m(),M}var $N=(t,e,n,r,i,o)=>(qf(!0),pE(r,i,DS()));function Yc(){return ne()}var Ac="en-US";var HN=Ac;function WN(t){typeof t=="string"&&(HN=t.toLowerCase().replace(/_/g,"-"))}var zN=(t,e,n)=>{};function re(t,e,n,r){let i=ne(),o=qe(),s=rt();return ew(o,i,i[me],s,t,e,r),re}function GN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[lc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function ew(t,e,n,r,i,o,s){let a=Uf(r),l=t.firstCreatePass&&sS(t),u=e[pt],d=oS(e),f=!0;if(r.type&3||s){let E=St(r,e),b=s?s(E):E,F=d.length,ke=s?je=>s(Bt(je[r.index])):r.index,q=null;if(!s&&a&&(q=GN(t,e,i,r.index)),q!==null){let je=q.__ngLastListenerFn__||q;je.__ngNextListenerFn__=o,q.__ngLastListenerFn__=o,f=!1}else{o=Ry(r,e,u,o),zN(E,i,o);let je=n.listen(b,i,o);d.push(o,je),l&&l.push(i,ke,F,F+1)}}else o=Ry(r,e,u,o);let h=r.outputs,y;if(f&&h!==null&&(y=h[i])){let E=y.length;if(E)for(let b=0;b<E;b+=2){let F=y[b],ke=y[b+1],Xr=e[F][ke].subscribe(o),An=d.length;d.push(o,Xr),l&&l.push(i,r.index,An,-(An+1))}}}function Ny(t,e,n,r){let i=K(null);try{return ft(6,e,n),n(r)!==!1}catch(o){return TE(t,o),!1}finally{ft(7,e,n),K(i)}}function Ry(t,e,n,r){return function i(o){if(o===Function)return r;let s=wr(t)?$t(t.index,e):e;hh(s,5);let a=Ny(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=Ny(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Mt(t=1){return IS(t)}function mn(t,e,n){return tw(t,"",e,"",n),mn}function tw(t,e,n,r,i){let o=ne(),s=XE(o,e,n,r);if(s!==At){let a=qe(),c=Vc();oh(a,c,o,t,s,o[me],i,!1)}return tw}function Fi(t){let e=gS();return tS(e,Ut+t)}function v(t,e=""){let n=ne(),r=qe(),i=t+Ut,o=r.firstCreatePass?ph(r,i,1,e,null):r.data[i],s=qN(r,n,o,e,t);n[i]=s,Gf()&&dh(r,n,s,o),Qo(o,!1)}var qN=(t,e,n,r,i)=>(qf(!0),SA(e[me],r));function Ie(t){return De("",t,""),Ie}function De(t,e,n){let r=ne(),i=XE(r,t,e,n);return i!==At&&nw(r,Cr(),i),De}function Zc(t,e,n,r,i){let o=ne(),s=bN(o,t,e,n,r,i);return s!==At&&nw(o,Cr(),s),Zc}function nw(t,e,n){let r=g_(e,t);AA(t[me],r,n)}function be(t,e,n){Z_(e)&&(e=e());let r=ne(),i=Lc();if(Bn(r,i,e)){let o=qe(),s=Vc();oh(o,s,r,t,e,r[me],n,!1)}return be}function Re(t,e){let n=Z_(t);return n&&t.set(e),n}function Te(t,e){let n=ne(),r=qe(),i=rt();return ew(r,n,n[me],i,t,e),Te}function KN(t,e,n){let r=qe();if(r.firstCreatePass){let i=an(t);bf(n,r.data,r.blueprint,i,!0),bf(e,r.data,r.blueprint,i,!1)}}function bf(t,e,n,r,i){if(t=Ue(t),Array.isArray(t))for(let o=0;o<t.length;o++)bf(t[o],e,n,r,i);else{let o=qe(),s=ne(),a=rt(),c=Ci(t)?t:Ue(t.provide),l=o_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ci(t)||!t.multi){let h=new vr(l,i,x),y=Wd(c,e,i?u:u+f,d);y===-1?(of(vc(a,s),o,c),Hd(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[y]=h,s[y]=h)}else{let h=Wd(c,e,u+f,d),y=Wd(c,e,u,u+f),E=h>=0&&n[h],b=y>=0&&n[y];if(i&&!b||!i&&!E){of(vc(a,s),o,c);let F=QN(i?ZN:YN,n.length,i,r,l);!i&&b&&(n[y].providerFactory=F),Hd(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=rw(n[i?y:h],l,!i&&r);Hd(o,t,h>-1?h:y,F)}!i&&r&&b&&n[y].componentProviders++}}}function Hd(t,e,n,r){let i=Ci(e),o=$T(e);if(i||o){let c=(o?Ue(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function rw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function YN(t,e,n,r){return Tf(this.multi,[])}function ZN(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=yc(n,n[J],this.providerFactory.index,r);o=a.slice(0,s),Tf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Tf(i,o);return o}function Tf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function QN(t,e,n,r,i){let o=new vr(t,n,x);return o.multi=[],o.index=e,o.componentProviders=0,rw(o,i,r&&!n),o}function ts(t,e=[]){return n=>{n.providersResolver=(r,i)=>KN(r,i?i(t):t,e)}}function _h(t,e,n){let r=C_()+t,i=ne();return i[r]===At?KE(i,r,n?e.call(n):e()):pN(i,r)}function Qc(t,e,n,r){return XN(ne(),C_(),t,e,n,r)}function JN(t,e){let n=t[e];return n===At?void 0:n}function XN(t,e,n,r,i,o){let s=e+n;return Bn(t,s,i)?KE(t,s+1,o?r.call(o,i):r(i)):JN(t,s+1)}function Li(t,e){return jE(t,e)}var ln=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},iw=new ln("19.1.6"),Sf=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Eh=(()=>{class t{compileModuleSync(n){return new wf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Jy(n),o=fE(i.declarations).reduce((s,a)=>{let c=hr(a);return c&&s.push(new Ho(c)),s},[]);return new Sf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var eR=(()=>{class t{zone=_(te);changeDetectionScheduler=_(bi);applicationRef=_(cn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tR=new T("",{factory:()=>!1});function ow({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new te($(w({},aw()),{scheduleInRootZone:n})),[{provide:te,useFactory:t},{provide:wi,multi:!0,useFactory:()=>{let r=_(eR,{optional:!0});return()=>r.initialize()}},{provide:wi,multi:!0,useFactory:()=>{let r=_(nR);return()=>{r.initialize()}}},e===!0?{provide:z_,useValue:!0}:[],{provide:G_,useValue:n??W_}]}function sw(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ow({ngZoneFactory:()=>{let i=aw(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&xi("NgZone_CoalesceEvent"),new te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return gt([{provide:tR,useValue:!0},{provide:jc,useValue:!1},r])}function aw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nR=(()=>{class t{subscription=new de;initialized=!1;zone=_(te);pendingTasks=_(fn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rR=(()=>{class t{appRef=_(cn);taskService=_(fn);ngZone=_(te);zonelessEnabled=_(jc);tracing=_($c,{optional:!0});disableScheduling=_(z_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new de;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ec):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(G_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof uf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?cy:q_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ec+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function iR(){return typeof $localize<"u"&&$localize.locale||Ac}var wh=new T("",{providedIn:"root",factory:()=>_(wh,U.Optional|U.SkipSelf)||iR()});var Af=new T(""),oR=new T("");function Po(t){return!t.moduleRef}function sR(t){let e=Po(t)?t.r3Injector:t.moduleRef.injector,n=e.get(te);return n.run(()=>{Po(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Vn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Po(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Af);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Af);s.add(o),t.moduleRef.onDestroy(()=>{nc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return cR(r,n,()=>{let o=e.get(JE);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(wh,Ac);if(WN(s||Ac),!e.get(oR,!0))return Po(t)?e.get(cn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Po(t)){let c=e.get(cn);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return aR(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function aR(t,e){let n=t.injector.get(cn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new D(-403,!1);e.push(t)}function cR(t,e,n){try{let r=n();return Ir(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var rc=null;function lR(t=[],e){return _e.create({name:e,providers:[{provide:kc,useValue:"platform"},{provide:Af,useValue:new Set([()=>rc=null])},...t]})}function uR(t=[]){if(rc)return rc;let e=lR(t);return rc=e,wN(),dR(e),e}function dR(t){let e=t.get(Xf,null);Ne(t,()=>{e?.forEach(n=>n())})}function Ch(){return!1}var Dr=(()=>{class t{static __NG_ELEMENT_ID__=fR}return t})();function fR(t){return hR(rt(),ne(),(t&16)===16)}function hR(t,e,n){if(wr(t)&&!n){let r=$t(t.index,e);return new yr(r,r)}else if(t.type&175){let r=e[jt];return new yr(r,e)}return null}var Mf=class{constructor(){}supports(e){return qE(e)}create(e){return new Nf(e)}},pR=(t,e)=>e,Nf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||pR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<xy(r,i,o)?n:r,a=xy(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,y=h+f;u<=y&&y<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!qE(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,hN(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Rf(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Mc),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Mc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Rf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},xf=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Mc=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new xf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function xy(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var kf=class{constructor(){}supports(e){return e instanceof Map||vh(e)}create(){return new Pf}},Pf=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||vh(e)))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Of(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},Of=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function ky(){return new Ih([new Mf])}var Ih=(()=>{class t{factories;static \u0275prov=S({token:t,providedIn:"root",factory:ky});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ky()),deps:[[t,new Ky,new He]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new D(901,!1)}}return t})();function Py(){return new Dh([new kf])}var Dh=(()=>{class t{static \u0275prov=S({token:t,providedIn:"root",factory:Py});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Py()),deps:[[t,new Ky,new He]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new D(901,!1)}}return t})();function cw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=uR(r),o=[ow({}),{provide:bi,useExisting:rR},...n||[]],s=new Tc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return sR({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function br(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Vi(t,e){xi("NgSignals");let n=vv(t);return e?.equal&&(n[Je].equal=e.equal),n}function Gt(t){let e=K(null);try{return t()}finally{K(e)}}var Oy=class{[Je];constructor(e){this[Je]=e}destroy(){this[Je].destroy()}};var pw=null;function vn(){return pw}function gw(t){pw??=t}var Jc=class{};var Ke=new T(""),mw=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>_(gR),providedIn:"platform"})}return t})();var gR=(()=>{class t extends mw{_location;_history;_doc=_(Ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vn().getBaseHref(this._doc)}onPopState(n){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function vw(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function lw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Tr(t){return t&&t[0]!=="?"?"?"+t:t}var Ui=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>_(yw),providedIn:"root"})}return t})(),mR=new T(""),yw=(()=>{class t extends Ui{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return vw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Tr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Tr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(k(mw),k(mR,8))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ns=(()=>{class t{_subject=new pe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=_R(lw(uw(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Tr(r))}normalize(n){return t.stripTrailingSlash(yR(this._basePath,uw(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Tr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Tr;static joinWithSlash=vw;static stripTrailingSlash=lw;static \u0275fac=function(r){return new(r||t)(k(Ui))};static \u0275prov=S({token:t,factory:()=>vR(),providedIn:"root"})}return t})();function vR(){return new ns(k(Ui))}function yR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function uw(t){return t.replace(/\/index.html$/,"")}function _R(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Xc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var bh=/\s+/,dw=[],Bi=(()=>{class t{_ngEl;_renderer;initialClasses=dw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(bh):dw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(bh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(bh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(x(zt),x(pn))};static \u0275dir=Ce({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Th=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qt=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Th(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),fw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);fw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(x(Oi),x(zc),x(Ih))};static \u0275dir=Ce({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function fw(t,e){t.context.$implicit=e.item}var mt=(()=>{class t{_viewContainer;_context=new Sh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(x(Oi),x(zc))};static \u0275dir=Ce({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Sh=class{$implicit=null;ngIf=null};function hw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Be(e)}'.`)}var el=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Wt.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(x(zt),x(Dh),x(pn))};static \u0275dir=Ce({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();var Ah=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Hn({type:t});static \u0275inj=$n({})}return t})(),_w="browser",ER="server";function Mh(t){return t===ER}var ji=class{};var is=class{},nl=class{},Sr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Rh=class{encodeKey(e){return ww(e)}encodeValue(e){return ww(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function wR(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var CR=/%(\d[a-f0-9])/gi,IR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ww(t){return encodeURIComponent(t).replace(CR,(e,n)=>IR[n]??e)}function tl(t){return`${t}`}var Wn=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Rh,e.fromString){if(e.fromObject)throw new D(2805,!1);this.map=wR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(tl):[tl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(tl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(tl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var xh=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function DR(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Cw(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Iw(t){return typeof Blob<"u"&&t instanceof Blob}function Dw(t){return typeof FormData<"u"&&t instanceof FormData}function bR(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var bw="Content-Type",Tw="Accept",Mw="X-Request-URL",Nw="text/plain",Rw="application/json",TR=`${Rw}, ${Nw}, */*`,rs=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(DR(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Sr,this.context??=new xh,!this.params)this.params=new Wn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Cw(this.body)||Iw(this.body)||Dw(this.body)||bR(this.body)?this.body:this.body instanceof Wn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Dw(this.body)?null:Iw(this.body)?this.body.type||null:Cw(this.body)?null:typeof this.body=="string"?Nw:this.body instanceof Wn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Rw:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},$i=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($i||{}),os=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Sr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},kh=class t extends os{constructor(e={}){super(e)}type=$i.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rl=class t extends os{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=$i.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},il=class extends os{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},SR=200,AR=204;function Nh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var MR=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof rs)o=n;else{let c;i.headers instanceof Sr?c=i.headers:c=new Sr(i.headers);let l;i.params&&(i.params instanceof Wn?l=i.params:l=new Wn({fromObject:i.params})),o=new rs(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=R(o).pipe(kn(c=>this.handler.handle(c)));if(n instanceof rs||i.observe==="events")return s;let a=s.pipe(et(c=>c instanceof rl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new D(2806,!1);return c.body}));case"blob":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new D(2807,!1);return c.body}));case"text":return a.pipe(L(c=>{if(c.body!==null&&typeof c.body!="string")throw new D(2808,!1);return c.body}));case"json":default:return a.pipe(L(c=>c.body))}case"response":return a;default:throw new D(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Wn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Nh(i,r))}post(n,r,i={}){return this.request("POST",n,Nh(i,r))}put(n,r,i={}){return this.request("PUT",n,Nh(i,r))}static \u0275fac=function(r){return new(r||t)(k(is))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})();var NR=new T("");function RR(t,e){return e(t)}function xR(t,e,n){return(r,i)=>Ne(n,()=>e(r,o=>t(o,i)))}var xw=new T(""),kR=new T(""),PR=new T("",{providedIn:"root",factory:()=>!0});var Sw=(()=>{class t extends is{backend;injector;chain=null;pendingTasks=_(fn);contributeToStability=_(PR);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(xw),...this.injector.get(kR,[])]));this.chain=r.reduceRight((i,o)=>xR(i,o,this.injector),RR)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(dr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(k(nl),k(Pe))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})();var OR=/^\)\]\}',?\n/,FR=RegExp(`^${Mw}:`,"m");function LR(t){return"responseURL"in t&&t.responseURL?t.responseURL:FR.test(t.getAllResponseHeaders())?t.getResponseHeader(Mw):null}var Aw=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new D(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?le(r.\u0275loadImpl()):R(null)).pipe(tt(()=>new j(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((E,b)=>s.setRequestHeader(E,b.join(","))),n.headers.has(Tw)||s.setRequestHeader(Tw,TR),!n.headers.has(bw)){let E=n.detectContentTypeHeader();E!==null&&s.setRequestHeader(bw,E)}if(n.responseType){let E=n.responseType.toLowerCase();s.responseType=E!=="json"?E:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let E=s.statusText||"OK",b=new Sr(s.getAllResponseHeaders()),F=LR(s)||n.url;return c=new kh({headers:b,status:s.status,statusText:E,url:F}),c},u=()=>{let{headers:E,status:b,statusText:F,url:ke}=l(),q=null;b!==AR&&(q=typeof s.response>"u"?s.responseText:s.response),b===0&&(b=q?SR:0);let je=b>=200&&b<300;if(n.responseType==="json"&&typeof q=="string"){let Xr=q;q=q.replace(OR,"");try{q=q!==""?JSON.parse(q):null}catch(An){q=Xr,je&&(je=!1,q={error:An,text:q})}}je?(o.next(new rl({body:q,headers:E,status:b,statusText:F,url:ke||void 0})),o.complete()):o.error(new il({error:q,headers:E,status:b,statusText:F,url:ke||void 0}))},d=E=>{let{url:b}=l(),F=new il({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(F)},f=!1,h=E=>{f||(o.next(l()),f=!0);let b={type:$i.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(b.total=E.total),n.responseType==="text"&&s.responseText&&(b.partialText=s.responseText),o.next(b)},y=E=>{let b={type:$i.UploadProgress,loaded:E.loaded};E.lengthComputable&&(b.total=E.total),o.next(b)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:$i.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(k(ji))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),kw=new T(""),VR="XSRF-TOKEN",jR=new T("",{providedIn:"root",factory:()=>VR}),UR="X-XSRF-TOKEN",BR=new T("",{providedIn:"root",factory:()=>UR}),ol=class{},$R=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(k(Ke),k(hn),k(jR))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})();function HR(t,e){let n=t.url.toLowerCase();if(!_(kw)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=_(ol).getToken(),i=_(BR);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function Pw(...t){let e=[MR,Aw,Sw,{provide:is,useExisting:Sw},{provide:nl,useFactory:()=>_(NR,{optional:!0})??_(Aw)},{provide:xw,useValue:HR,multi:!0},{provide:kw,useValue:!0},{provide:ol,useClass:$R}];for(let n of t)e.push(...n.\u0275providers);return gt(e)}var Oh=class extends Jc{supportsDOMEvents=!0},Fh=class t extends Oh{static makeCurrent(){gw(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=WR();return n==null?null:zR(n)}resetBaseElement(){ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xc(document.cookie,e)}},ss=null;function WR(){return ss=ss||document.querySelector("base"),ss?ss.getAttribute("href"):null}function zR(t){return new URL(t,document.baseURI).pathname}var GR=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),Lh=new T(""),Uw=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(k(Lh),k(te))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),al=class{_doc;constructor(e){this._doc=e}manager},sl="ng-app-id";function Ow(t){for(let e of t)e.remove()}function Fw(t,e){let n=e.createElement("style");return n.textContent=t,n}function qR(t,e,n,r){let i=t.head?.querySelectorAll(`style[${sl}="${e}"],link[${sl}="${e}"]`);if(i)for(let o of i)o.removeAttribute(sl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Vh(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Bw=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Mh(o),qR(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Fw);r?.forEach(i=>this.addUsage(i,this.external,Vh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Ow(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Ow(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Fw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Vh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(sl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(k(Ke),k(Jf),k(eh,8),k(hn))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),Ph={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uh=/%COMP%/g;var $w="%COMP%",KR=`_nghost-${$w}`,YR=`_ngcontent-${$w}`,ZR=!0,QR=new T("",{providedIn:"root",factory:()=>ZR});function JR(t){return YR.replace(Uh,t)}function XR(t){return KR.replace(Uh,t)}function Hw(t,e){return e.map(n=>n.replace(Uh,t))}var Lw=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Mh(a),this.defaultRenderer=new as(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ht.ShadowDom&&(r=$(w({},r),{encapsulation:Ht.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof cl?i.applyToHost(n):i instanceof cs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Ht.Emulated:o=new cl(c,l,r,this.appId,u,s,a,d,f);break;case Ht.ShadowDom:return new jh(c,l,n,r,s,a,this.nonce,d,f);default:o=new cs(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(k(Uw),k(Bw),k(Jf),k(QR),k(Ke),k(hn),k(te),k(eh),k($c,8))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),as=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Ph[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Vw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Vw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Ph[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Ph[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Wt.DashCase|Wt.Important)?e.style.setProperty(n,r,i&Wt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Wt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=vn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Vw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jh=class extends as{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Hw(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Vh(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cs=class extends as{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?Hw(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cl=class extends cs{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,l,u),this.contentAttr=JR(u),this.hostAttr=XR(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},ex=(()=>{class t extends al{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(k(Ke))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})(),jw=["alt","control","meta","shift"],tx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nx={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},rx=(()=>{class t extends al{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),jw.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=tx[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jw.forEach(s=>{if(s!==i){let a=nx[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(k(Ke))};static \u0275prov=S({token:t,factory:t.\u0275fac})}return t})();function Ww(t,e){return cw(w({rootComponent:t},ix(e)))}function ix(t){return{appProviders:[...lx,...t?.providers??[]],platformProviders:cx}}function ox(){Fh.makeCurrent()}function sx(){return new Vn}function ax(){return rE(document),document}var cx=[{provide:hn,useValue:_w},{provide:Xf,useValue:ox,multi:!0},{provide:Ke,useFactory:ax,deps:[]}];var lx=[{provide:kc,useValue:"root"},{provide:Vn,useFactory:sx,deps:[]},{provide:Lh,useClass:ex,multi:!0,deps:[Ke]},{provide:Lh,useClass:rx,multi:!0,deps:[Ke]},Lw,Bw,Uw,{provide:Si,useExisting:Lw},{provide:ji,useClass:GR,deps:[]},[]];var zw=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(k(Ke))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var V="primary",Is=Symbol("RouteTitle"),zh=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ki(t){return new zh(t)}function dx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function fx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kt(t[n],e[n]))return!1;return!0}function Kt(t,e){let n=t?Gh(t):void 0,r=e?Gh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Xw(t[i],e[i]))return!1;return!0}function Gh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Xw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function eC(t){return t.length>0?t[t.length-1]:null}function Gn(t){return Td(t)?t:Ir(t)?le(Promise.resolve(t)):R(t)}var hx={exact:nC,subset:rC},tC={exact:px,subset:gx,ignored:()=>!0};function Gw(t,e,n){return hx[n.paths](t.root,e.root,n.matrixParams)&&tC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function px(t,e){return Kt(t,e)}function nC(t,e,n){if(!Mr(t.segments,e.segments)||!dl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!nC(t.children[r],e.children[r],n))return!1;return!0}function gx(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Xw(t[n],e[n]))}function rC(t,e,n){return iC(t,e,e.segments,n)}function iC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Mr(i,n)||e.hasChildren()||!dl(i,n,r))}else if(t.segments.length===n.length){if(!Mr(t.segments,n)||!dl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!rC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Mr(t.segments,i)||!dl(t.segments,i,r)||!t.children[V]?!1:iC(t.children[V],e,o,r)}}function dl(t,e,n){return e.every((r,i)=>tC[n](t[i].parameters,r.parameters))}var _n=class{root;queryParams;fragment;_queryParamMap;constructor(e=new X([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){return yx.serialize(this)}},X=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fl(this)}},Ar=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ki(this.parameters),this._parameterMap}toString(){return sC(this)}};function mx(t,e){return Mr(t,e)&&t.every((n,r)=>Kt(n.parameters,e[r].parameters))}function Mr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function vx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===V&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==V&&(n=n.concat(e(i,r)))}),n}var yp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>new ps,providedIn:"root"})}return t})(),ps=class{parse(e){let n=new Kh(e);return new _n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ls(e.root,!0)}`,r=wx(e.queryParams),i=typeof e.fragment=="string"?`#${_x(e.fragment)}`:"";return`${n}${r}${i}`}},yx=new ps;function fl(t){return t.segments.map(e=>sC(e)).join("/")}function ls(t,e){if(!t.hasChildren())return fl(t);if(e){let n=t.children[V]?ls(t.children[V],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${ls(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=vx(t,(r,i)=>i===V?[ls(t.children[V],!1)]:[`${i}:${ls(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[V]!=null?`${fl(t)}/${n[0]}`:`${fl(t)}/(${n.join("//")})`}}function oC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ll(t){return oC(t).replace(/%3B/gi,";")}function _x(t){return encodeURI(t)}function qh(t){return oC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hl(t){return decodeURIComponent(t)}function qw(t){return hl(t.replace(/\+/g,"%20"))}function sC(t){return`${qh(t.path)}${Ex(t.parameters)}`}function Ex(t){return Object.entries(t).map(([e,n])=>`;${qh(e)}=${qh(n)}`).join("")}function wx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ll(n)}=${ll(i)}`).join("&"):`${ll(n)}=${ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Cx=/^[^\/()?;#]+/;function Bh(t){let e=t.match(Cx);return e?e[0]:""}var Ix=/^[^\/()?;=#]+/;function Dx(t){let e=t.match(Ix);return e?e[0]:""}var bx=/^[^=?&#]+/;function Tx(t){let e=t.match(bx);return e?e[0]:""}var Sx=/^[^&#]+/;function Ax(t){let e=t.match(Sx);return e?e[0]:""}var Kh=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[V]=new X(e,n)),r}parseSegment(){let e=Bh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Ar(hl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Dx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Bh(this.remaining);i&&(r=i,this.capture(r))}e[hl(n)]=hl(r)}parseQueryParam(e){let n=Tx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Ax(this.remaining);s&&(r=s,this.capture(r))}let i=qw(n),o=qw(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Bh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new X([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function aC(t){return t.segments.length>0?new X([],{[V]:t}):t}function cC(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=cC(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new X(t.segments,e);return Mx(n)}function Mx(t){if(t.numberOfChildren===1&&t.children[V]){let e=t.children[V];return new X(t.segments.concat(e.segments),e.children)}return t}function Nr(t){return t instanceof _n}function Nx(t,e,n=null,r=null){let i=lC(t);return uC(i,e,n,r)}function lC(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new X(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=aC(r);return e??i}function uC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return $h(i,i,i,n,r);let o=Rx(e);if(o.toRoot())return $h(i,i,new X([],{}),n,r);let s=xx(o,i,t),a=s.processChildren?ds(s.segmentGroup,s.index,o.commands):fC(s.segmentGroup,s.index,o.commands);return $h(i,s.segmentGroup,a,n,r)}function pl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function gs(t){return typeof t=="object"&&t!=null&&t.outlets}function $h(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=dC(t,e,n);let a=aC(cC(s));return new _n(a,o,i)}function dC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=dC(o,e,n)}),new X(t.segments,r)}var gl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pl(r[0]))throw new D(4003,!1);let i=r.find(gs);if(i&&i!==eC(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new gl(n,e,r)}var zi=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function xx(t,e,n){if(t.isAbsolute)return new zi(e,!0,0);if(!n)return new zi(e,!1,NaN);if(n.parent===null)return new zi(n,!0,0);let r=pl(t.commands[0])?0:1,i=n.segments.length-1+r;return kx(n,i,t.numberOfDoubleDots)}function kx(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new zi(r,!1,i-o)}function Px(t){return gs(t[0])?t[0].outlets:{[V]:t}}function fC(t,e,n){if(t??=new X([],{}),t.segments.length===0&&t.hasChildren())return ds(t,e,n);let r=Ox(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new X(t.segments.slice(0,r.pathIndex),{});return o.children[V]=new X(t.segments.slice(r.pathIndex),t.children),ds(o,0,i)}else return r.match&&i.length===0?new X(t.segments,{}):r.match&&!t.hasChildren()?Yh(t,e,n):r.match?ds(t,0,i):Yh(t,e,n)}function ds(t,e,n){if(n.length===0)return new X(t.segments,{});{let r=Px(n),i={};if(Object.keys(r).some(o=>o!==V)&&t.children[V]&&t.numberOfChildren===1&&t.children[V].segments.length===0){let o=ds(t.children[V],e,n);return new X(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=fC(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new X(t.segments,i)}}function Ox(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(gs(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Yw(c,l,s))return o;r+=2}else{if(!Yw(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Yh(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(gs(o)){let c=Fx(o.outlets);return new X(r,c)}if(i===0&&pl(n[0])){let c=t.segments[e];r.push(new Ar(c.path,Kw(n[0]))),i++;continue}let s=gs(o)?o.outlets[V]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&pl(a)?(r.push(new Ar(s,Kw(a))),i+=2):(r.push(new Ar(s,{})),i++)}return new X(r,{})}function Fx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Yh(new X([],{}),0,r))}),e}function Kw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Yw(t,e,n){return t==n.path&&Kt(e,n.parameters)}var fs="imperative",xe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(xe||{}),vt=class{id;url;constructor(e,n){this.id=e,this.url=n}},ms=class extends vt{type=xe.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},zn=class extends vt{urlAfterRedirects;type=xe.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ot=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ot||{}),Zh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Zh||{}),yn=class extends vt{reason;code;type=xe.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Rr=class extends vt{reason;code;type=xe.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},vs=class extends vt{error;target;type=xe.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ml=class extends vt{urlAfterRedirects;state;type=xe.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qh=class extends vt{urlAfterRedirects;state;type=xe.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class extends vt{urlAfterRedirects;state;shouldActivate;type=xe.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xh=class extends vt{urlAfterRedirects;state;type=xe.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class extends vt{urlAfterRedirects;state;type=xe.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tp=class{route;type=xe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},np=class{route;type=xe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rp=class{snapshot;type=xe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ip=class{snapshot;type=xe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{snapshot;type=xe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sp=class{snapshot;type=xe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ys=class{},Yi=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Lx(t,e){return t.providers&&!t._injector&&(t._injector=gh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Nt(t){return t.outlet||V}function Vx(t,e){let n=t.filter(r=>Nt(r)===e);return n.push(...t.filter(r=>Nt(r)!==e)),n}function Ds(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ap=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ds(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Il(this.rootInjector)}},Il=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ap(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(k(Pe))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=cp(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=cp(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=lp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lp(e,this._root).map(n=>n.value)}};function cp(t,e){if(t===e.value)return e;for(let n of e.children){let r=cp(t,n);if(r)return r}return null}function lp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=lp(t,n);if(r.length)return r.unshift(e),r}return[]}var it=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Wi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yl=class extends vl{snapshot;constructor(e,n){super(e),this.snapshot=n,_p(this,e)}toString(){return this.snapshot.toString()}};function hC(t){let e=jx(t),n=new Me([new Ar("",{})]),r=new Me({}),i=new Me({}),o=new Me({}),s=new Me(""),a=new xr(n,r,o,s,i,V,t,e.root);return a.snapshot=e.root,new yl(new it(a,[]),e)}function jx(t){let e={},n={},r={},i="",o=new Gi([],e,r,i,n,V,t,null,{});return new El("",new it(o,[]))}var xr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[Is]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Ki(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Ki(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _l(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&gC(i)&&(r.resolve[Is]=i.title),r}var Gi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Is]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},El=class extends vl{url;constructor(e,n){super(n),this.url=e,_p(this,n)}toString(){return pC(this._root)}};function _p(t,e){e.value._routerState=t,e.children.forEach(n=>_p(t,n))}function pC(t){let e=t.children.length>0?` { ${t.children.map(pC).join(", ")} } `:"";return`${t.value}${e}`}function Hh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Kt(e.params,n.params)||t.paramsSubject.next(n.params),fx(e.url,n.url)||t.urlSubject.next(n.url),Kt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function up(t,e){let n=Kt(t.params,e.params)&&mx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||up(t.parent,e.parent))}function gC(t){return typeof t.title=="string"||t.title===null}var Ux=new T(""),Ep=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=V;activateEvents=new fe;deactivateEvents=new fe;attachEvents=new fe;detachEvents=new fe;routerOutletData=Y_(void 0);parentContexts=_(Il);location=_(Oi);changeDetector=_(Dr);inputBinder=_(wp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new dp(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ce({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ni]})}return t})(),dp=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===xr?this.route:e===Il?this.childContexts:e===Ux?this.outletData:this.parent.get(e,n)}},wp=new T("");function Bx(t,e,n){let r=_s(t,e._root,n?n._root:void 0);return new yl(r,e)}function _s(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=$x(t,e,n);return new it(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>_s(t,a)),s}}let r=Hx(e.value),i=e.children.map(o=>_s(t,o));return new it(r,i)}}function $x(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return _s(t,r,i);return _s(t,r)})}function Hx(t){return new xr(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var Es=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},mC="ngNavigationCancelingError";function wl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Nr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vC(!1,ot.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function vC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[mC]=!0,n.cancellationCode=e,n}function Wx(t){return yC(t)&&Nr(t.url)}function yC(t){return!!t&&t[mC]}var zx=(t,e,n,r)=>L(i=>(new fp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),fp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Hh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Wi(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Wi(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Wi(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new sp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ip(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Hh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Hh(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Cl=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qi=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Gx(t,e,n){let r=t._root,i=e?e._root:null;return us(r,i,n,[r.value])}function qx(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Qi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!By(t)?t:e.get(t):r}function us(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Wi(e);return t.children.forEach(s=>{Kx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>hs(a,n.getContext(s),i)),i}function Kx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Yx(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Cl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?us(t,e,a?a.children:null,r,i):us(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qi(a.outlet.component,s))}else s&&hs(e,a,i),i.canActivateChecks.push(new Cl(r)),o.component?us(t,null,a?a.children:null,r,i):us(t,null,n,r,i);return i}function Yx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Mr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mr(t.url,e.url)||!Kt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!up(t,e)||!Kt(t.queryParams,e.queryParams);case"paramsChange":default:return!up(t,e)}}function hs(t,e,n){let r=Wi(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?hs(s,e.children.getContext(o),n):hs(s,null,n):hs(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new qi(e.outlet.component,i)):n.canDeactivateChecks.push(new qi(null,i)):n.canDeactivateChecks.push(new qi(null,i))}function bs(t){return typeof t=="function"}function Zx(t){return typeof t=="boolean"}function Qx(t){return t&&bs(t.canLoad)}function Jx(t){return t&&bs(t.canActivate)}function Xx(t){return t&&bs(t.canActivateChild)}function ek(t){return t&&bs(t.canDeactivate)}function tk(t){return t&&bs(t.canMatch)}function _C(t){return t instanceof nn||t?.name==="EmptyError"}var ul=Symbol("INITIAL_VALUE");function Zi(){return tt(t=>Ga(t.map(e=>e.pipe(rn(1),Rd(ul)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===ul)return ul;if(n===!1||nk(n))return n}return!0}),et(e=>e!==ul),rn(1)))}function nk(t){return Nr(t)||t instanceof Es}function rk(t,e){return ye(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R($(w({},n),{guardsResult:!0})):ik(s,r,i,t).pipe(ye(a=>a&&Zx(a)?ok(r,o,t,e):R(a)),L(a=>$(w({},n),{guardsResult:a})))})}function ik(t,e,n,r){return le(t).pipe(ye(i=>uk(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function ok(t,e,n,r){return le(e).pipe(kn(i=>di(ak(i.route.parent,r),sk(i.route,r),lk(t,i.path,n),ck(t,i.route,n))),on(i=>i!==!0,!0))}function sk(t,e){return t!==null&&e&&e(new op(t)),R(!0)}function ak(t,e){return t!==null&&e&&e(new rp(t)),R(!0)}function ck(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>qa(()=>{let s=Ds(e)??n,a=Qi(o,s),c=Jx(a)?a.canActivate(e,t):Ne(s,()=>a(e,t));return Gn(c).pipe(on())}));return R(i).pipe(Zi())}function lk(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>qx(s)).filter(s=>s!==null).map(s=>qa(()=>{let a=s.guards.map(c=>{let l=Ds(s.node)??n,u=Qi(c,l),d=Xx(u)?u.canActivateChild(r,t):Ne(l,()=>u(r,t));return Gn(d).pipe(on())});return R(a).pipe(Zi())}));return R(o).pipe(Zi())}function uk(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let c=Ds(e)??i,l=Qi(a,c),u=ek(l)?l.canDeactivate(t,e,n,r):Ne(c,()=>l(t,e,n,r));return Gn(u).pipe(on())});return R(s).pipe(Zi())}function dk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=Qi(s,t),c=Qx(a)?a.canLoad(e,n):Ne(t,()=>a(e,n));return Gn(c)});return R(o).pipe(Zi(),EC(r))}function EC(t){return yd(we(e=>{if(typeof e!="boolean")throw wl(t,e)}),L(e=>e===!0))}function fk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=Qi(s,t),c=tk(a)?a.canMatch(e,n):Ne(t,()=>a(e,n));return Gn(c)});return R(o).pipe(Zi(),EC(r))}var ws=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Cs=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Hi(t){return ui(new ws(t))}function hk(t){return ui(new D(4e3,!1))}function pk(t){return ui(vC(!1,ot.GuardRejected))}var hp=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[V])return hk(`${e.redirectTo}`);i=i.children[V]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:y,title:E}=i,b=Ne(o,()=>a({params:h,data:y,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:E}));if(b instanceof _n)throw new Cs(b);n=b}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Cs(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new _n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new X(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},pp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gk(t,e,n,r,i){let o=wC(t,e,n);return o.matched?(r=Lx(e,r),fk(r,e,n,i).pipe(L(s=>s===!0?o:w({},pp)))):R(o)}function wC(t,e,n){if(e.path==="**")return mk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},pp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dx)(n,t,e);if(!i)return w({},pp);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function mk(t){return{matched:!0,parameters:t.length>0?eC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Zw(t,e,n,r){return n.length>0&&_k(t,n,r)?{segmentGroup:new X(e,yk(r,new X(n,t.children))),slicedSegments:[]}:n.length===0&&Ek(t,n,r)?{segmentGroup:new X(t.segments,vk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new X(t.segments,t.children),slicedSegments:n}}function vk(t,e,n,r){let i={};for(let o of n)if(Dl(t,e,o)&&!r[Nt(o)]){let s=new X([],{});i[Nt(o)]=s}return w(w({},r),i)}function yk(t,e){let n={};n[V]=e;for(let r of t)if(r.path===""&&Nt(r)!==V){let i=new X([],{});n[Nt(r)]=i}return n}function _k(t,e,n){return n.some(r=>Dl(t,e,r)&&Nt(r)!==V)}function Ek(t,e,n){return n.some(r=>Dl(t,e,r))}function Dl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function wk(t,e,n){return e.length===0&&!t.children[n]}var gp=class{};function Ck(t,e,n,r,i,o,s="emptyOnly"){return new mp(t,e,n,r,i,s,o).recognize()}var Ik=31,mp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hp(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){let e=Zw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(({children:n,rootSnapshot:r})=>{let i=new it(r,n),o=new El("",i),s=Nx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Gi([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,V,n).pipe(L(r=>({children:r,rootSnapshot:n})),xn(r=>{if(r instanceof Cs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ws?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(L(s=>s instanceof it?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return le(o).pipe(kn(s=>{let a=r.children[s],c=Vx(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Nd((s,a)=>(s.push(...a),s)),Pn(null),Md(),ye(s=>{if(s===null)return Hi(r);let a=CC(s);return Dk(a),R(a)}))}processSegment(e,n,r,i,o,s,a){return le(n).pipe(kn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(xn(l=>{if(l instanceof ws)return R(null);throw l}))),on(c=>!!c),xn(c=>{if(_C(c))return wk(r,i,o)?R(new gp):Hi(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return Nt(r)!==s&&(s===V||!Dl(i,o,r))?Hi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):Hi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=wC(n,i,o);if(!c)return Hi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ik&&(this.allowRedirects=!1));let h=new Gi(o,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Qw(i),Nt(i),i.component??i._loadedComponent??null,i,Jw(i)),y=_l(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(y.params),h.data=Object.freeze(y.data);let E=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,E).pipe(ye(b=>this.processSegment(e,r,n,b.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=gk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(tt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(tt(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,y=new Gi(f,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Qw(r),Nt(r),r.component??r._loadedComponent??null,r,Jw(r)),E=_l(y,s,this.paramsInheritanceStrategy);y.params=Object.freeze(E.params),y.data=Object.freeze(E.data);let{segmentGroup:b,slicedSegments:F}=Zw(n,f,h,l);if(F.length===0&&b.hasChildren())return this.processChildren(u,l,b,y).pipe(L(q=>new it(y,q)));if(l.length===0&&F.length===0)return R(new it(y,[]));let ke=Nt(r)===o;return this.processSegment(u,l,b,F,ke?V:o,!0,y).pipe(L(q=>new it(y,q instanceof it?[q]:[])))}))):Hi(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):dk(e,n,r,this.urlSerializer).pipe(ye(i=>i?this.configLoader.loadChildren(e,n).pipe(we(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):pk(n))):R({routes:[],injector:e})}};function Dk(t){t.sort((e,n)=>e.value.outlet===V?-1:n.value.outlet===V?1:e.value.outlet.localeCompare(n.value.outlet))}function bk(t){let e=t.value.routeConfig;return e&&e.path===""}function CC(t){let e=[],n=new Set;for(let r of t){if(!bk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=CC(r.children);e.push(new it(r.value,i))}return e.filter(r=>!n.has(r))}function Qw(t){return t.data||{}}function Jw(t){return t.resolve||{}}function Tk(t,e,n,r,i,o){return ye(s=>Ck(t,e,n,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:c})=>$(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Sk(t,e){return ye(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of IC(c))s.add(l);let a=0;return le(s).pipe(kn(c=>o.has(c)?Ak(c,r,t,e):(c.data=_l(c,c.parent,t).resolve,R(void 0))),we(()=>a++),fi(1),ye(c=>a===s.size?R(n):ze))})}function IC(t){let e=t.children.map(n=>IC(n)).flat();return[t,...e]}function Ak(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!gC(i)&&(o[Is]=i.title),Mk(o,t,e,r).pipe(L(s=>(t._resolvedData=s,t.data=_l(t,t.parent,n).resolve,null)))}function Mk(t,e,n,r){let i=Gh(t);if(i.length===0)return R({});let o={};return le(i).pipe(ye(s=>Nk(t[s],e,n,r).pipe(on(),we(a=>{if(a instanceof Es)throw wl(new ps,a);o[s]=a}))),fi(1),L(()=>o),xn(s=>_C(s)?ze:ui(s)))}function Nk(t,e,n,r){let i=Ds(e)??r,o=Qi(t,i),s=o.resolve?o.resolve(e,n):Ne(i,()=>o(e,n));return Gn(s)}function Wh(t){return tt(e=>{let n=t(e);return n?le(n).pipe(L(()=>e)):R(e)})}var DC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===V);return r}getResolvedTitleForRoute(n){return n.data[Is]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>_(Rk),providedIn:"root"})}return t})(),Rk=(()=>{class t extends DC{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(k(zw))};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cp=new T("",{providedIn:"root",factory:()=>({})}),xk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&M(0,"router-outlet")},dependencies:[Ep],encapsulation:2})}return t})();function Ip(t){let e=t.children&&t.children.map(Ip),n=e?$(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=xk),n}var Dp=new T(""),kk=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(Eh);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return R(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Gn(n.loadComponent()).pipe(L(bC),we(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),dr(()=>{this.componentLoaders.delete(n)})),i=new si(r,()=>new pe).pipe(oi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Pk(r,this.compiler,n,this.onLoadEndListener).pipe(dr(()=>{this.childrenLoaders.delete(r)})),s=new si(o,()=>new pe).pipe(oi());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pk(t,e,n,r){return Gn(t.loadChildren()).pipe(L(bC),ye(i=>i instanceof Wo||Array.isArray(i)?R(i):le(e.compileModuleAsync(i))),L(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Dp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ip),injector:o}}))}function Ok(t){return t&&typeof t=="object"&&"default"in t}function bC(t){return Ok(t)?t.default:t}var bp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>_(Fk),providedIn:"root"})}return t})(),Fk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lk=new T("");var Vk=new T(""),jk=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new pe;transitionAbortSubject=new pe;configLoader=_(kk);environmentInjector=_(Pe);destroyRef=_(Jo);urlSerializer=_(yp);rootContexts=_(Il);location=_(ns);inputBindingEnabled=_(wp,{optional:!0})!==null;titleStrategy=_(DC);options=_(Cp,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(bp);createViewTransition=_(Lk,{optional:!0});navigationErrorHandler=_(Vk,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new tp(i)),r=i=>this.events.next(new np(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next($(w(w({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Me({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(et(o=>o.id!==0),L(o=>$(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),tt(o=>{let s=!1,a=!1;return R(o).pipe(tt(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),ze;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?$(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Rr(c.id,this.urlSerializer.serialize(c.rawUrl),d,Zh.IgnoredSameUrlNavigation)),c.resolve(!1),ze}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return R(c).pipe(tt(d=>{let f=this.transitions?.getValue();return this.events.next(new ms(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?ze:Promise.resolve(d)}),Tk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),we(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=$(w({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new ml(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:y,extras:E}=c,b=new ms(d,this.urlSerializer.serialize(f),h,y);this.events.next(b);let F=hC(this.rootComponentType).snapshot;return this.currentTransition=o=$(w({},c),{targetSnapshot:F,urlAfterRedirects:f,extras:$(w({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,R(o)}else{let d="";return this.events.next(new Rr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Zh.IgnoredByUrlHandlingStrategy)),c.resolve(!1),ze}}),we(c=>{let l=new Qh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),L(c=>(this.currentTransition=o=$(w({},c),{guards:Gx(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),rk(this.environmentInjector,c=>this.events.next(c)),we(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw wl(this.urlSerializer,c.guardsResult);let l=new Jh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),et(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ot.GuardRejected),!1)),Wh(c=>{if(c.guards.canActivateChecks.length)return R(c).pipe(we(l=>{let u=new Xh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),tt(l=>{let u=!1;return R(l).pipe(Sk(this.paramsInheritanceStrategy,this.environmentInjector),we({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",ot.NoDataFromResolver)}}))}),we(l=>{let u=new ep(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Wh(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(we(f=>{u.component=f}),L(()=>{})));for(let f of u.children)d.push(...l(f));return d};return Ga(l(c.targetSnapshot.root)).pipe(Pn(null),rn(1))}),Wh(()=>this.afterPreactivation()),tt(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?le(u).pipe(L(()=>o)):R(o)}),L(c=>{let l=Bx(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=$(w({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),we(()=>{this.events.next(new ys)}),zx(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),rn(1),we({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),xd(this.transitionAbortSubject.pipe(we(c=>{throw c}))),dr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(c=>{if(this.destroyed)return o.resolve(!1),ze;if(a=!0,yC(c))this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),Wx(c)?this.events.next(new Yi(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new vs(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=Ne(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Es){let{message:d,cancellationCode:f}=wl(this.urlSerializer,u);this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new Yi(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),c}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return ze}))}))}cancelNavigationTransition(n,r,i){let o=new yn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Uk(t){return t!==fs}var Bk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>_($k),providedIn:"root"})}return t})(),vp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},$k=(()=>{class t extends vp{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:()=>_(Hk),providedIn:"root"})}return t})(),Hk=(()=>{class t extends TC{location=_(ns);urlSerializer=_(yp);options=_(Cp,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=_(bp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=hC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ms)this.stateMemento=this.createStateMemento();else if(n instanceof Rr)this.rawUrlTree=r.initialUrl;else if(n instanceof ml){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ys?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof yn&&(n.code===ot.GuardRejected||n.code===ot.NoDataFromResolver)?this.restoreHistory(r):n instanceof vs?this.restoreHistory(r,!0):n instanceof zn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof _n?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=w(w({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=w(w({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Wk(t,e){t.events.pipe(et(n=>n instanceof zn||n instanceof yn||n instanceof vs||n instanceof Rr),L(n=>n instanceof zn||n instanceof Rr?0:(n instanceof yn?n.code===ot.Redirect||n.code===ot.SupersededByNewNavigation:!1)?2:1),et(n=>n!==2),rn(1)).subscribe(()=>{e()})}var zk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(yh);stateManager=_(TC);options=_(Cp,{optional:!0})||{};pendingTasks=_(fn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(jk);urlSerializer=_(yp);location=_(ns);urlHandlingStrategy=_(bp);_events=new pe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(Bk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Dp,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(wp,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new de;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yn&&r.code!==ot.Redirect&&r.code!==ot.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof zn)this.navigated=!0;else if(r instanceof Yi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Uk(i.source)},s);this.scheduleNavigation(a,fs,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Kk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=w({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ip),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=lC(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return uC(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Nr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,fs,null,r)}navigate(n,r={skipLocationChange:!1}){return qk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=w({},zk):r===!1?i=w({},Gk):i=r,Nr(n))return Gw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Gw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return Wk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qk(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new D(4008,!1)}function Kk(t){return!(t instanceof ys)&&!(t instanceof Yi)}var bl=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new pe;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof zn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Nr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:uE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Nr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(x(kr),x(xr),Yf("tabindex"),x(pn),x(zt),x(Ui))};static \u0275dir=Ce({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&re("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&qc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",br],skipLocationChange:[2,"skipLocationChange","skipLocationChange",br],replaceUrl:[2,"replaceUrl","replaceUrl",br],routerLink:"routerLink"},features:[mh,Ni]})}return t})();var Yk=new T("");function SC(t,...e){return gt([{provide:Dp,multi:!0,useValue:t},[],{provide:xr,useFactory:Zk,deps:[kr]},{provide:Gc,multi:!0,useFactory:Qk},e.map(n=>n.\u0275providers)])}function Zk(t){return t.routerState.root}function Qk(){let t=_(_e);return e=>{let n=t.get(cn);if(e!==n.components[0])return;let r=t.get(kr),i=t.get(Jk);t.get(Xk)===1&&r.initialNavigation(),t.get(eP,null,U.Optional)?.setUpPreloading(),t.get(Yk,null,U.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Jk=new T("",{factory:()=>new pe}),Xk=new T("",{providedIn:"root",factory:()=>1});var eP=new T("");var Tl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-home"]],decls:47,vars:0,consts:[["id","home-page",1,"container-fluid","bg-success-subtle","min-vh-100"],[1,"text-center"],[1,"home-text"],["routerLink","/app-component-manip",1,"btn","btn-primary"],[1,"container","my-5"],[1,"row","text-center"],[1,"col-md-4"],[1,"card","border-0","shadow-sm"],[1,"card-body"],[1,"bi","bi-lightning-charge-fill","text-warning","fs-1"],[1,"card-title","mt-3"],[1,"card-text"],[1,"bi","bi-gear-fill","text-info","fs-1"],[1,"bi","bi-people-fill","text-success","fs-1"],[1,"bg-light","py-5"],[1,"container"],[1,"text-center","mb-4"],[1,"list-group","list-group-flush"],[1,"list-group-item"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1)(2,"h1"),v(3,"Bienvenue dans mon cours Angular!"),m(),g(4,"p",2),v(5," Apprenez \xE0 cr\xE9er des applications web modernes avec Angular. "),m(),g(6,"a",3),v(7,"Commencer"),m()(),g(8,"section",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8),M(13,"i",9),g(14,"h5",10),v(15,"Performance"),m(),g(16,"p",11),v(17," D\xE9couvrez comment Angular optimise vos applications pour des performances maximales. "),m()()()(),g(18,"div",6)(19,"div",7)(20,"div",8),M(21,"i",12),g(22,"h5",10),v(23,"Composants"),m(),g(24,"p",11),v(25," Ma\xEEtrisez le syst\xE8me de composants pour cr\xE9er des interfaces modulaires et r\xE9utilisables. "),m()()()(),g(26,"div",6)(27,"div",7)(28,"div",8),M(29,"i",13),g(30,"h5",10),v(31,"Communaut\xE9"),m(),g(32,"p",11),v(33," Apprenez avec un \xE9cosyst\xE8me actif et des outils robustes pour collaborer efficacement. "),m()()()()()(),g(34,"section",14)(35,"div",15)(36,"h2",16),v(37,"Pourquoi choisir Angular ?"),m(),g(38,"ul",17)(39,"li",18),v(40," \u2714\uFE0F Structure solide pour les projets d'envergure. "),m(),g(41,"li",18),v(42," \u2714\uFE0F Support officiel de Google et une mise \xE0 jour continue. "),m(),g(43,"li",18),v(44," \u2714\uFE0F Int\xE9gration parfaite avec TypeScript pour un code maintenable. "),m(),g(45,"li",18),v(46," \u2714\uFE0F Riches fonctionnalit\xE9s int\xE9gr\xE9es (RxJS, Forms, Router). "),m()()()()())},encapsulation:2})};var Sl=class t{text="Platon";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-exercises"]],decls:30,vars:0,consts:[["aria-current","nesting","routerLink","/nesting"],["aria-current","interpolation","routerLink","/interpolation"],["aria-current","data-binding","routerLink","/data-binding"],["aria-current","directives","routerLink","/directives"],["aria-current","blog","routerLink","/blog"],["aria-current","api","routerLink","/api"],["aria-current","firebase","routerLink","/firebase"],["aria-current","component-com","routerLink","/component-com"]],template:function(n,r){n&1&&(g(0,"div")(1,"h2")(2,"span"),v(3,"Exercices"),m(),v(4," :"),m(),g(5,"ul")(6,"li")(7,"a",0),v(8,"Nesting"),m()(),g(9,"li")(10,"a",1),v(11,"Interpolation"),m()(),g(12,"li")(13,"a",2),v(14,"Databinding"),m()(),g(15,"li")(16,"a",3),v(17,"TP : Directives"),m()(),g(18,"li")(19,"a",4),v(20,"Blog"),m()(),g(21,"li")(22,"a",5),v(23,"Test API"),m()(),g(24,"li")(25,"a",6),v(26,"Firebase"),m()(),g(27,"li")(28,"a",7),v(29,"TP 4 : Component Communication "),m()()()())},dependencies:[bl,Ah],styles:['h2[_ngcontent-%COMP%]{font-size:xx-large;text-align:center;background-color:#f90;padding:1rem;border-radius:.5rem;color:#fff}ul[_ngcontent-%COMP%]{display:flex;justify-content:space-around}ul[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(odd){list-style:"\\1f950"}ul[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2n){list-style:"\\1f956"}a[_ngcontent-%COMP%]{color:#2e2e2c;text-decoration:none}li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{text-decoration:underline}a[_ngcontent-%COMP%]{margin-left:.2rem}']})};var OC=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(x(pn),x(zt))};static \u0275dir=Ce({type:t})}return t})(),FC=(()=>{class t extends OC{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275dir=Ce({type:t,features:[gn]})}return t})(),Sp=new T("");var nP={provide:Sp,useExisting:Er(()=>Ye),multi:!0};function rP(){let t=vn()?vn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var iP=new T(""),Ye=(()=>{class t extends OC{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!rP())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(x(pn),x(zt),x(iP,8))};static \u0275dir=Ce({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&re("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ts([nP]),gn]})}return t})();var LC=new T(""),VC=new T("");function jC(t){return t!=null}function UC(t){return Ir(t)?le(t):t}function BC(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function $C(t,e){return e.map(n=>n(t))}function oP(t){return!t.validate}function HC(t){return t.map(e=>oP(e)?e:n=>e.validate(n))}function sP(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){return BC($C(n,e))}}function Ap(t){return t!=null?sP(HC(t)):null}function aP(t){if(!t)return null;let e=t.filter(jC);return e.length==0?null:function(n){let r=$C(n,e).map(UC);return Ad(r).pipe(L(BC))}}function Mp(t){return t!=null?aP(HC(t)):null}function AC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cP(t){return t._rawValidators}function lP(t){return t._rawAsyncValidators}function Tp(t){return t?Array.isArray(t)?t:[t]:[]}function Ml(t,e){return Array.isArray(t)?t.includes(e):t===e}function MC(t,e){let n=Tp(e);return Tp(t).forEach(i=>{Ml(n,i)||n.push(i)}),n}function NC(t,e){return Tp(e).filter(n=>!Ml(t,n))}var Nl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ap(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Mp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},eo=class extends Nl{name;get formDirective(){return null}get path(){return null}},Rs=class extends Nl{_parent=null;name=null;valueAccessor=null},Rl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},uP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},pq=$(w({},uP),{"[class.ng-submitted]":"isSubmitted"}),yt=(()=>{class t extends Rl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(x(Rs,2))};static \u0275dir=Ce({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Kc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[gn]})}return t})(),qn=(()=>{class t extends Rl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(x(eo,10))};static \u0275dir=Ce({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Kc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[gn]})}return t})();var Ts="VALID",Al="INVALID",Ji="PENDING",Ss="DISABLED",to=class{},xl=class extends to{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ms=class extends to{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Ns=class extends to{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Xi=class extends to{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function WC(t){return(Ol(t)?t.validators:t)||null}function dP(t){return Array.isArray(t)?Ap(t):t||null}function zC(t,e){return(Ol(e)?e.asyncValidators:t)||null}function fP(t){return Array.isArray(t)?Mp(t):t||null}function Ol(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function hP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")}function pP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new D(1002,"")})}var kl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Gt(this.statusReactive)}set status(e){Gt(()=>this.statusReactive.set(e))}_status=Vi(()=>this.statusReactive());statusReactive=ki(void 0);get valid(){return this.status===Ts}get invalid(){return this.status===Al}get pending(){return this.status==Ji}get disabled(){return this.status===Ss}get enabled(){return this.status!==Ss}errors;get pristine(){return Gt(this.pristineReactive)}set pristine(e){Gt(()=>this.pristineReactive.set(e))}_pristine=Vi(()=>this.pristineReactive());pristineReactive=ki(!0);get dirty(){return!this.pristine}get touched(){return Gt(this.touchedReactive)}set touched(e){Gt(()=>this.touchedReactive.set(e))}_touched=Vi(()=>this.touchedReactive());touchedReactive=ki(!1);get untouched(){return!this.touched}_events=new pe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NC(e,this._rawAsyncValidators))}hasValidator(e){return Ml(this._rawValidators,e)}hasAsyncValidator(e){return Ml(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(w({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ns(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ns(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(w({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ms(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ms(!0,r))}markAsPending(e={}){this.status=Ji;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(w({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ss,this.errors=null,this._forEachChild(i=>{i.disable($(w({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xl(this.value,r)),this._events.next(new Xi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(w({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ts,this._forEachChild(r=>{r.enable($(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(w({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ts||this.status===Ji)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xl(this.value,n)),this._events.next(new Xi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(w({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ss:Ts}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ji,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=UC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Xi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?Ss:this.errors?Al:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ji)?Ji:this._anyControlsHaveStatus(Al)?Al:Ts}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ms(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ns(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ol(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=fP(this._rawAsyncValidators)}},Pl=class extends kl{constructor(e,n,r){super(WC(n),zC(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){pP(this,!0,e),Object.keys(e).forEach(r=>{hP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Np=new T("",{providedIn:"root",factory:()=>Rp}),Rp="always";function gP(t,e){return[...e.path,t]}function GC(t,e,n=Rp){qC(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),vP(t,e),_P(t,e),yP(t,e),mP(t,e)}function RC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function mP(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function qC(t,e){let n=cP(t);e.validator!==null?t.setValidators(AC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=lP(t);e.asyncValidator!==null?t.setAsyncValidators(AC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();RC(e._rawValidators,i),RC(e._rawAsyncValidators,i)}function vP(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&KC(t,e)})}function yP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&KC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function KC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function _P(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function EP(t,e){t==null,qC(t,e)}function wP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function CP(t){return Object.getPrototypeOf(t.constructor)===FC}function IP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function DP(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Ye?n=o:CP(o)?r=o:i=o}),i||r||n||null}var bP={provide:eo,useExisting:Er(()=>En)},As=Promise.resolve(),En=(()=>{class t extends eo{callSetDisabledState;get submitted(){return Gt(this.submittedReactive)}_submitted=Vi(()=>this.submittedReactive());submittedReactive=ki(!1);_directives=new Set;form;ngSubmit=new fe;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Pl({},Ap(n),Mp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){As.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),GC(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){As.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){As.then(()=>{let r=this._findContainer(n.path),i=new Pl({});EP(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){As.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){As.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),IP(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(x(LC,10),x(VC,10),x(Np,8))};static \u0275dir=Ce({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&re("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ts([bP]),gn]})}return t})();function xC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var TP=class extends kl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(WC(n),zC(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ol(n)&&(n.nonNullable||n.initialValueIsDefault)&&(kC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){kC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var SP={provide:Rs,useExisting:Er(()=>st)},PC=Promise.resolve(),st=(()=>{class t extends Rs{_changeDetectorRef;callSetDisabledState;control=new TP;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new fe;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=DP(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),wP(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){GC(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){PC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&br(r);PC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?gP(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(x(eo,9),x(LC,10),x(VC,10),x(Sp,10),x(Dr,8),x(Np,8))};static \u0275dir=Ce({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ts([SP]),gn,Ni]})}return t})(),Kn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ce({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),AP={provide:Sp,useExisting:Er(()=>xp),multi:!0},xp=(()=>{class t extends FC{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ri(t)))(i||t)}})();static \u0275dir=Ce({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&re("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ts([AP]),gn]})}return t})();var MP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Hn({type:t});static \u0275inj=$n({})}return t})();var _t=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Np,useValue:n.callSetDisabledState??Rp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Hn({type:t});static \u0275inj=$n({imports:[MP]})}return t})();var Fl=class t{text="Jean Paul";resetText(){this.text=""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-data-binding"]],decls:10,vars:3,consts:[["for","input"],["type","text","id","input",3,"ngModelChange","ngModel"],["id","read"],[3,"click","disabled"]],template:function(n,r){n&1&&(g(0,"label",0),v(1,"Nom d'utilisateur :"),m(),M(2,"br"),g(3,"input",1),Te("ngModelChange",function(o){return Re(r.text,o)||(r.text=o),o}),m(),M(4,"br")(5,"br"),g(6,"p",2),v(7),m(),g(8,"button",3),re("click",function(){return r.resetText()}),v(9,"Reset"),m()),n&2&&(I(3),be("ngModel",r.text),I(4),Ie(r.text),I(),W("disabled",r.text.length===0))},dependencies:[_t,Ye,yt,st],styles:["p[_ngcontent-%COMP%]{background-color:#88da9a;padding:1rem;border-radius:.2rem}"]})};var Ll=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-2"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),v(1,"composant-2 works!"),m())},styles:["p[_ngcontent-%COMP%]{background-color:#adff2f}"]})};var Vl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-4"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),v(1,"composant-4 works!"),m())},styles:["p[_ngcontent-%COMP%]{background-color:#dc143c}"]})};var jl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-5"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),v(1,"composant-5 works!"),m())},styles:["p[_ngcontent-%COMP%]{background-color:bisque}"]})};var Ul=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-6"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),v(1,"composant-6 works!"),m())},styles:["p[_ngcontent-%COMP%]{background-color:#7fffd4}"]})};var Bl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-3"]],decls:6,vars:0,template:function(n,r){n&1&&(g(0,"p"),v(1,"composant-3 works!"),m(),g(2,"div"),M(3,"app-composant-4")(4,"app-composant-5")(5,"app-composant-6"),m())},dependencies:[Vl,jl,Ul],styles:["p[_ngcontent-%COMP%]{background-color:#8a2be2}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}"]})};var $l=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-1"]],decls:5,vars:0,template:function(n,r){n&1&&(g(0,"div")(1,"p"),v(2,"composant-1 works!"),m(),M(3,"app-composant-2"),m(),M(4,"app-composant-3"))},dependencies:[Ll,Bl],styles:["div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}p[_ngcontent-%COMP%]{background-color:#0ff}"]})};var Hl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-0"]],decls:3,vars:0,template:function(n,r){n&1&&(g(0,"p"),v(1,"composant-0 works!"),m(),M(2,"app-composant-1"))},dependencies:[$l],styles:["p[_ngcontent-%COMP%]{background-color:brown;align-self:center}"]})};var NP=t=>({backgroundColor:t});function RP(t,e){if(t&1&&(g(0,"li"),v(1),m()),t&2){let n=e.$implicit;I(),Ie(n)}}var Wl=class t{friend;ngOnInit(){Math.random()<.5?this.friend.online=!1:this.friend.online=!0}getColor(){return this.friend.online===!0?"#80ef80":"#ff746c"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-one-friend"]],inputs:{friend:"friend"},decls:27,vars:13,consts:[[3,"ngStyle"],[3,"src","alt"],[3,"ngClass"],[4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(g(0,"section",0),M(1,"img",1),g(2,"h2",2),v(3),m(),g(4,"p"),v(5," Age : "),g(6,"span"),v(7),m()(),g(8,"p"),v(9," Status : "),g(10,"span"),v(11),m()(),g(12,"p"),v(13," bio : "),g(14,"span"),v(15),m()(),M(16,"hr"),g(17,"p"),v(18),m(),g(19,"ul"),Ee(20,RP,2,1,"li",3),m(),M(21,"hr"),g(22,"p"),v(23," Popularit\xE9 : "),g(24,"span"),v(25),m()(),M(26,"hr"),m()),n&2&&(W("ngStyle",Qc(11,NP,r.getColor())),I(),mn("src",r.friend.imageUrl,es),mn("alt",r.friend.name),I(),W("ngClass",r.friend.online===!0?"amiOn":"amiOff"),I(),De(" ",r.friend.name," "),I(4),Ie(r.friend.age),I(4),Ie(r.friend.online),I(4),Ie(r.friend.bio),I(3),De("Les passions de ",r.friend.name,":"),I(2),W("ngForOf",r.friend.passions),I(5),Ie(r.friend.fame))},dependencies:[qt,el,Bi],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#c7f7f7;padding:1rem;border-radius:.2rem;box-shadow:1em 1em #f0acf0;margin:1rem;min-width:12vw;max-width:20vw}img[_ngcontent-%COMP%]{width:10rem}.amiOn[_ngcontent-%COMP%]{color:#80ef80}.amiOff[_ngcontent-%COMP%]{color:#f2f0ef}"]})};var zl=class t{maleFirstnames=["Paul","Jean","Maximus","Jordy"];femaleFirstnames=["Marie","Vanessa","Paulette","Christiane","Lucie","Marjol\xE8ne","Sophia"];friends=[this.generatePeople(),this.generatePeople(),this.generatePeople()];strangers=[];generatePeople(){let e=this.generateGender(),n=this.generateFirstname(e),r=this.generatePassions(),i=this.generateBio(e,r),o=this.generateAge(),s=this.generateFame(),a=`https://picsum.photos/${Math.floor(Math.random()*500)}/`;return{name:n,online:!0,bio:i,passions:r,fame:s,age:o,imageUrl:a}}generateAge(){return Math.floor(Math.random()*65)+18}generateFame(){return Math.floor(Math.random()*100)}generateFirstname(e){let n=e==="Homme"?this.maleFirstnames:this.femaleFirstnames;return n[Math.floor(Math.random()*n.length)]}generateGender(){return Math.random()>.5?"Homme":"Femme"}generateBio(e,n){return`Je suis ${e==="Homme"?"un":"une"} grand${e==="Homme"?"":"e"} fan de ${n[0].toLocaleLowerCase()}. ${n[1]?"J'aimerais rencontrer quelqu'un qui appr\xE9cie aussi tout ce qui est "+n[1].toLocaleLowerCase():""}`}generatePassions(){let e=[],n=["Balade \xE0 v\xE9lo","Balade en voiture","Balade \xE0 cheval","Tennis","Ping-pong","Jeux-vid\xE9os","Lecture","Les grosses voitures","Les \xE9checs","Le fromage","La planche \xE0 voile","La cuisine"],r=Math.floor(Math.random()*3)+1;for(let i=0;i<r;i++){let o=n[i];e.push(o)}return e}add(e){let n=this.generatePassions();console.log(n),this.friends.push({name:e,online:!0,bio:this.generateBio(this.generateGender(),n),passions:n,fame:this.generateFame(),age:this.generateAge(),imageUrl:"https://picsum.photos/456/"})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function kP(t,e){if(t&1&&(g(0,"p"),v(1),m()),t&2){let n=Mt();I(),Zc(" Vous avez ",n.PeopleService.friends.length," ami",n.PeopleService.friends.length>1?"s":"",`
`)}}function PP(t,e){if(t&1&&v(0),t&2){let n=Mt();De("Vous avez ajout\xE9 ",n.newlyAddedFriend,"")}}function OP(t,e){if(t&1&&(g(0,"article"),M(1,"app-one-friend",6),m()),t&2){let n=e.$implicit;I(),W("friend",n)}}var Gl=class t{constructor(e){this.PeopleService=e}isDisabled=!1;textInput="";isClicked=!1;newlyAddedFriend="";ngOnInit(){setTimeout(()=>{this.isDisabled=!0},3e3)}handleClick=()=>{this.textInput&&(this.PeopleService.add(this.textInput),this.isClicked=!0,this.newlyAddedFriend=this.textInput,this.textInput="")};static \u0275fac=function(n){return new(n||t)(x(zl))};static \u0275cmp=A({type:t,selectors:[["app-list-friends"]],decls:17,vars:10,consts:[["newFriend",""],[3,"disabled"],["type","text",3,"ngModelChange","ngModel"],[4,"ngIf","ngIfElse"],[3,"click","disabled"],[4,"ngFor","ngForOf"],[3,"friend"]],template:function(n,r){if(n&1){let i=Yc();g(0,"h1"),v(1,"List friends (interpolation)"),m(),g(2,"button",1),v(3),m(),M(4,"hr"),g(5,"h2"),v(6),m(),g(7,"input",2),Te("ngModelChange",function(s){return Yo(i),Re(r.textInput,s)||(r.textInput=s),Zo(s)}),m(),M(8,"br"),Ee(9,kP,2,2,"p",3)(10,PP,1,1,"ng-template",null,0,Li),M(12,"br"),g(13,"button",4),re("click",function(){return Yo(i),Zo(r.handleClick())}),v(14),m(),g(15,"div"),Ee(16,OP,2,1,"article",5),m()}if(n&2){let i=Fi(11);I(2),W("disabled",r.isDisabled),I(),De(" ",r.isDisabled?"Clique pas":"Clique",`
`),I(3),Zc(" ",r.PeopleService.friends.length," ami",r.PeopleService.friends.length>0?"s":"",` \u{1F91D}
`),I(),be("ngModel",r.textInput),I(2),W("ngIf",r.newlyAddedFriend.length===0)("ngIfElse",i),I(4),W("disabled",!r.textInput),I(),De(" ",r.isClicked?"Ami ajout\xE9 !":"Aucun ami",`
`),I(2),W("ngForOf",r.PeopleService.friends)}},dependencies:[mt,qt,Wl,_t,Ye,yt,st],styles:["div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}button[_ngcontent-%COMP%]{background-color:brown;color:#fff;border:none;padding:.5rem 1rem;border-radius:.2rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#e7cf48}button[disabled][_ngcontent-%COMP%]{background-color:#413a3a;font-style:italic;cursor:not-allowed}"]})};var ql=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-interpolation"]],decls:1,vars:0,template:function(n,r){n&1&&M(0,"app-list-friends")},dependencies:[Gl],encapsulation:2})};var FP=()=>({backgroundColor:"aquamarine"}),LP=()=>({backgroundColor:"white"}),VP=t=>({classOn:t});function jP(t,e){t&1&&(g(0,"div")(1,"p"),v(2," Lorem ipsum dolor sit, amet consectetur adipisicing elit. At ipsam dolorum dignissimos corrupti harum itaque sit quas ab dolore pariatur, totam veniam incidunt suscipit obcaecati saepe, delectus perferendis consectetur impedit! "),m()())}function UP(t,e){if(t&1&&(g(0,"p",3),v(1),m()),t&2){let n=e.$implicit;W("ngStyle",n>4?_h(3,FP):_h(4,LP))("ngClass",Qc(5,VP,n>4)),I(),De(" ",n,`
`)}}var Kl=class t{details=!1;array=[];toggleDetails(){this.details&&this.addCell(),this.details=!this.details}addCell(){this.array.push(this.array.length+1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-directives"]],decls:6,vars:3,consts:[[3,"click"],[4,"ngIf"],[3,"ngStyle","ngClass",4,"ngFor","ngForOf"],[3,"ngStyle","ngClass"]],template:function(n,r){n&1&&(g(0,"button",0),re("click",function(){return r.toggleDetails()}),v(1),m(),M(2,"br"),Ee(3,jP,3,0,"div",1)(4,UP,2,7,"p",2),M(5,"br")),n&2&&(I(),De(" ",r.details?"Masquer d\xE9tail":"Afficher d\xE9tails",`
`),I(2),W("ngIf",r.details),I(),W("ngForOf",r.array))},dependencies:[qt,mt,Bi,el],styles:["button[_ngcontent-%COMP%]{background-color:#00f;color:#fff;width:100%;border:none;padding:1rem;border-radius:.2rem;font-size:large;font-family:Verdana,Geneva,Tahoma,sans-serif;cursor:pointer}.classOn[_ngcontent-%COMP%]{color:#fff}.classOff[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{margin:0;padding:0}"]})};var Yl=class t{articleCreated=new fe;author="";title="";content="";createDocument(e){return{id:0,author:this.author,title:this.title,content:this.content,type:e,date:new Date}}addDocument(e){let n=e==="article"?this.createDocument("article"):this.createDocument("draft");this.articleCreated.emit({article:n})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-add-article"]],outputs:{articleCreated:"articleCreated"},decls:22,vars:3,consts:[["action",""],["for","title"],["type","text","id","title","placeholder","Votre titre","name","title",3,"ngModelChange","ngModel"],["for","author"],["type","text","id","author","placeholder","Auteur","name","author",3,"ngModelChange","ngModel"],["for","content"],["name","content","id","content","name","content",3,"ngModelChange","ngModel"],["type","button",3,"click"],[3,"click"]],template:function(n,r){n&1&&(g(0,"h2"),v(1,"Formulaire"),m(),g(2,"form",0)(3,"div")(4,"label",1),v(5,"Titre de l'article"),m(),M(6,"br"),g(7,"input",2),Te("ngModelChange",function(o){return Re(r.title,o)||(r.title=o),o}),m()(),g(8,"div")(9,"label",3),v(10,"Auteur"),m(),M(11,"br"),g(12,"input",4),Te("ngModelChange",function(o){return Re(r.author,o)||(r.author=o),o}),m()(),g(13,"div")(14,"label",5),v(15,"Contenu"),m(),M(16,"br"),g(17,"textarea",6),Te("ngModelChange",function(o){return Re(r.content,o)||(r.content=o),o}),m()(),g(18,"button",7),re("click",function(){return r.addDocument("article")}),v(19," Ajouter article "),m(),g(20,"button",8),re("click",function(){return r.addDocument("draft")}),v(21,"AjouterBrouillon"),m()()),n&2&&(I(7),be("ngModel",r.title),I(5),be("ngModel",r.author),I(5),be("ngModel",r.content))},dependencies:[_t,Kn,Ye,yt,qn,st,En],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;gap:1rem;background-color:#bd93e7;padding:2rem;border-radius:.2rem;margin:2rem}"]})};var Zl=class t{article;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-article-element"]],inputs:{article:"article"},decls:11,vars:5,consts:[[3,"ngClass"]],template:function(n,r){n&1&&(g(0,"article",0)(1,"header")(2,"h4"),v(3),m(),g(4,"time"),v(5),m()(),g(6,"p"),v(7),m(),g(8,"footer")(9,"address"),v(10),m()()()),n&2&&(W("ngClass",r.article.type==="draft"?"draft":""),I(3),Ie(r.article.title),I(2),Ie(r.article.date),I(2),Ie(r.article.content),I(3),Ie(r.article.author))},dependencies:[Bi],styles:["header[_ngcontent-%COMP%]{background-color:#68eeeea8;padding:1rem}article[_ngcontent-%COMP%]{background-color:#68eeeea8;border-radius:.2rem;padding:1rem;margin:1rem}.draft[_ngcontent-%COMP%]{background-color:#d2e0e0a8}.draft[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{background-color:#d2e0e0a8}footer[_ngcontent-%COMP%]{margin-top:1rem;text-align:end}"]})};function BP(t,e){if(t&1&&M(0,"app-article-element",2),t&2){let n=e.$implicit;W("article",n)}}var Ql=class t{articles=[{id:1,title:"Mon premier article",content:"Ceci est le contenu de mon premier article.",author:"Auteur 1",date:new Date("2023-01-01"),type:"article"},{id:2,title:"Mon deuxi\xE8me article",content:"Ceci est le contenu de mon deuxi\xE8me article.",author:"Auteur 2",date:new Date("2023-02-01"),type:"brouillon"}];onArticleAdded(e){let n=e.article;this.articles.push(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-blog-control-center"]],decls:4,vars:1,consts:[[3,"articleCreated"],[3,"article",4,"ngFor","ngForOf"],[3,"article"]],template:function(n,r){n&1&&(g(0,"app-add-article",0),re("articleCreated",function(o){return r.onArticleAdded(o)}),m(),g(1,"h2"),v(2,"Articles"),m(),Ee(3,BP,1,1,"app-article-element",1)),n&2&&(I(3),W("ngForOf",r.articles.reverse()))},dependencies:[Yl,Zl,qt],encapsulation:2})};var Jl=class t{card;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-card"]],inputs:{card:"card"},decls:4,vars:3,consts:[[3,"src","alt"]],template:function(n,r){n&1&&(g(0,"div")(1,"h2"),v(2),m(),M(3,"img",0),m()),n&2&&(I(2),Ie(r.card.name),I(),mn("src",r.card.image,es),mn("alt",r.card.name))},styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}img[_ngcontent-%COMP%]{width:24rem}"]})};var Xl=class t{apiUrl="https://db.ygoprodeck.com/api/v7/cardinfo.php?&startdate=2023-01-01&enddate=2024-08-23&dateregion=tcg";fetchCards(){return p(this,null,function*(){let e=this.apiUrl;try{let n=yield fetch(e);if(!n.ok)throw new Error(`Response status: ${n.status}`);return(yield n.json()).data}catch(n){console.error(n.message)}})}formatData(e){return e.map(n=>({id:n.id,name:n.name,image:n.card_images[0].image_url,level:n.level}))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};function HP(t,e){t&1&&(g(0,"p"),v(1,"Now loading..."),m())}function WP(t,e){if(t&1&&M(0,"app-card",3),t&2){let n=e.$implicit;W("card",n)}}function zP(t,e){if(t&1&&(g(0,"article"),Ee(1,WP,1,1,"app-card",2),m()),t&2){let n=Mt();I(),W("ngForOf",n.cards)}}var eu=class t{constructor(e){this.api=e}cards=[];isLoading=!1;errorMessage="";ngOnInit(){this.loadAPI()}loadAPI(){this.api.fetchCards().then(e=>{this.cards=this.api.formatData(e),this.isLoading=!1}).catch(e=>{this.errorMessage=e.message,this.isLoading=!1})}static \u0275fac=function(n){return new(n||t)(x(Xl))};static \u0275cmp=A({type:t,selectors:[["app-api"]],decls:5,vars:2,consts:[["render",""],[4,"ngIf","ngIfElse"],[3,"card",4,"ngFor","ngForOf"],[3,"card"]],template:function(n,r){if(n&1&&(g(0,"h1"),v(1,"Yu-Gi-Oh!"),m(),Ee(2,HP,2,0,"p",1)(3,zP,2,1,"ng-template",null,0,Li)),n&2){let i=Fi(4);I(2),W("ngIf",r.isLoading)("ngIfElse",i)}},dependencies:[qt,Jl,mt],styles:["h1[_ngcontent-%COMP%]{text-align:center;background-color:#5a5ad6;color:#fff;padding:1rem;border-radius:.3rem;box-shadow:1px 1px 5px #000;-webkit-user-select:none;user-select:none}article[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center;gap:1rem}"]})};var Pp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var C=function(t,e){if(!t)throw Pr(e)},Pr=function(t){return new Error("Firebase Database ("+Pp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var ZC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Op;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let y=l<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Op=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Lp=function(t){let e=ZC(t);return oo.encodeByteArray(e,!0)},xs=function(t){return Lp(t).replace(/\./g,"")},ro=function(t){try{return oo.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function QC(t){return JC(void 0,t)}function JC(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!qP(n)||(t[n]=JC(t[n],e[n]));return t}function qP(t){return t!=="__proto__"}function XC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KP=()=>XC().__FIREBASE_DEFAULTS__,YP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ZP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&ro(t[1]);return e&&JSON.parse(e)},Vp=()=>{try{return KP()||YP()||ZP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jp=t=>{var e,n;return(n=(e=Vp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},eI=t=>{let e=jp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Up=()=>{var t;return(t=Vp())===null||t===void 0?void 0:t.config},Bp=t=>{var e;return(e=Vp())===null||e===void 0?void 0:e[`_${t}`]};var Yt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function tI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xs(JSON.stringify(n)),xs(JSON.stringify(s)),""].join(".")}function Oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ks(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function nI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iI(){let t=Oe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zt(){return Pp.NODE_CLIENT===!0||Pp.NODE_ADMIN===!0}function ru(){try{return typeof indexedDB=="object"}catch{return!1}}function oI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var QP="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}},xt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Rt(i,a,r)}};function JP(t,e){return t.replace(XP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var XP=/\{\$([^}]+)}/g;function io(t){return JSON.parse(t)}function Se(t){return JSON.stringify(t)}var sI=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=io(ro(o[0])||""),n=io(ro(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var aI=function(t){let e=sI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},cI=function(t){let e=sI(t).claims;return typeof e=="object"&&e.admin===!0};function Qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Or(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Ps(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Os(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function so(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(YC(o)&&YC(s)){if(!so(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function YC(t){return t!==null&&typeof t=="object"}function Fr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ao(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function co(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var tu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function lI(t,e){let n=new Fp(t,e);return n.subscribe.bind(n)}var Fp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kp),i.error===void 0&&(i.error=kp),i.complete===void 0&&(i.complete=kp);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kp(){}function uI(t,e){return`${t} failed: ${e} argument `}var dI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,C(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fs=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var i8=4*60*60*1e3;function at(t){return t&&t._delegate?t._delegate:t}var We=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Lr="[DEFAULT]";var iu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Yt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nO(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tO(t){return t===Lr?void 0:t}function nO(t){return t.instantiationMode==="EAGER"}var Ls=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new iu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var rO=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),iO={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},oO=ee.INFO,sO={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},aO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=sO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Jt=class{constructor(e){this.name=e,this._logLevel=oO,this._logHandler=aO,this._userLogHandler=null,rO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var cO=(t,e)=>e.some(n=>t instanceof n),fI,hI;function lO(){return fI||(fI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uO(){return hI||(hI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pI=new WeakMap,Hp=new WeakMap,gI=new WeakMap,$p=new WeakMap,zp=new WeakMap;function dO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Xt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&pI.set(n,t)}).catch(()=>{}),zp.set(e,t),e}function fO(t){if(Hp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Hp.set(t,e)}var Wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mI(t){Wp=t(Wp)}function hO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ou(this),e,...n);return gI.set(r,e.sort?e.sort():[e]),Xt(r)}:uO().includes(t)?function(...e){return t.apply(ou(this),e),Xt(pI.get(this))}:function(...e){return Xt(t.apply(ou(this),e))}}function pO(t){return typeof t=="function"?hO(t):(t instanceof IDBTransaction&&fO(t),cO(t,lO())?new Proxy(t,Wp):t)}function Xt(t){if(t instanceof IDBRequest)return dO(t);if($p.has(t))return $p.get(t);let e=pO(t);return e!==t&&($p.set(t,e),zp.set(e,t)),e}var ou=t=>zp.get(t);function yI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Xt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Xt(s.result),c.oldVersion,c.newVersion,Xt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var gO=["get","getKey","getAll","getAllKeys","count"],mO=["put","add","delete","clear"],Gp=new Map;function vI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=mO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gO.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Gp.set(e,o),o}mI(t=>$(w({},t),{get:(e,n,r)=>vI(e,n)||t.get(e,n,r),has:(e,n)=>!!vI(e,n)||t.has(e,n)}));var Kp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function vO(t){let e=t.getComponent();return e?.type==="VERSION"}var Yp="@firebase/app",_I="0.11.1";var wn=new Jt("@firebase/app"),yO="@firebase/app-compat",_O="@firebase/analytics-compat",EO="@firebase/analytics",wO="@firebase/app-check-compat",CO="@firebase/app-check",IO="@firebase/auth",DO="@firebase/auth-compat",bO="@firebase/database",TO="@firebase/data-connect",SO="@firebase/database-compat",AO="@firebase/functions",MO="@firebase/functions-compat",NO="@firebase/installations",RO="@firebase/installations-compat",xO="@firebase/messaging",kO="@firebase/messaging-compat",PO="@firebase/performance",OO="@firebase/performance-compat",FO="@firebase/remote-config",LO="@firebase/remote-config-compat",VO="@firebase/storage",jO="@firebase/storage-compat",UO="@firebase/firestore",BO="@firebase/vertexai",$O="@firebase/firestore-compat",HO="firebase",WO="11.3.1";var Zp="[DEFAULT]",zO={[Yp]:"fire-core",[yO]:"fire-core-compat",[EO]:"fire-analytics",[_O]:"fire-analytics-compat",[CO]:"fire-app-check",[wO]:"fire-app-check-compat",[IO]:"fire-auth",[DO]:"fire-auth-compat",[bO]:"fire-rtdb",[TO]:"fire-data-connect",[SO]:"fire-rtdb-compat",[AO]:"fire-fn",[MO]:"fire-fn-compat",[NO]:"fire-iid",[RO]:"fire-iid-compat",[xO]:"fire-fcm",[kO]:"fire-fcm-compat",[PO]:"fire-perf",[OO]:"fire-perf-compat",[FO]:"fire-rc",[LO]:"fire-rc-compat",[VO]:"fire-gcs",[jO]:"fire-gcs-compat",[UO]:"fire-fst",[$O]:"fire-fst-compat",[BO]:"fire-vertex","fire-js":"fire-js",[HO]:"fire-js-all"};var Vs=new Map,GO=new Map,Qp=new Map;function EI(t,e){try{t.container.addComponent(e)}catch(n){wn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kt(t){let e=t.name;if(Qp.has(e))return wn.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,t);for(let n of Vs.values())EI(n,t);for(let n of GO.values())EI(n,t);return!0}function lo(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ze(t){return t==null?!1:t.settings!==void 0}var qO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yn=new xt("app","Firebase",qO);var Jp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new We("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}};var Zn=WO;function tg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Zp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Yn.create("bad-app-name",{appName:String(i)});if(n||(n=Up()),!n)throw Yn.create("no-options");let o=Vs.get(i);if(o){if(so(n,o.options)&&so(r,o.config))return o;throw Yn.create("duplicate-app",{appName:i})}let s=new Ls(i);for(let c of Qp.values())s.addComponent(c);let a=new Jp(n,r,s);return Vs.set(i,a),a}function Vr(t=Zp){let e=Vs.get(t);if(!e&&t===Zp&&Up())return tg();if(!e)throw Yn.create("no-app",{appName:t});return e}function su(){return Array.from(Vs.values())}function he(t,e,n){var r;let i=(r=zO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wn.warn(a.join(" "));return}kt(new We(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var KO="firebase-heartbeat-database",YO=1,js="firebase-heartbeat-store",qp=null;function DI(){return qp||(qp=yI(KO,YO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(js)}catch(n){console.warn(n)}}}}).catch(t=>{throw Yn.create("idb-open",{originalErrorMessage:t.message})})),qp}function ZO(t){return p(this,null,function*(){try{let n=(yield DI()).transaction(js),r=yield n.objectStore(js).get(bI(t));return yield n.done,r}catch(e){if(e instanceof Rt)wn.warn(e.message);else{let n=Yn.create("idb-get",{originalErrorMessage:e?.message});wn.warn(n.message)}}})}function wI(t,e){return p(this,null,function*(){try{let r=(yield DI()).transaction(js,"readwrite");yield r.objectStore(js).put(e,bI(t)),yield r.done}catch(n){if(n instanceof Rt)wn.warn(n.message);else{let r=Yn.create("idb-set",{originalErrorMessage:n?.message});wn.warn(r.message)}}})}function bI(t){return`${t.name}!${t.options.appId}`}var QO=1024,JO=30,Xp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new eg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=CI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>JO){let s=eF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wn.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=CI(),{heartbeatsToSend:r,unsentEntries:i}=XO(this._heartbeatsCache.heartbeats),o=xs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wn.warn(n),""}})}};function CI(){return new Date().toISOString().substring(0,10)}function XO(t,e=QO){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),II(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),II(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var eg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return ru()?oI().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield ZO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function II(t){return xs(JSON.stringify({version:2,heartbeats:t})).length}function eF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function tF(t){kt(new We("platform-logger",e=>new Kp(e),"PRIVATE")),kt(new We("heartbeat",e=>new Xp(e),"PRIVATE")),he(Yp,_I,t),he(Yp,_I,"esm2017"),he("fire-js","")}tF("");function BI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var $I=BI,HI=new xt("auth","Firebase",BI());var fu=new Jt("@firebase/auth");function nF(t,...e){fu.logLevel<=ee.WARN&&fu.warn(`Auth (${Zn}): ${t}`,...e)}function cu(t,...e){fu.logLevel<=ee.ERROR&&fu.error(`Auth (${Zn}): ${t}`,...e)}function tn(t,...e){throw Tg(t,...e)}function jr(t,...e){return Tg(t,...e)}function WI(t,e,n){let r=Object.assign(Object.assign({},$I()),{[e]:n});return new xt("auth","Firebase",r).create(e,{appName:t.name})}function Dn(t){return WI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HI.create(t,...e)}function N(t,e,...n){if(!t)throw Tg(e,...n)}function Cn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw cu(e),new Error(e)}function Jn(t,e){t||Cn(e)}function og(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rF(){return TI()==="http:"||TI()==="https:"}function TI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function iF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rF()||rI()||"connection"in navigator)?navigator.onLine:!0}function oF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ur=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jn(n>e,"Short delay should be less than long delay!"),this.isMobile=ks()||nu()}get(){return iF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Sg(t,e){Jn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var sF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var aF=new Ur(3e4,6e4);function Xn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function er(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return zI(t,i,()=>p(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Fr(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return nI()||(h.referrerPolicy="no-referrer"),hu.fetch()(GI(t,t.config.apiHost,n,d),h)}))})}function zI(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},sF),e);try{let i=new sg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw au(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw au(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw au(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw WI(t,u,l);tn(t,u)}}catch(i){if(i instanceof Rt)throw i;tn(t,"network-request-failed",{message:String(i)})}})}function Ks(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let l=yield er(t,e,n,r,i);return"mfaPendingCredential"in l&&tn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function GI(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Sg(t.config,i):`${t.config.apiScheme}://${i}`}function cF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var sg=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),aF.get())})}};function au(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=jr(t,e,r);return i.customData._tokenResponse=n,i}function SI(t){return t!==void 0&&t.enterprise!==void 0}var ag=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function lF(t,e){return p(this,null,function*(){return er(t,"GET","/v2/recaptchaConfig",Xn(t,e))})}function uF(t,e){return p(this,null,function*(){return er(t,"POST","/v1/accounts:delete",e)})}function qI(t,e){return p(this,null,function*(){return er(t,"POST","/v1/accounts:lookup",e)})}function Bs(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ag(t,e=!1){return p(this,null,function*(){let n=at(t),r=yield n.getIdToken(e),i=Mg(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bs(ng(i.auth_time)),issuedAtTime:Bs(ng(i.iat)),expirationTime:Bs(ng(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ng(t){return Number(t)*1e3}function Mg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cu("JWT malformed, contained fewer than 3 sections"),null;try{let i=ro(n);return i?JSON.parse(i):(cu("Failed to decode base64 JWT payload"),null)}catch(i){return cu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function AI(t){let e=Mg(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Hs(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Rt&&dF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function dF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var cg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ws=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bs(this.lastLoginAt),this.creationTime=Bs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function pu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Hs(t,qI(n,{idToken:r}));N(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?KI(o.providerUserInfo):[],a=fF(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ws(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Ng(t){return p(this,null,function*(){let e=at(t);yield pu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function fF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function KI(t){return t.map(e=>{var{providerId:n}=e,r=bd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function hF(t,e){return p(this,null,function*(){let n=yield zI(t,{},()=>p(this,null,function*(){let r=Fr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=GI(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hu.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function pF(t,e){return p(this,null,function*(){return er(t,"POST","/v2/accounts:revokeToken",Xn(t,e))})}var $s=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){N(e.length!==0,"internal-error");let n=AI(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(N(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield hF(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(N(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(N(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(N(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Cn("not implemented")}};function Qn(t,e){N(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var uo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=bd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ws(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield Hs(this,this.stsTokenManager.getToken(this.auth,e));return N(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ag(this,e)}reload(){return Ng(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield pu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(Ze(this.auth.app))return Promise.reject(Dn(this.auth));let e=yield this.getIdToken();return yield Hs(this,uF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,y=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ke=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:q,emailVerified:je,isAnonymous:Xr,providerData:An,stsTokenManager:ov}=n;N(q&&ov,e,"internal-error");let x0=$s.fromJSON(this.name,ov);N(typeof q=="string",e,"internal-error"),Qn(d,e.name),Qn(f,e.name),N(typeof je=="boolean",e,"internal-error"),N(typeof Xr=="boolean",e,"internal-error"),Qn(h,e.name),Qn(y,e.name),Qn(E,e.name),Qn(b,e.name),Qn(F,e.name),Qn(ke,e.name);let od=new t({uid:q,auth:e,email:f,emailVerified:je,displayName:d,isAnonymous:Xr,photoURL:y,phoneNumber:h,tenantId:E,stsTokenManager:x0,createdAt:F,lastLoginAt:ke});return An&&Array.isArray(An)&&(od.providerData=An.map(k0=>Object.assign({},k0))),b&&(od._redirectEventId=b),od}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new $s;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];N(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?KI(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new $s;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ws(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var MI=new Map;function In(t){Jn(t instanceof Function,"Expected a class definition");let e=MI.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MI.set(t,e),e)}var gF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),lg=gF;function lu(t,e,n){return`firebase:${t}:${e}:${n}`}var gu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=lu(this.userKey,i.apiKey,o),this.fullPersistenceKey=lu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?uo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(In(lg),e,r);let i=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||In(lg),s=lu(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=uo._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function NI(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eD(e))return"Blackberry";if(tD(e))return"Webos";if(ZI(e))return"Safari";if((e.includes("chrome/")||QI(e))&&!e.includes("edge/"))return"Chrome";if(XI(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function YI(t=Oe()){return/firefox\//i.test(t)}function ZI(t=Oe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QI(t=Oe()){return/crios\//i.test(t)}function JI(t=Oe()){return/iemobile/i.test(t)}function XI(t=Oe()){return/android/i.test(t)}function eD(t=Oe()){return/blackberry/i.test(t)}function tD(t=Oe()){return/webos/i.test(t)}function Rg(t=Oe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mF(t=Oe()){var e;return Rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vF(){return iI()&&document.documentMode===10}function nD(t=Oe()){return Rg(t)||XI(t)||tD(t)||eD(t)||/windows phone/i.test(t)||JI(t)}function rD(t,e=[]){let n;switch(t){case"Browser":n=NI(Oe());break;case"Worker":n=`${NI(Oe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zn}/${r}`}var ug=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function yF(n){return p(this,arguments,function*(t,e={}){return er(t,"GET","/v2/passwordPolicy",Xn(t,e))})}var _F=6,dg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:_F,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var fg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mu(this),this.idTokenSubscription=new mu(this),this.beforeStateQueue=new ug(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=In(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield gu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield qI(this,{idToken:e}),r=yield uo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(Ze(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return N(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield pu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=oF()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(Ze(this.app))return Promise.reject(Dn(this));let n=e?at(e):null;return n&&N(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&N(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return Ze(this.app)?Promise.reject(Dn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ze(this.app)?Promise.reject(Dn(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(In(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield yF(this),n=new dg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield pF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&In(e)||this._popupRedirectResolver;N(n,this,"argument-error"),this.redirectPersistenceManager=yield gu.create(this,[In(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;if(Ze(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&nF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function $r(t){return at(t)}var mu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=lI(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Iu={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EF(t){Iu=t}function iD(t){return Iu.loadJS(t)}function wF(){return Iu.recaptchaEnterpriseScript}function CF(){return Iu.gapiScript}function oD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var hg=class{constructor(){this.enterprise=new pg}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},pg=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var IF="recaptcha-enterprise",sD="NO_RECAPTCHA",gg=class{constructor(e){this.type=IF,this.auth=$r(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(this,null,function*(){lF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ag(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;SI(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(sD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hg().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&SI(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=wF();c.length!==0&&(c+=a),iD(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function Us(t,e,n,r=!1,i=!1){return p(this,null,function*(){let o=new gg(t),s;if(i)s=sD;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function mg(t,e,n,r,i){return p(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Us(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>p(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield Us(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Us(t,e,n);return r(t,a).catch(c=>p(this,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let u=yield Us(t,e,n,!1,!0);return r(t,u)}return Promise.reject(c)}))}else{let a=yield Us(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function xg(t,e){let n=lo(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(so(o,e??{}))return i;tn(i,"already-initialized")}return n.initialize({options:e})}function DF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(In);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function kg(t,e,n){let r=$r(t);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=aD(e),{host:s,port:a}=bF(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||TF()}function aD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function bF(t){let e=aD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:RI(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:RI(s)}}}function RI(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function TF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var zs=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cn("not implemented")}_getIdTokenResponse(e){return Cn("not implemented")}_linkToIdToken(e,n){return Cn("not implemented")}_getReauthenticationResolver(e){return Cn("not implemented")}};function SF(t,e){return p(this,null,function*(){return er(t,"POST","/v1/accounts:signUp",e)})}function AF(t,e){return p(this,null,function*(){return Ks(t,"POST","/v1/accounts:signInWithPassword",Xn(t,e))})}function MF(t,e){return p(this,null,function*(){return Ks(t,"POST","/v1/accounts:signInWithEmailLink",Xn(t,e))})}function NF(t,e){return p(this,null,function*(){return Ks(t,"POST","/v1/accounts:signInWithEmailLink",Xn(t,e))})}var Gs=class t extends zs{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,n,"signInWithPassword",AF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return MF(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,r,"signUpPassword",SF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return NF(e,{idToken:n,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function rg(t,e){return p(this,null,function*(){return Ks(t,"POST","/v1/accounts:signInWithIdp",Xn(t,e))})}function RF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xF(t){let e=ao(co(t)).link,n=e?ao(co(e)).deep_link_id:null,r=ao(co(t)).deep_link_id;return(r?ao(co(r)).link:null)||r||n||e||t}var vu=class t{constructor(e){var n,r,i,o,s,a;let c=ao(co(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=RF((i=c.mode)!==null&&i!==void 0?i:null);N(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=xF(e);try{return new t(n)}catch{return null}}};var cD=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Gs._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=vu.parseLink(r);return N(i,"argument-error"),Gs._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),yu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vg=class extends yu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function kF(t,e){return p(this,null,function*(){return Ks(t,"POST","/v1/accounts:signUp",Xn(t,e))})}var fo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let o=yield uo._fromIdTokenResponse(e,r,i),s=xI(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=xI(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function xI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var yg=class t extends Rt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function lD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?yg._fromErrorAndOperation(t,o,e,r):o})}function PF(t,e,n=!1){return p(this,null,function*(){let r=yield Hs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fo._forOperation(t,"link",r)})}function OF(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(Ze(r.app))return Promise.reject(Dn(r));let i="reauthenticate";try{let o=yield Hs(t,lD(r,i,e,t),n);N(o.idToken,r,"internal-error");let s=Mg(o.idToken);N(s,r,"internal-error");let{sub:a}=s;return N(t.uid===a,r,"user-mismatch"),fo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&tn(r,"user-mismatch"),o}})}function uD(t,e,n=!1){return p(this,null,function*(){if(Ze(t.app))return Promise.reject(Dn(t));let r="signIn",i=yield lD(t,r,e),o=yield fo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Pg(t,e){return p(this,null,function*(){return uD($r(t),e)})}function dD(t){return p(this,null,function*(){let e=$r(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Du(t,e,n){return p(this,null,function*(){if(Ze(t.app))return Promise.reject(Dn(t));let r=$r(t),s=yield mg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kF,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&dD(t),c}),a=yield fo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function bu(t,e,n){return Ze(t.app)?Promise.reject(Dn(t)):Pg(at(t),cD.credential(e,n)).catch(r=>p(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&dD(t),r}))}function Og(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function Fg(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function Tu(t){return at(t).signOut()}var _u="__sak";var Eu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var FF=1e3,LF=10,VF=(()=>{class t extends Eu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);vF()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,LF):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},FF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield sr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield sr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield sr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),fD=VF;var jF=(()=>{class t extends Eu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Lg=jF;function UF(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var BF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield UF(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function hD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var _g=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=hD("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function en(){return window}function $F(t){en().location.href=t}function pD(){return typeof en().WorkerGlobalScope<"u"&&typeof en().importScripts=="function"}function HF(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function WF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zF(){return pD()?self:null}var gD="firebaseLocalStorageDb",GF=1,wu="firebaseLocalStorage",mD="fbase_key",Br=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Su(t,e){return t.transaction([wu],e?"readwrite":"readonly").objectStore(wu)}function qF(){let t=indexedDB.deleteDatabase(gD);return new Br(t).toPromise()}function Eg(){let t=indexedDB.open(gD,GF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(wu,{keyPath:mD})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(wu)?e(r):(r.close(),yield qF(),e(yield Eg()))}))})}function kI(t,e,n){return p(this,null,function*(){let r=Su(t,!0).put({[mD]:e,value:n});return new Br(r).toPromise()})}function KF(t,e){return p(this,null,function*(){let n=Su(t,!1).get(e),r=yield new Br(n).toPromise();return r===void 0?null:r.value})}function PI(t,e){let n=Su(t,!0).delete(e);return new Br(n).toPromise()}var YF=800,ZF=3,QF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield Eg(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>ZF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return pD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=BF._getInstance(zF()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield HF(),!this.activeServiceWorker)return;this.sender=new _g(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||WF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Eg();return yield kI(n,_u,"1"),yield PI(n,_u),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>kI(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>KF(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>PI(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=Su(o,!1).getAll();return new Br(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),YF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),vD=QF;var R8=oD("rcb"),x8=new Ur(3e4,6e4);function JF(t,e){return e?In(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var qs=class extends zs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function XF(t){return uD(t.auth,new qs(t),t.bypassAuthState)}function eL(t){let{auth:e,user:n}=t;return N(n,e,"internal-error"),OF(n,new qs(t),t.bypassAuthState)}function tL(t){return p(this,null,function*(){let{auth:e,user:n}=t;return N(n,e,"internal-error"),PF(n,new qs(t),t.bypassAuthState)})}var wg=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XF;case"linkViaPopup":case"linkViaRedirect":return tL;case"reauthViaPopup":case"reauthViaRedirect":return eL;default:tn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var k8=new Ur(2e3,1e4);var nL="pendingRedirect",uu=new Map,Cg=class t extends wg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=uu.get(this.auth._key());if(!e){try{let r=(yield rL(this.resolver,this.auth))?yield sr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uu.set(this.auth._key(),e)}return this.bypassAuthState||uu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return sr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,sr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function rL(t,e){return p(this,null,function*(){let n=sL(e),r=oL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function iL(t,e){uu.set(t._key(),e)}function oL(t){return In(t._redirectPersistence)}function sL(t){return lu(nL,t.config.apiKey,t.name)}function aL(t,e,n=!1){return p(this,null,function*(){if(Ze(t.app))return Promise.reject(Dn(t));let r=$r(t),i=JF(r,e),s=yield new Cg(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var cL=10*60*1e3,Ig=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cL&&this.cachedEventUids.clear(),this.cachedEventUids.has(OI(e))}saveEventToCache(e){this.cachedEventUids.add(OI(e)),this.lastProcessedEventTime=Date.now()}};function OI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function lL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yD(t);default:return!1}}function uL(n){return p(this,arguments,function*(t,e={}){return er(t,"GET","/v1/projects",e)})}var dL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fL=/^https?/;function hL(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield uL(t);for(let n of e)try{if(pL(n))return}catch{}tn(t,"unauthorized-domain")})}function pL(t){let e=og(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!fL.test(n))return!1;if(dL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var gL=new Ur(3e4,6e4);function FI(){let t=en().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mL(t){return new Promise((e,n)=>{var r,i,o;function s(){FI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FI(),n(jr(t,"network-request-failed"))},timeout:gL.get()})}if(!((i=(r=en().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=en().gapi)===null||o===void 0)&&o.load)s();else{let a=oD("iframefcb");return en()[a]=()=>{gapi.load?s():n(jr(t,"network-request-failed"))},iD(`${CF()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw du=null,e})}var du=null;function vL(t){return du=du||mL(t),du}var yL=new Ur(5e3,15e3),_L="__/auth/iframe",EL="emulator/auth/iframe",wL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IL(t){let e=t.config;N(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Sg(e,EL):`https://${t.config.authDomain}/${_L}`,r={apiKey:e.apiKey,appName:t.name,v:Zn},i=CL.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Fr(r).slice(1)}`}function DL(t){return p(this,null,function*(){let e=yield vL(t),n=en().gapi;return N(n,t,"internal-error"),e.open({where:document.body,url:IL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wL,dontclear:!0},r=>new Promise((i,o)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=jr(t,"network-request-failed"),a=en().setTimeout(()=>{o(s)},yL.get());function c(){en().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var bL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TL=500,SL=600,AL="_blank",ML="http://localhost",Cu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function NL(t,e,n,r=TL,i=SL){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},bL),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Oe().toLowerCase();n&&(a=QI(l)?AL:n),YI(l)&&(e=e||ML,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,y])=>`${f}${h}=${y},`,"");if(mF(l)&&a!=="_self")return RL(e||"",a),new Cu(null);let d=window.open(e||"",a,u);N(d,t,"popup-blocked");try{d.focus()}catch{}return new Cu(d)}function RL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var xL="__/auth/handler",kL="emulator/auth/handler",PL=encodeURIComponent("fac");function LI(t,e,n,r,i,o){return p(this,null,function*(){N(t.config.authDomain,t,"auth-domain-config-required"),N(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zn,eventId:i};if(e instanceof yu){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Ps(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof vg){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${PL}=${encodeURIComponent(c)}`:"";return`${OL(t)}?${Fr(a).slice(1)}${l}`})}function OL({config:t}){return t.emulator?Sg(t,kL):`https://${t.authDomain}/${xL}`}var ig="webStorageSupport",Dg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lg,this._completeRedirectFn=aL,this._overrideRedirectResult=iL}_openPopup(e,n,r,i){return p(this,null,function*(){var o;Jn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield LI(e,n,r,og(),i);return NL(e,s,hD())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let o=yield LI(e,n,r,og(),i);return $F(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Jn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield DL(e),r=new Ig(e);return n.register("authEvent",i=>(N(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ig,{type:ig},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ig];s!==void 0&&n(!!s),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nD()||ZI()||Rg()}},_D=Dg;var VI="@firebase/auth",jI="1.9.0";var bg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function FL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LL(t){kt(new We("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;N(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rD(t)},l=new fg(r,i,o,c);return DF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),kt(new We("auth-internal",e=>{let n=$r(e.getProvider("auth").getImmediate());return(r=>new bg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),he(VI,jI,FL(t)),he(VI,jI,"esm2017")}var VL=5*60,jL=Bp("authIdTokenMaxAge")||VL,UI=null,UL=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jL)return;let i=n?.token;UI!==i&&(UI=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ys(t=Vr()){let e=lo(t,"auth");if(e.isInitialized())return e.getImmediate();let n=xg(t,{popupRedirectResolver:_D,persistence:[vD,fD,Lg]}),r=Bp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=UL(o.toString());Fg(n,s,()=>s(n.currentUser)),Og(n,a=>s(a))}}let i=jp("auth");return i&&kg(n,`http://${i}`),n}function BL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=jr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",BL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LL("Browser");var Au=class t{auth=Ys();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-firebase"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),v(1,"firebase works!"),m())},encapsulation:2})};var N1="firebase",R1="11.3.1";he(N1,R1,"app");function Vg(t){t===void 0&&(a_(Vg),t=_(_e));let e=t.get(Uc);return n=>new j(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var tr=new ln("ANGULARFIRE2_VERSION");function Zs(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var po=(t,e)=>{let n=e?[e]:su(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ho=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(ho||{}),ED=Ch()&&typeof Zone<"u"?ho.WARN:ho.SILENT;var Mu=class{zone;delegate;constructor(e,n=Dd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},nr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=_(te);this.outsideAngular=n.runOutsideAngular(()=>new Mu(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Mu(typeof Zone>"u"?void 0:Zone.current,Id))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wD=!1;function x1(t,e){!wD&&(ED>ho.SILENT||Ch())&&(wD=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ED>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function k1(t){let e=_(te,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Hr(t){let e=_(te,{optional:!0});return e?e.run(()=>t()):t()}var P1=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Ne(n,()=>Hr(()=>t.apply(void 0,r)))),Wr=(t,e,n)=>(n||=e?ho.WARN:ho.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=_(nr),s=_(Uc),a=_(Pe)}catch{return x1(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Hr(()=>s.add())),i[l]=P1(i[l],r,a));let c=k1(()=>t.apply(this,i));return e?c instanceof j?c.pipe(Rn(o.outsideAngular),Nn(o.insideAngular),Vg(a)):c instanceof Promise?Hr(()=>new Promise((l,u)=>{s.run(()=>c).then(d=>Ne(a,()=>Hr(()=>l(d))),d=>Ne(a,()=>Hr(()=>u(d))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Hr(()=>c):c instanceof j?c.pipe(Rn(o.outsideAngular),Nn(o.insideAngular)):Hr(()=>c)});var bn=class{constructor(e){return e}},zr=class{constructor(){return su()}};function O1(t){return t&&t.length===1?t[0]:new bn(Vr())}var jg=new T("angularfire2._apps"),F1={provide:bn,useFactory:O1,deps:[[new He,jg]]},L1={provide:zr,deps:[[new He,jg]]};function V1(t){return(e,n)=>{let r=n.get(hn);he("angularfire",tr.full,"core"),he("angularfire",tr.full,"app"),he("angular",iw.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new bn(i)}}function CD(t,...e){return gt([F1,L1,{provide:jg,useFactory:V1(t),multi:!0,deps:[te,_e,nr,...e]}])}var ID=Wr(tg,!0);var j1=new Map,U1={activated:!1,tokenObservers:[]},B1={initialized:!1,enabled:!1};function Pt(t){return j1.get(t)||Object.assign({},U1)}function AD(){return B1}var $1="https://content-firebaseappcheck.googleapis.com/v1";var H1="exchangeDebugToken",DD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Q4=24*60*60*1e3;var Bg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return p(this,null,function*(){this.stop();try{this.pending=new Yt,this.pending.promise.catch(n=>{}),yield W1(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Yt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function W1(t){return new Promise(e=>{setTimeout(e,t)})}var z1={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},rr=new xt("appCheck","AppCheck",z1);function MD(t){if(!Pt(t).activated)throw rr.create("use-before-activation",{appName:t.name})}function ND(r,i){return p(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(h){throw rr.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw rr.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw rr.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function RD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${$1}/projects/${n}/apps/${r}:${H1}?key=${i}`,body:{debug_token:e}}}var G1="firebase-app-check-database",q1=1,$g="firebase-app-check-store";var Nu=null;function K1(){return Nu||(Nu=new Promise((t,e)=>{try{let n=indexedDB.open(G1,q1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(rr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore($g,{keyPath:"compositeKey"})}}}catch(n){e(rr.create("storage-open",{originalErrorMessage:n?.message}))}}),Nu)}function Y1(t,e){return Z1(Q1(t),e)}function Z1(t,e){return p(this,null,function*(){let r=(yield K1()).transaction($g,"readwrite"),o=r.objectStore($g).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(rr.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function Q1(t){return`${t.options.appId}-${t.name}`}var Hg=new Jt("@firebase/app-check");function Ug(t,e){return ru()?Y1(t,e).catch(n=>{Hg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function xD(){return AD().enabled}function kD(){return p(this,null,function*(){let t=AD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var J1={error:"UNKNOWN_ERROR"};function X1(t){return oo.encodeString(JSON.stringify(t),!1)}function Wg(t,e=!1){return p(this,null,function*(){let n=t.app;MD(n);let r=Pt(n),i=r.token,o;if(i&&!Qs(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(Qs(c)?i=c:yield Ug(n,void 0))}if(!e&&i&&Qs(i))return{token:i.token};let s=!1;if(xD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ND(RD(n,yield kD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Ug(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Pt(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Hg.warn(c.message):Hg.error(c),o=c}let a;return i?o?Qs(i)?a={token:i.token,internalError:o}:a=TD(o):(a={token:i.token},r.token=i,yield Ug(n,i)):a=TD(o),s&&rV(n,a),a})}function eV(t){return p(this,null,function*(){let e=t.app;MD(e);let{provider:n}=Pt(e);if(xD()){let r=yield kD(),{token:i}=yield ND(RD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function tV(t,e,n,r){let{app:i}=t,o=Pt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Qs(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),bD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>bD(t))}function PD(t,e){let n=Pt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function bD(t){let{app:e}=t,n=Pt(e),r=n.tokenRefresher;r||(r=nV(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function nV(t){let{app:e}=t;return new Bg(()=>p(this,null,function*(){let n=Pt(e),r;if(n.token?r=yield Wg(t,!0):r=yield Wg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Pt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},DD.RETRIAL_MIN_WAIT,DD.RETRIAL_MAX_WAIT)}function rV(t,e){let n=Pt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Qs(t){return t.expireTimeMillis-Date.now()>0}function TD(t){return{token:X1(J1),error:t}}var zg=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Pt(this.app);for(let n of e)PD(this.app,n.next);return Promise.resolve()}};function iV(t,e){return new zg(t,e)}function oV(t){return{getToken:e=>Wg(t,e),getLimitedUseToken:()=>eV(t),addTokenListener:e=>tV(t,"INTERNAL",e),removeTokenListener:e=>PD(t.app,e)}}var sV="@firebase/app-check",aV="0.8.11";var cV="app-check",SD="app-check-internal";function lV(){kt(new We(cV,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return iV(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(SD).initialize()})),kt(new We(SD,t=>{let e=t.getProvider("app-check").getImmediate();return oV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),he(sV,aV)}lV();var uV="app-check";var go=class{constructor(){return po(uV)}};var dV=["localhost","0.0.0.0","127.0.0.1"],u6=typeof window<"u"&&dV.includes(window.location.hostname);var OD="auth",ct=class{constructor(e){return e}},Js=class{constructor(){return po(OD)}};var Gg=new T("angularfire2.auth-instances");function fV(t,e){let n=Zs(OD,t,e);return n&&new ct(n)}function hV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ct(r)}}var pV={provide:Js,deps:[[new He,Gg]]},gV={provide:ct,useFactory:fV,deps:[[new He,Gg],bn]};function FD(t,...e){return he("angularfire",tr.full,"auth"),gt([gV,pV,{provide:Gg,useFactory:hV(t),multi:!0,deps:[te,_e,nr,zr,[new He,go],...e]}])}var LD=Wr(Ys,!0);function vV(t,e){if(t&1&&(g(0,"div")(1,"p"),v(2),m()()),t&2){let n=Mt();I(2),De("Utilisateur connect\xE9: ",n.user.email,"")}}var Ru=class t{constructor(e){this.router=e}email="";password="";user=null;error=null;auth=_(ct);signIn(){bu(this.auth,this.email,this.password).then(e=>{this.user=e.user,console.log("Utilisateur connect\xE9:",e),this.router.navigate(["/home"])}).catch(e=>{this.error=e.message,console.error("Erreur de connexion:",e)})}static \u0275fac=function(n){return new(n||t)(x(kr))};static \u0275cmp=A({type:t,selectors:[["app-login-page"]],decls:13,vars:3,consts:[["action",""],["for","email"],["type","email","name","email",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","password",3,"ngModelChange","ngModel"],["type","button",3,"click"],[4,"ngIf"]],template:function(n,r){n&1&&(g(0,"div")(1,"h2"),v(2,"Login"),m(),g(3,"form",0)(4,"label",1),v(5,"Email"),m(),g(6,"input",2),Te("ngModelChange",function(o){return Re(r.email,o)||(r.email=o),o}),m(),g(7,"label",3),v(8,"Password"),m(),g(9,"input",4),Te("ngModelChange",function(o){return Re(r.password,o)||(r.password=o),o}),m(),g(10,"button",5),re("click",function(){return r.signIn()}),v(11,"Se connecter"),m()(),Ee(12,vV,3,1,"div",6),m()),n&2&&(I(6),be("ngModel",r.email),I(3),be("ngModel",r.password),I(3),W("ngIf",r.user))},dependencies:[_t,Kn,Ye,yt,qn,st,En,mt],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;align-items:center;gap:1rem}button[_ngcontent-%COMP%]{margin-block:2rem}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:2rem}"]})};function yV(t,e){if(t&1&&(g(0,"div")(1,"p"),v(2),m()()),t&2){let n=Mt();I(2),De("Utilisateur inscrit: ",n.user.email,"")}}var xu=class t{email="";password="";user=null;error=null;auth=_(ct);constructor(){}signUp(){Du(this.auth,this.email,this.password).then(e=>{this.user=e.user,console.log("Utilisateur inscrit:",e),console.log("Utilisateur inscrit:",this.user)}).catch(e=>{this.error=e.message,console.error("Erreur d'inscription:",e)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-register-page"]],decls:13,vars:3,consts:[["action",""],["for","email"],["type","email","name","email",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","password",3,"ngModelChange","ngModel"],["type","button",3,"click"],[4,"ngIf"]],template:function(n,r){n&1&&(g(0,"div")(1,"h2"),v(2,"Register"),m(),g(3,"form",0)(4,"label",1),v(5,"Email"),m(),g(6,"input",2),Te("ngModelChange",function(o){return Re(r.email,o)||(r.email=o),o}),m(),g(7,"label",3),v(8,"Password"),m(),g(9,"input",4),Te("ngModelChange",function(o){return Re(r.password,o)||(r.password=o),o}),m(),g(10,"button",5),re("click",function(){return r.signUp()}),v(11,"S'inscrire"),m()(),Ee(12,yV,3,1,"div",6),m()),n&2&&(I(6),be("ngModel",r.email),I(3),be("ngModel",r.password),I(3),W("ngIf",r.user))},dependencies:[_t,Kn,Ye,yt,qn,st,En,mt],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;align-items:center;gap:1rem}button[_ngcontent-%COMP%]{margin-block:2rem}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;gap:2rem}"]})};var ku=class t{auth=_(ct);router=_(kr);canActivate(){return new j(e=>{this.auth.onAuthStateChanged(n=>{n?e.next(!0):(e.next(!1),this.router.navigate(["/app-login"]))})})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=S({token:t,factory:t.\u0275fac,providedIn:"root"})};var Pu=class t{user;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-active-user"]],inputs:{user:"user"},decls:11,vars:2,consts:[[1,"container"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"h3"),v(2,"ACTIVE USER"),m(),g(3,"div")(4,"h4"),v(5,"Donn\xE9es :"),m(),g(6,"p"),v(7),m(),M(8,"hr"),g(9,"p"),v(10),m()()()),n&2&&(I(7),Ie(r.user.name),I(3),De("",r.user.age," ans"))},styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#85cee4}"]})};var Ou=class t{sendData=new fe;user;name="";age=0;updateData(){if(this.name){let e={name:this.name,age:this.age};this.sendData.emit(e)}else console.warn("Pas d'info")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-user-data"]],inputs:{user:"user"},outputs:{sendData:"sendData"},decls:15,vars:4,consts:[[1,"container"],["action",""],["for","name"],["type","text","name","name",3,"ngModelChange","ngModel","placeholder"],["type","number","name","age",3,"ngModelChange","ngModel","value"],["type","button",3,"click"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"h3"),v(2,"USER DATA"),m(),g(3,"div")(4,"h4"),v(5,"Donn\xE9es :"),m(),g(6,"form",1)(7,"label",2),v(8,"Nom"),m(),g(9,"input",3),Te("ngModelChange",function(o){return Re(r.name,o)||(r.name=o),o}),m(),g(10,"label",2),v(11,"\xC2ge"),m(),g(12,"input",4),Te("ngModelChange",function(o){return Re(r.age,o)||(r.age=o),o}),m(),g(13,"button",5),re("click",function(){return r.updateData()}),v(14,"MAJ des data"),m()()()()),n&2&&(I(9),mn("placeholder",r.user.name),be("ngModel",r.name),I(3),be("ngModel",r.age),W("value",r.user.age))},dependencies:[_t,Kn,Ye,xp,yt,qn,st,En],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#f1e576;padding:2rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"]})};var Fu=class t{user={name:"G\xE9rard",age:28};getData(e){this.user=e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-component-communication"]],decls:5,vars:2,consts:[[3,"user"],[3,"sendData","user"]],template:function(n,r){n&1&&(g(0,"div")(1,"h2"),v(2,"TP : Component Communication"),m(),M(3,"app-active-user",0),g(4,"app-user-data",1),re("sendData",function(o){return r.getData(o)}),m()()),n&2&&(I(3),W("user",r.user),I(),W("user",r.user))},dependencies:[Pu,Ou],styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#bcff8f;padding:2rem;text-align:center}"]})};var VD=[{path:"home",component:Tl},{path:"exercises",canActivate:[ku],component:Sl},{path:"nesting",component:Hl},{path:"interpolation",component:ql},{path:"data-binding",component:Fl},{path:"directives",component:Kl},{path:"blog",component:Ql},{path:"api",component:eu},{path:"firebase",component:Au},{path:"app-login",component:Ru},{path:"app-register",component:xu},{path:"component-com",component:Fu}];var jD="@firebase/database",UD="1.0.12";var Wm="";function _V(t){Wm=t}var em=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Se(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:io(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var tm=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Qt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var yb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new em(e)}}catch{}return new tm},qr=yb("localStorage"),nm=yb("sessionStorage");var _o=new Jt("@firebase/database"),EV=function(){let t=1;return function(){return t++}}(),_b=function(t){let e=dI(t),n=new tu;n.update(e);let r=n.digest();return oo.encodeByteArray(r)},da=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=da.apply(null,r):typeof r=="object"?e+=Se(r):e+=r,e+=" "}return e},Kr=null,BD=!0,wV=function(t,e){C(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(_o.logLevel=ee.VERBOSE,Kr=_o.log.bind(_o),e&&nm.set("logging_enabled",!0)):typeof t=="function"?Kr=t:(Kr=null,nm.remove("logging_enabled"))},Fe=function(...t){if(BD===!0&&(BD=!1,Kr===null&&nm.get("logging_enabled")===!0&&wV(!0)),Kr){let e=da.apply(null,t);Kr(e)}},fa=function(t){return function(...e){Fe(t,...e)}},rm=function(...t){let e="FIREBASE INTERNAL ERROR: "+da(...t);_o.error(e)},Sn=function(...t){let e=`FIREBASE FATAL ERROR: ${da(...t)}`;throw _o.error(e),new Error(e)},lt=function(...t){let e="FIREBASE WARNING: "+da(...t);_o.warn(e)},CV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Eb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},IV=function(t){if(Zt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},wo="[MIN_NAME]",Yr="[MAX_NAME]",Ao=function(t,e){if(t===e)return 0;if(t===wo||e===Yr)return-1;if(e===wo||t===Yr)return 1;{let n=$D(t),r=$D(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},DV=function(t,e){return t===e?0:t<e?-1:1},Xs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Se(e))},zm=function(t){if(typeof t!="object"||t===null)return Se(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Se(e[r]),n+=":",n+=zm(t[e[r]]);return n+="}",n},wb=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ct(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var Cb=function(t){C(!Eb(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},bV=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var SV=new RegExp("^-?(0*)\\d{1,10}$"),AV=-2147483648,MV=2147483647,$D=function(t){if(SV.test(t)){let e=Number(t);if(e>=AV&&e<=MV)return e}return null},ha=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw lt("Exception was thrown by user callback.",n),e},Math.floor(0))}},NV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ia=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var im=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ze(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){lt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var om=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lt(e)}},oa=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Vu="5",Ib="v",Db="s",bb="r",Tb="f",Sb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ab="ls",Mb="p",sm="ac",Nb="websocket",Rb="long_polling";var ju=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function RV(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function xb(t,e,n){C(typeof e=="string","typeof type must == string"),C(typeof n=="object","typeof params must == object");let r;if(e===Nb)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Rb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);RV(t)&&(n.ns=t.namespace);let i=[];return Ct(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var am=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Qt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return QC(this.counters_)}};var qg={},Kg={};function Gm(t){let e=t.toString();return qg[e]||(qg[e]=new am),qg[e]}function xV(t,e){let n=t.toString();return Kg[n]||(Kg[n]=e()),Kg[n]}var cm=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ha(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var HD="start",kV="close",PV="pLPCommand",OV="pRTLPCB",kb="id",Pb="pw",Ob="ser",FV="cb",LV="seg",VV="ts",jV="d",UV="dframe",Fb=1870,Lb=30,BV=Fb-Lb,$V=25e3,HV=3e4,lm=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fa(e),this.stats_=Gm(n),this.urlFn=c=>(this.appCheckToken&&(c[sm]=this.appCheckToken),xb(n,Rb,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new cm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(HV)),IV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new um((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===HD)this.id=a,this.password=c;else if(s===kV)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[HD]="t",r[Ob]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[FV]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Ib]=Vu,this.transportSessionId&&(r[Db]=this.transportSessionId),this.lastSessionId&&(r[Ab]=this.lastSessionId),this.applicationId&&(r[Mb]=this.applicationId),this.appCheckToken&&(r[sm]=this.appCheckToken),typeof location<"u"&&location.hostname&&Sb.test(location.hostname)&&(r[bb]=Tb);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Zt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!bV()&&!TV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Lp(n),i=wb(r,BV);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Zt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[UV]="t",r[kb]=e,r[Pb]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Se(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},um=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Zt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=EV(),window[PV+this.uniqueCallbackIdentifier]=e,window[OV+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Fe("frame writing exception"),a.stack&&Fe(a.stack),Fe(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fe("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[kb]=this.myID,e[Pb]=this.myPW,e[Ob]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Lb+r.length<=Fb;){let s=this.pendingSegs.shift();r=r+"&"+LV+i+"="+s.seg+"&"+VV+i+"="+s.ts+"&"+jV+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor($V)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Zt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var WV=16384,zV=45e3,Uu=null;typeof MozWebSocket<"u"?Uu=MozWebSocket:typeof WebSocket<"u"&&(Uu=WebSocket);var ea=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fa(this.connId),this.stats_=Gm(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[Ib]=Vu,!Zt()&&typeof location<"u"&&location.hostname&&Sb.test(location.hostname)&&(a[bb]=Tb),r&&(a[Db]=r),i&&(a[Ab]=i),o&&(a[sm]=o),s&&(a[Mb]=s),xb(n,Nb,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qr.set("previous_websocket_failure",!0);try{let i;if(Zt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Vu}/${Wm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Uu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Uu!==null&&!t.forceDisallow_}static previouslyFailed(){return qr.isInMemoryStorage||qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){qr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=io(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(C(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Se(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=wb(r,WV);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zV))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),GV=(()=>{class t{static get ALL_TRANSPORTS(){return[lm,ea]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=ea&&ea.isAvailable(),i=r&&!ea.previouslyFailed();if(n.webSocketOnly&&(r||lt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ea];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),qV=6e4,KV=5e3,YV=10*1024,ZV=100*1024,Yg="t",WD="d",QV="s",zD="r",JV="e",GD="o",qD="a",KD="n",YD="p",XV="h",dm=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fa("c:"+this.id+":"),this.transportManager_=new GV(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ia(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>ZV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Yg in e){let n=e[Yg];n===qD?this.upgradeIfSecondaryHealthy_():n===zD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===GD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Xs("t",e),r=Xs("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:YD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:KD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Xs("t",e),r=Xs("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Xs(Yg,e);if(WD in e){let r=e[WD];if(n===XV){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===KD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===QV?this.onConnectionShutdown_(r):n===zD?this.onReset_(r):n===JV?rm("Server Error: "+r):n===GD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rm("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Vu!==r&&lt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ia(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(qV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ia(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(KV))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:YD,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Bu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var $u=class{constructor(e){this.allowedEvents_=e,this.listeners_={},C(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){C(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Hu=class t extends $u{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ks()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return C(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var ZD=32,QD=768,ae=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function oe(){return new ae("")}function Z(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function or(t){return t.pieces_.length-t.pieceNum_}function ce(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ae(t.pieces_,e)}function Vb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ej(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function jb(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ub(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ae(e,0)}function Ae(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ae)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ae(n,0)}function G(t){return t.pieceNum_>=t.pieces_.length}function Et(t,e){let n=Z(t),r=Z(e);if(n===null)return e;if(n===r)return Et(ce(t),ce(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Bb(t,e){if(or(t)!==or(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ft(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(or(t)>or(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var fm=class{constructor(e,n){this.errorPrefix_=n,this.parts_=jb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fs(this.parts_[r]);$b(this)}};function tj(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fs(e),$b(t)}function nj(t){let e=t.parts_.pop();t.byteLength_-=Fs(e),t.parts_.length>0&&(t.byteLength_-=1)}function $b(t){if(t.byteLength_>QD)throw new Error(t.errorPrefix_+"has a key path longer than "+QD+" bytes ("+t.byteLength_+").");if(t.parts_.length>ZD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ZD+") or object contains a cycle "+Gr(t))}function Gr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var hm=class t extends $u{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return C(e==="visible","Unknown event type: "+e),[this.visible_]}};var ta=1e3,rj=60*5*1e3,JD=30*1e3,ij=1.3,oj=3e4,sj="server_kill",XD=3,qm=(()=>{class t extends Bu{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=fa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ta,this.maxReconnectDelay_=rj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Zt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");hm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Hu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Se(s)),C(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Yt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),C(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Qt(n,"w")){let i=Or(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();lt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||cI(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=JD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=aI(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),C(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Se(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):rm("Unrecognized action received from server: "+Se(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){C(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ta,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ta,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oj&&(this.reconnectDelay_=ta),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ij)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){C(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Fe("getToken() completed but was canceled"):(Fe("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new dm(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,y=>{lt(y+" ("+this.repoInfo_.toString()+")"),this.interrupt(sj)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&lt(f),l())}}})}interrupt(n){Fe("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Fe("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Ps(this.interruptReasons_)&&(this.reconnectDelay_=ta,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>zm(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ae(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Fe("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=XD&&(this.reconnectDelay_=JD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Fe("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=XD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Zt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Wm.replace(/\./g,"-")]=1,ks()?n["framework.cordova"]=1:nu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Hu.getInstance().currentlyOnline();return Ps(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Q=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Co=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Q(wo,e),i=new Q(wo,n);return this.compare(r,i)!==0}minPost(){return Q.MIN}};var Lu,Wu=class extends Co{static get __EMPTY_NODE(){return Lu}static set __EMPTY_NODE(e){Lu=e}compare(e,n){return Ao(e.name,n.name)}isDefinedOn(e){throw Pr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Q.MIN}maxPost(){return new Q(Yr,Lu)}makePost(e,n){return C(typeof e=="string","KeyIndex indexValue must always be a string."),new Q(e,Lu)}toString(){return".key"}},Eo=new Wu;var vo=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Ot=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??wt.EMPTY_NODE,this.right=s??wt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return wt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),pm=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new Ot(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},wt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ot.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ot.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new vo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new vo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new vo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new vo(this.root_,null,this.comparator_,!0,e)}};wt.EMPTY_NODE=new pm;function aj(t,e){return Ao(t.name,e.name)}function Km(t,e){return Ao(t,e)}var gm;function cj(t){gm=t}var Hb=function(t){return typeof t=="number"?"number:"+Cb(t):"string:"+t},Wb=function(t){if(t.isLeafNode()){let e=t.val();C(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qt(e,".sv"),"Priority must be a string or number.")}else C(t===gm||t.isEmpty(),"priority of unexpected type.");C(t===gm||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var eb,Io=(()=>{class t{static set __childrenNodeConstructor(n){eb=n}static get __childrenNodeConstructor(){return eb}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,C(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return G(n)?this:Z(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Z(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(C(i!==".priority"||or(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ce(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Hb(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=Cb(this.value_):n+=this.value_,this.lazyHash_=_b(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(C(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return C(o>=0,"Unknown leaf type: "+r),C(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),zb,Gb;function lj(t){zb=t}function uj(t){Gb=t}var mm=class extends Co{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ao(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Q.MIN}maxPost(){return new Q(Yr,new Io("[PRIORITY-POST]",Gb))}makePost(e,n){let r=zb(e);return new Q(n,new Io("[PRIORITY-POST]",r))}toString(){return".priority"}},Ve=new mm;var dj=Math.log(2),vm=class{constructor(e){let n=o=>parseInt(Math.log(o)/dj,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},zu=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new Ot(f,d.node,Ot.BLACK,null,null);{let h=parseInt(u/2,10)+c,y=i(c,h),E=i(h+1,l);return d=t[h],f=n?n(d):d,new Ot(f,d.node,Ot.BLACK,y,E)}},o=function(c){let l=null,u=null,d=t.length,f=function(y,E){let b=d-y,F=d;d-=y;let ke=i(b+1,F),q=t[b],je=n?n(q):q;h(new Ot(je,q.node,E,null,ke))},h=function(y){l?(l.left=y,l=y):(u=y,l=y)};for(let y=0;y<c.count;++y){let E=c.nextBitIsOne(),b=Math.pow(2,c.count-(y+1));E?f(b,Ot.BLACK):(f(b,Ot.BLACK),f(b,Ot.RED))}return u},s=new vm(t.length),a=o(s);return new wt(r||e,a)};var Zg,mo={},Do=class t{static get Default(){return C(mo&&Ve,"ChildrenNode.ts has not been loaded"),Zg=Zg||new t({".priority":mo},{".priority":Ve}),Zg}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Or(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof wt?n:null}hasIndex(e){return Qt(this.indexSet_,e.toString())}addIndex(e,n){C(e!==Eo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Q.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=zu(r,e.getCompare()):a=mo;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Os(this.indexes_,(i,o)=>{let s=Or(this.indexSet_,o);if(C(s,"Missing index implementation for "+o),i===mo)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(Q.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),zu(a,s.getCompare())}else return mo;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new Q(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Os(this.indexes_,i=>{if(i===mo)return i;{let o=n.get(e.name);return o?i.remove(new Q(e.name,o)):i}});return new t(r,this.indexSet_)}};var na,ue=(()=>{class t{static get EMPTY_NODE(){return na||(na=new t(new wt(Km),null,Do.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Wb(this.priorityNode_),this.children_.isEmpty()&&C(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||na}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?na:r}}getChild(n){let r=Z(n);return r===null?this:this.getImmediateChild(r).getChild(ce(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(C(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Q(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?na:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=Z(n);if(i===null)return r;{C(Z(n)!==".priority"||or(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ce(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Ve,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Hb(this.getPriority().val())+":"),this.forEachChild(Ve,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":_b(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Q(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Q(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Q(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Q.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===pa?-1:0}withIndex(n){if(n===Eo||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Eo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ve),o=r.getIterator(Ve),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Eo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),ym=class extends ue{constructor(){super(new wt(Km),ue.EMPTY_NODE,Do.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}},pa=new ym;Object.defineProperties(Q,{MIN:{value:new Q(wo,ue.EMPTY_NODE)},MAX:{value:new Q(Yr,pa)}});Wu.__EMPTY_NODE=ue.EMPTY_NODE;Io.__childrenNodeConstructor=ue;cj(pa);uj(pa);var fj=!0;function Le(t,e=null){if(t===null)return ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),C(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Io(n,Le(e))}if(!(t instanceof Array)&&fj){let n=[],r=!1;if(Ct(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Le(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Q(s,c)))}}),n.length===0)return ue.EMPTY_NODE;let o=zu(n,aj,s=>s.name,Km);if(r){let s=zu(n,Ve.getCompare());return new ue(o,Le(e),new Do({".priority":s},{".priority":Ve}))}else return new ue(o,Le(e),Do.Default)}else{let n=ue.EMPTY_NODE;return Ct(t,(r,i)=>{if(Qt(t,r)&&r.substring(0,1)!=="."){let o=Le(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Le(e))}}lj(Le);var _m=class extends Co{constructor(e){super(),this.indexPath_=e,C(!G(e)&&Z(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ao(e.name,n.name):o}makePost(e,n){let r=Le(e),i=ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new Q(n,i)}maxPost(){let e=ue.EMPTY_NODE.updateChild(this.indexPath_,pa);return new Q(Yr,e)}toString(){return jb(this.indexPath_,0).join("/")}};var Em=class extends Co{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ao(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Q.MIN}maxPost(){return Q.MAX}makePost(e,n){let r=Le(e);return new Q(n,r)}toString(){return".value"}},hj=new Em;function pj(t){return{type:"value",snapshotNode:t}}function gj(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function mj(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function tb(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function vj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var wm=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return C(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return C(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wo}hasEnd(){return this.endSet_}getIndexEndValue(){return C(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return C(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return C(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function nb(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ve?n="$priority":t.index_===hj?n="$value":t.index_===Eo?n="$key":(C(t.index_ instanceof _m,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Se(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Se(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Se(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Se(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Se(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rb(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ve&&(e.i=t.index_.toString()),e}var Cm=class t extends Bu{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(C(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=fa("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=nb(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Or(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=nb(e._queryParams),r=e._path.toString(),i=new Yt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Fr(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=io(a.responseText)}catch{lt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&lt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Im=class{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Gu(){return{value:null,children:new Map}}function qb(t,e,n){if(G(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=Z(e);t.children.has(r)||t.children.set(r,Gu());let i=t.children.get(r);e=ce(e),qb(i,e,n)}}function Dm(t,e,n){t.value!==null?n(e,t.value):yj(t,(r,i)=>{let o=new ae(e.toString()+"/"+r);Dm(i,o,n)})}function yj(t,e){t.children.forEach((n,r)=>{e(r,n)})}var bm=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ct(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var ib=10*1e3,_j=30*1e3,Ej=5*60*1e3,Tm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bm(e);let r=ib+(_j-ib)*Math.random();ia(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Ct(e,(i,o)=>{o>0&&Qt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ia(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ej))}};var Tn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Tn||{});function Kb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Yb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Zb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Sm=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Tn.ACK_USER_WRITE,this.source=Kb()}operationForChild(e){if(G(this.path)){if(this.affectedTree.value!=null)return C(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ae(e));return new t(oe(),n,this.revert)}}else return C(Z(this.path)===e,"operationForChild called for unrelated child."),new t(ce(this.path),this.affectedTree,this.revert)}};var bo=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Tn.OVERWRITE}operationForChild(e){return G(this.path)?new t(this.source,oe(),this.snap.getImmediateChild(e)):new t(this.source,ce(this.path),this.snap)}};var qu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Tn.MERGE}operationForChild(e){if(G(this.path)){let n=this.children.subtree(new ae(e));return n.isEmpty()?null:n.value?new bo(this.source,oe(),n.value):new t(this.source,oe(),n)}else return C(Z(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var ca=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(G(e))return this.isFullyInitialized()&&!this.filtered_;let n=Z(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function wj(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(vj(s.childName,s.snapshotNode))}),ra(t,i,"child_removed",e,r,n),ra(t,i,"child_added",e,r,n),ra(t,i,"child_moved",o,r,n),ra(t,i,"child_changed",e,r,n),ra(t,i,"value",e,r,n),i}function ra(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>Ij(t,a,c)),s.forEach(a=>{let c=Cj(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function Cj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Ij(t,e,n){if(e.childName==null||n.childName==null)throw Pr("Should only compare child_ events.");let r=new Q(e.childName,e.snapshotNode),i=new Q(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Qb(t,e){return{eventCache:t,serverCache:e}}function sa(t,e,n,r){return Qb(new ca(e,n,r),t.serverCache)}function Jb(t,e,n,r){return Qb(t.eventCache,new ca(e,n,r))}function Am(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Qg,Dj=()=>(Qg||(Qg=new wt(DV)),Qg),Qe=class t{static fromObject(e){let n=new t(null);return Ct(e,(r,i)=>{n=n.set(new ae(r),i)}),n}constructor(e,n=Dj()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:oe(),value:this.value};if(G(e))return null;{let r=Z(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ce(e),n);return o!=null?{path:Ae(new ae(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(G(e))return this;{let n=Z(e),r=this.children.get(n);return r!==null?r.subtree(ce(e)):new t(null)}}set(e,n){if(G(e))return new t(n,this.children);{let r=Z(e),o=(this.children.get(r)||new t(null)).set(ce(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(G(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=Z(e),r=this.children.get(n);if(r){let i=r.remove(ce(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(G(e))return this.value;{let n=Z(e),r=this.children.get(n);return r?r.get(ce(e)):null}}setTree(e,n){if(G(e))return n;{let r=Z(e),o=(this.children.get(r)||new t(null)).setTree(ce(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(oe(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ae(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,oe(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(G(e))return null;{let o=Z(e),s=this.children.get(o);return s?s.findOnPath_(ce(e),Ae(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,oe(),n)}foreachOnPath_(e,n,r){if(G(e))return this;{this.value&&r(n,this.value);let i=Z(e),o=this.children.get(i);return o?o.foreachOnPath_(ce(e),Ae(n,i),r):new t(null)}}foreach(e){this.foreach_(oe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ae(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Lt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Qe(null))}};function aa(t,e,n){if(G(e))return new Lt(new Qe(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Et(i,e);return o=o.updateChild(s,n),new Lt(t.writeTree_.set(i,o))}else{let i=new Qe(n),o=t.writeTree_.setTree(e,i);return new Lt(o)}}}function ob(t,e,n){let r=t;return Ct(n,(i,o)=>{r=aa(r,Ae(e,i),o)}),r}function sb(t,e){if(G(e))return Lt.empty();{let n=t.writeTree_.setTree(e,new Qe(null));return new Lt(n)}}function Mm(t,e){return Qr(t,e)!=null}function Qr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Et(n.path,e)):null}function ab(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ve,(r,i)=>{e.push(new Q(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Q(r,i.value))}),e}function ir(t,e){if(G(e))return t;{let n=Qr(t,e);return n!=null?new Lt(new Qe(n)):new Lt(t.writeTree_.subtree(e))}}function Nm(t){return t.writeTree_.isEmpty()}function To(t,e){return Xb(oe(),t.writeTree_,e)}function Xb(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(C(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Xb(Ae(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ae(t,".priority"),r)),n}}function e0(t,e){return o0(e,t)}function bj(t,e,n,r,i){C(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=aa(t.visibleWrites,e,n)),t.lastWriteId=r}function Tj(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function Sj(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);C(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&Aj(a,r.path)?i=!1:Ft(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Mj(t),!0;if(r.snap)t.visibleWrites=sb(t.visibleWrites,r.path);else{let a=r.children;Ct(a,c=>{t.visibleWrites=sb(t.visibleWrites,Ae(r.path,c))})}return!0}else return!1}function Aj(t,e){if(t.snap)return Ft(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Ft(Ae(t.path,n),e))return!0;return!1}function Mj(t){t.visibleWrites=t0(t.allWrites,Nj,oe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Nj(t){return t.visible}function t0(t,e,n){let r=Lt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Ft(n,s)?(a=Et(n,s),r=aa(r,a,o.snap)):Ft(s,n)&&(a=Et(s,n),r=aa(r,oe(),o.snap.getChild(a)));else if(o.children){if(Ft(n,s))a=Et(n,s),r=ob(r,a,o.children);else if(Ft(s,n))if(a=Et(s,n),G(a))r=ob(r,oe(),o.children);else{let c=Or(o.children,Z(a));if(c){let l=c.getChild(ce(a));r=aa(r,oe(),l)}}}else throw Pr("WriteRecord should have .snap or .children")}}return r}function n0(t,e,n,r,i){if(!r&&!i){let o=Qr(t.visibleWrites,e);if(o!=null)return o;{let s=ir(t.visibleWrites,e);if(Nm(s))return n;if(n==null&&!Mm(s,oe()))return null;{let a=n||ue.EMPTY_NODE;return To(s,a)}}}else{let o=ir(t.visibleWrites,e);if(!i&&Nm(o))return n;if(!i&&n==null&&!Mm(o,oe()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Ft(l.path,e)||Ft(e,l.path))},a=t0(t.allWrites,s,e),c=n||ue.EMPTY_NODE;return To(a,c)}}}function Rj(t,e,n){let r=ue.EMPTY_NODE,i=Qr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ve,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=ir(t.visibleWrites,e);return n.forEachChild(Ve,(s,a)=>{let c=To(ir(o,new ae(s)),a);r=r.updateImmediateChild(s,c)}),ab(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=ir(t.visibleWrites,e);return ab(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function xj(t,e,n,r,i){C(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Ae(e,n);if(Mm(t.visibleWrites,o))return null;{let s=ir(t.visibleWrites,o);return Nm(s)?i.getChild(n):To(s,i.getChild(n))}}function kj(t,e,n,r){let i=Ae(e,n),o=Qr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=ir(t.visibleWrites,i);return To(s,r.getNode().getImmediateChild(n))}else return null}function Pj(t,e){return Qr(t.visibleWrites,e)}function Oj(t,e,n,r,i,o,s){let a,c=ir(t.visibleWrites,e),l=Qr(c,oe());if(l!=null)a=l;else if(n!=null)a=To(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function Fj(){return{visibleWrites:Lt.empty(),allWrites:[],lastWriteId:-1}}function Rm(t,e,n,r){return n0(t.writeTree,t.treePath,e,n,r)}function r0(t,e){return Rj(t.writeTree,t.treePath,e)}function cb(t,e,n,r){return xj(t.writeTree,t.treePath,e,n,r)}function Ku(t,e){return Pj(t.writeTree,Ae(t.treePath,e))}function Lj(t,e,n,r,i,o){return Oj(t.writeTree,t.treePath,e,n,r,i,o)}function Ym(t,e,n){return kj(t.writeTree,t.treePath,e,n)}function i0(t,e){return o0(Ae(t.treePath,e),t.writeTree)}function o0(t,e){return{treePath:t,writeTree:e}}var xm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;C(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),C(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,tb(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,mj(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,gj(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,tb(r,e.snapshotNode,i.oldSnap));else throw Pr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var km=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},s0=new km,la=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new ca(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ym(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zr(this.viewCache_),o=Lj(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function Vj(t,e){C(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),C(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function jj(t,e,n,r,i){let o=new xm,s,a;if(n.type===Tn.OVERWRITE){let l=n;l.source.fromUser?s=Pm(t,e,l.path,l.snap,r,i,o):(C(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!G(l.path),s=Yu(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Tn.MERGE){let l=n;l.source.fromUser?s=Bj(t,e,l.path,l.children,r,i,o):(C(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Om(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Tn.ACK_USER_WRITE){let l=n;l.revert?s=Wj(t,e,l.path,r,i,o):s=$j(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Tn.LISTEN_COMPLETE)s=Hj(t,e,n.path,r,o);else throw Pr("Unknown operation type: "+n.type);let c=o.getChanges();return Uj(e,s,c),{viewCache:s,changes:c}}function Uj(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Am(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pj(Am(e)))}}function a0(t,e,n,r,i,o){let s=e.eventCache;if(Ku(r,n)!=null)return e;{let a,c;if(G(n))if(C(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Zr(e),u=l instanceof ue?l:ue.EMPTY_NODE,d=r0(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Rm(r,Zr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=Z(n);if(l===".priority"){C(or(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=cb(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ce(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=cb(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Ym(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return sa(e,a,s.isFullyInitialized()||G(n),t.filter.filtersNodes())}}function Yu(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(G(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=Z(n);if(!c.isCompleteForPath(n)&&or(n)>1)return e;let y=ce(n),b=c.getNode().getImmediateChild(h).updateChild(y,r);h===".priority"?l=u.updatePriority(c.getNode(),b):l=u.updateChild(c.getNode(),h,b,y,s0,null)}let d=Jb(e,l,c.isFullyInitialized()||G(n),u.filtersNodes()),f=new la(i,d,o);return a0(t,d,n,i,f,a)}function Pm(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new la(i,e,o);if(G(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=sa(e,l,!0,t.filter.filtersNodes());else{let d=Z(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=sa(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ce(n),h=a.getNode().getImmediateChild(d),y;if(G(f))y=r;else{let E=u.getCompleteChild(d);E!=null?Vb(f)===".priority"&&E.getChild(Ub(f)).isEmpty()?y=E:y=E.updateChild(f,r):y=ue.EMPTY_NODE}if(h.equals(y))c=e;else{let E=t.filter.updateChild(a.getNode(),d,y,f,u,s);c=sa(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function lb(t,e){return t.eventCache.isCompleteForChild(e)}function Bj(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Ae(n,c);lb(e,Z(u))&&(a=Pm(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Ae(n,c);lb(e,Z(u))||(a=Pm(t,a,u,l,i,o,s))}),a}function ub(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Om(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;G(n)?l=r:l=new Qe(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),y=ub(t,h,f);c=Yu(t,c,new ae(d),y,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let y=e.serverCache.getNode().getImmediateChild(d),E=ub(t,y,f);c=Yu(t,c,new ae(d),E,i,o,s,a)}}),c}function $j(t,e,n,r,i,o,s){if(Ku(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(G(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Yu(t,e,n,c.getNode().getChild(n),i,o,a,s);if(G(n)){let l=new Qe(null);return c.getNode().forEachChild(Eo,(u,d)=>{l=l.set(new ae(u),d)}),Om(t,e,n,l,i,o,a,s)}else return e}else{let l=new Qe(null);return r.foreach((u,d)=>{let f=Ae(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Om(t,e,n,l,i,o,a,s)}}function Hj(t,e,n,r,i){let o=e.serverCache,s=Jb(e,o.getNode(),o.isFullyInitialized()||G(n),o.isFiltered());return a0(t,s,n,r,s0,i)}function Wj(t,e,n,r,i,o){let s;if(Ku(r,n)!=null)return e;{let a=new la(r,e,i),c=e.eventCache.getNode(),l;if(G(n)||Z(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Rm(r,Zr(e));else{let d=e.serverCache.getNode();C(d instanceof ue,"serverChildren would be complete if leaf node"),u=r0(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=Z(n),d=Ym(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ce(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,ue.EMPTY_NODE,ce(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Rm(r,Zr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Ku(r,oe())!=null,sa(e,l,s,t.filter.filtersNodes())}}function zj(t,e){let n=Zr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!G(e)&&!n.getImmediateChild(Z(e)).isEmpty())?n.getChild(e):null}function db(t,e,n,r){e.type===Tn.MERGE&&e.source.queryId!==null&&(C(Zr(t.viewCache_),"We should always have a full cache before handling merges"),C(Am(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=jj(t.processor_,i,e,n,r);return Vj(t.processor_,o.viewCache),C(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Gj(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Gj(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return wj(t.eventGenerator_,e,n,i)}var fb;function qj(t){C(!fb,"__referenceConstructor has already been defined"),fb=t}function Zm(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return C(o!=null,"SyncTree gave us an op for an invalid query."),db(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(db(s,e,n,r));return o}}function Qm(t,e){let n=null;for(let r of t.views.values())n=n||zj(r,e);return n}var hb;function Kj(t){C(!hb,"__referenceConstructor has already been defined"),hb=t}var Zu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qe(null),this.pendingWriteTree_=Fj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Yj(t,e,n,r,i){return bj(t.pendingWriteTree_,e,n,r,i),i?Ju(t,new bo(Kb(),e,n)):[]}function yo(t,e,n=!1){let r=Tj(t.pendingWriteTree_,e);if(Sj(t.pendingWriteTree_,e)){let o=new Qe(null);return r.snap!=null?o=o.set(oe(),!0):Ct(r.children,s=>{o=o.set(new ae(s),!0)}),Ju(t,new Sm(r.path,o,n))}else return[]}function Qu(t,e,n){return Ju(t,new bo(Yb(),e,n))}function Zj(t,e,n){let r=Qe.fromObject(n);return Ju(t,new qu(Yb(),e,r))}function Qj(t,e,n,r){let i=d0(t,r);if(i!=null){let o=f0(i),s=o.path,a=o.queryId,c=Et(s,e),l=new bo(Zb(a),c,n);return h0(t,s,l)}else return[]}function Jj(t,e,n,r){let i=d0(t,r);if(i){let o=f0(i),s=o.path,a=o.queryId,c=Et(s,e),l=Qe.fromObject(n),u=new qu(Zb(a),c,l);return h0(t,s,u)}else return[]}function c0(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Et(s,e),l=Qm(a,c);if(l)return l});return n0(i,e,o,n,!0)}function Ju(t,e){return l0(e,t.syncPointTree_,null,e0(t.pendingWriteTree_,oe()))}function l0(t,e,n,r){if(G(t.path))return u0(t,e,n,r);{let i=e.get(oe());n==null&&i!=null&&(n=Qm(i,oe()));let o=[],s=Z(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=i0(r,s);o=o.concat(l0(a,c,l,u))}return i&&(o=o.concat(Zm(i,t,r,n))),o}}function u0(t,e,n,r){let i=e.get(oe());n==null&&i!=null&&(n=Qm(i,oe()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=i0(r,s),u=t.operationForChild(s);u&&(o=o.concat(u0(u,a,c,l)))}),i&&(o=o.concat(Zm(i,t,r,n))),o}function d0(t,e){return t.tagToQueryMap.get(e)}function f0(t){let e=t.indexOf("$");return C(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ae(t.substr(0,e))}}function h0(t,e,n){let r=t.syncPointTree_.get(e);C(r,"Missing sync point for query tag that we're tracking");let i=e0(t.pendingWriteTree_,e);return Zm(r,n,i,null)}var Fm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Lm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ae(this.path_,e);return new t(this.syncTree_,n)}node(){return c0(this.syncTree_,this.path_)}},Xj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},pb=function(t,e,n){if(!t||typeof t!="object")return t;if(C(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return eU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return tU(t[".sv"],e);C(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},eU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:C(!1,"Unexpected server value: "+t)}},tU=function(t,e,n){t.hasOwnProperty("increment")||C(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&C(!1,"Unexpected increment value: "+r);let i=e.node();if(C(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},nU=function(t,e,n,r){return Jm(e,new Lm(n,t),r)},rU=function(t,e,n){return Jm(t,new Fm(e),n)};function Jm(t,e,n){let r=t.getPriority().val(),i=pb(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=pb(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Io(a,Le(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Io(i))),s.forEachChild(Ve,(a,c)=>{let l=Jm(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var ua=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Xm(t,e){let n=e instanceof ae?e:new ae(e),r=t,i=Z(n);for(;i!==null;){let o=Or(r.node.children,i)||{children:{},childCount:0};r=new ua(i,r,o),n=ce(n),i=Z(n)}return r}function Mo(t){return t.node.value}function p0(t,e){t.node.value=e,Vm(t)}function g0(t){return t.node.childCount>0}function iU(t){return Mo(t)===void 0&&!g0(t)}function Xu(t,e){Ct(t.node.children,(n,r)=>{e(new ua(n,t,r))})}function m0(t,e,n,r){n&&!r&&e(t),Xu(t,i=>{m0(i,e,!0,r)}),n&&r&&e(t)}function oU(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ga(t){return new ae(t.parent===null?t.name:ga(t.parent)+"/"+t.name)}function Vm(t){t.parent!==null&&sU(t.parent,t.name,t)}function sU(t,e,n){let r=iU(n),i=Qt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Vm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Vm(t))}var aU=/[\[\].#$\/\u0000-\u001F\u007F]/,cU=/[\[\].#$\u0000-\u001F\u007F]/,Jg=10*1024*1024,v0=function(t){return typeof t=="string"&&t.length!==0&&!aU.test(t)},lU=function(t){return typeof t=="string"&&t.length!==0&&!cU.test(t)},uU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),lU(t)};var y0=function(t,e,n){let r=n instanceof ae?new fm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Gr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Gr(r)+" with contents = "+e.toString());if(Eb(e))throw new Error(t+"contains "+e.toString()+" "+Gr(r));if(typeof e=="string"&&e.length>Jg/3&&Fs(e)>Jg)throw new Error(t+"contains a string greater than "+Jg+" utf8 bytes "+Gr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Ct(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!v0(s)))throw new Error(t+" contains an invalid key ("+s+") "+Gr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);tj(r,s),y0(t,a,r),nj(r)}),i&&o)throw new Error(t+' contains ".value" child '+Gr(r)+" in addition to actual children.")}};var dU=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!v0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uU(n))throw new Error(uI(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var jm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function fU(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Bb(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Jr(t,e,n){fU(t,n),hU(t,r=>Ft(r,e)||Ft(e,r))}function hU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(pU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function pU(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Kr&&Fe("event: "+n.toString()),ha(r)}}}var gU="repo_interrupt",mU=25,Um=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gu(),this.transactionQueueTree_=new ua,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function vU(t,e,n){if(t.stats_=Gm(t.repoInfo_),t.forceRestClient_||NV())t.server_=new Cm(t.repoInfo_,(r,i,o,s)=>{gb(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Se(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new qm(t.repoInfo_,e,(r,i,o,s)=>{gb(t,r,i,o,s)},r=>{mb(t,r)},r=>{_U(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=xV(t.repoInfo_,()=>new Tm(t.stats_,t.server_)),t.infoData_=new Im,t.infoSyncTree_=new Zu({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Qu(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),ev(t,"connected",!1),t.serverSyncTree_=new Zu({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Jr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function yU(t){let n=t.infoData_.getNode(new ae(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function _0(t){return Xj({timestamp:yU(t)})}function gb(t,e,n,r,i){t.dataUpdateCount++;let o=new ae(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Os(n,l=>Le(l));s=Jj(t.serverSyncTree_,o,c,i)}else{let c=Le(n);s=Qj(t.serverSyncTree_,o,c,i)}else if(r){let c=Os(n,l=>Le(l));s=Zj(t.serverSyncTree_,o,c)}else{let c=Le(n);s=Qu(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=nv(t,o)),Jr(t.eventQueue_,a,s)}function mb(t,e){ev(t,"connected",e),e===!1&&wU(t)}function _U(t,e){Ct(e,(n,r)=>{ev(t,n,r)})}function ev(t,e,n){let r=new ae("/.info/"+e),i=Le(n);t.infoData_.updateSnapshot(r,i);let o=Qu(t.infoSyncTree_,r,i);Jr(t.eventQueue_,r,o)}function EU(t){return t.nextWriteId_++}function wU(t){E0(t,"onDisconnectEvents");let e=_0(t),n=Gu();Dm(t.onDisconnect_,oe(),(i,o)=>{let s=nU(i,o,t.serverSyncTree_,e);qb(n,i,s)});let r=[];Dm(n,oe(),(i,o)=>{r=r.concat(Qu(t.serverSyncTree_,i,o));let s=bU(t,i);nv(t,s)}),t.onDisconnect_=Gu(),Jr(t.eventQueue_,oe(),r)}function CU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(gU)}function E0(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fe(n,...e)}function w0(t,e,n){return c0(t.serverSyncTree_,e,n)||ue.EMPTY_NODE}function tv(t,e=t.transactionQueueTree_){if(e||ed(t,e),Mo(e)){let n=I0(t,e);C(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&IU(t,ga(e),n)}else g0(e)&&Xu(e,n=>{tv(t,n)})}function IU(t,e,n){let r=n.map(l=>l.currentWriteId),i=w0(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];C(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Et(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{E0(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(yo(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ed(t,Xm(t.transactionQueueTree_,e)),tv(t,t.transactionQueueTree_),Jr(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)ha(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{lt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}nv(t,e)}},s)}function nv(t,e){let n=C0(t,e),r=ga(n),i=I0(t,n);return DU(t,i,r),r}function DU(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Et(n,c.path),u=!1,d;if(C(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(yo(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=mU)u=!0,d="maxretry",i=i.concat(yo(t.serverSyncTree_,c.currentWriteId,!0));else{let f=w0(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){y0("transaction failed: Data returned ",h,c.path);let y=Le(h);typeof h=="object"&&h!=null&&Qt(h,".priority")||(y=y.updatePriority(f.getPriority()));let b=c.currentWriteId,F=_0(t),ke=rU(y,f,F);c.currentOutputSnapshotRaw=y,c.currentOutputSnapshotResolved=ke,c.currentWriteId=EU(t),s.splice(s.indexOf(b),1),i=i.concat(Yj(t.serverSyncTree_,c.path,ke,c.currentWriteId,c.applyLocally)),i=i.concat(yo(t.serverSyncTree_,b,!0))}else u=!0,d="nodata",i=i.concat(yo(t.serverSyncTree_,c.currentWriteId,!0))}Jr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ed(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ha(r[a]);tv(t,t.transactionQueueTree_)}function C0(t,e){let n,r=t.transactionQueueTree_;for(n=Z(e);n!==null&&Mo(r)===void 0;)r=Xm(r,n),e=ce(e),n=Z(e);return r}function I0(t,e){let n=[];return D0(t,e,n),n.sort((r,i)=>r.order-i.order),n}function D0(t,e,n){let r=Mo(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Xu(e,i=>{D0(t,i,n)})}function ed(t,e){let n=Mo(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,p0(e,n.length>0?n:void 0)}Xu(e,r=>{ed(t,r)})}function bU(t,e){let n=ga(C0(t,e)),r=Xm(t.transactionQueueTree_,e);return oU(r,i=>{Xg(t,i)}),Xg(t,r),m0(r,i=>{Xg(t,i)}),n}function Xg(t,e){let n=Mo(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(C(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(C(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(yo(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?p0(e,void 0):n.length=o+1,Jr(t.eventQueue_,ga(e),i);for(let s=0;s<r.length;s++)ha(r[s])}}function TU(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function SU(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lt(`Invalid query segment '${n}' in query '${t}'`)}return e}var vb=function(t,e){let n=AU(t),r=n.namespace;n.domain==="firebase.com"&&Sn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Sn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||CV();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ju(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ae(n.pathString)}},AU=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=TU(t.substring(u,d)));let f=SU(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let y=e.indexOf(".");r=e.substring(0,y).toLowerCase(),n=e.substring(y+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Bm=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return G(this._path)?null:Vb(this._path)}get ref(){return new So(this._repo,this._path)}get _queryIdentifier(){let e=rb(this._queryParams),n=zm(e);return n==="{}"?"default":n}get _queryObject(){return rb(this._queryParams)}isEqual(e){if(e=at(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Bb(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ej(this._path)}};var So=class t extends Bm{constructor(e,n){super(e,n,new wm,!1)}get parent(){let e=Ub(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};qj(So);Kj(So);var MU="FIREBASE_DATABASE_EMULATOR_HOST",$m={},NU=!1;function RU(t,e,n,r){t.repoInfo_=new ju(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function xU(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Sn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fe("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=vb(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[MU]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=vb(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new oa(oa.OWNER):new om(t.name,t.options,e);dU("Invalid Firebase Database URL",s),G(s.path)||Sn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=PU(a,t,u,new im(t,n));return new Hm(d,t)}function kU(t,e){let n=$m[e];(!n||n[t.key]!==t)&&Sn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),CU(t),delete n[t.key]}function PU(t,e,n,r){let i=$m[e.name];i||(i={},$m[e.name]=i);let o=i[t.toURLString()];return o&&Sn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Um(t,NU,n,r),i[t.toURLString()]=o,o}var Hm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new So(this._repo,oe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(kU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Sn("Cannot call "+e+" on a deleted database.")}};function b0(t=Vr(),e){let n=lo(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=eI("database");r&&T0(n,...r)}return n}function T0(t,e,n,r={}){t=at(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Sn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Sn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new oa(oa.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:tI(r.mockUserToken,t.app.options.projectId);o=new oa(s)}RU(i,e,n,o)}function OU(t){_V(Zn),kt(new We("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return xU(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),he(jD,UD,t),he(jD,UD,"esm2017")}qm.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qm.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};OU();var ma=class{constructor(e){return e}},S0="database",rv=class{constructor(){return po(S0)}};var iv=new T("angularfire2.database-instances");function FU(t,e){let n=Zs(S0,t,e);return n&&new ma(n)}function LU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ma(r)}}var VU={provide:rv,deps:[[new He,iv]]},jU={provide:ma,useFactory:FU,deps:[[new He,iv],bn]};function A0(t,...e){return he("angularfire",tr.full,"rtdb"),gt([jU,VU,{provide:iv,useFactory:LU(t),multi:!0,deps:[te,_e,nr,zr,[new He,Js],[new He,go],...e]}])}var M0=Wr(b0,!0);var N0={firebaseConfig:{apiKey:"AIzaSyBRQLmDQb5AW0XcwgyC5XtbaRfEuXhJOsY",authDomain:"auth-d3328.firebaseapp.com",projectId:"auth-d3328",storageBucket:"auth-d3328.firebasestorage.app",messagingSenderId:"450342154242",appId:"1:450342154242:web:0f5cc29ac945cc37fef71b"}};var R0={providers:[sw({eventCoalescing:!0}),SC(VD),Pw(),CD(()=>ID(N0.firebaseConfig)),A0(()=>M0()),FD(()=>LD())]};var td=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-footer"]],decls:3,vars:0,template:function(n,r){n&1&&(g(0,"footer")(1,"p"),v(2,"Super footer"),m()())},styles:["footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;text-align:center;padding:1rem}"]})};function UU(t,e){if(t&1){let n=Yc();g(0,"button",5),re("click",function(){Yo(n);let i=Mt();return Zo(i.disconnect())}),v(1," Logout "),m()}}function BU(t,e){t&1&&(g(0,"li")(1,"a",6),v(2,"Login"),m()())}var nd=class t{constructor(e){this.auth=e;this.auth.onAuthStateChanged(n=>{n?(console.log(n),this.currentUser=n.email):this.currentUser=null})}currentUser=null;disconnect(){return p(this,null,function*(){try{yield Tu(this.auth),this.currentUser=null}catch(e){console.error("Erreur lors de la d\xE9connexion :",e)}})}static \u0275fac=function(n){return new(n||t)(x(ct))};static \u0275cmp=A({type:t,selectors:[["app-nav-bar"]],decls:16,vars:2,consts:[["connected",""],["aria-current","page","routerLink","/home"],["aria-current","exercises","routerLink","/exercises"],[3,"click",4,"ngIf","ngIfElse"],["aria-current","register","routerLink","/app-register"],[3,"click"],["aria-current","login","routerLink","/app-login"]],template:function(n,r){if(n&1&&(g(0,"nav")(1,"ul")(2,"div")(3,"li")(4,"a",1),v(5,"Home"),m()(),g(6,"li")(7,"a",2),v(8,"Exercises"),m()()(),g(9,"div"),Ee(10,UU,2,0,"button",3)(11,BU,3,0,"ng-template",null,0,Li),g(13,"li")(14,"a",4),v(15,"Register"),m()()()()()),n&2){let i=Fi(12);I(10),W("ngIf",r.currentUser!==null)("ngIfElse",i)}},dependencies:[bl,mt],styles:["ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{margin-inline:1rem;cursor:pointer;border:none;background-color:orange;padding:.5rem 1rem;border-radius:.2rem;color:#fff;font-weight:700}"]})};var rd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-header"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"header"),M(1,"app-nav-bar"),m())},dependencies:[nd],styles:["header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:1rem}"]})};var id=class t{title="Angular try-hard";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-root"]],decls:4,vars:0,template:function(n,r){n&1&&(M(0,"app-header"),g(1,"main"),M(2,"router-outlet"),m(),M(3,"app-footer"))},dependencies:[Ep,rd,td],encapsulation:2})};Ww(id,R0).catch(t=>console.error(t));
