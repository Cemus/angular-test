var MT=Object.defineProperty,NT=Object.defineProperties;var RT=Object.getOwnPropertyDescriptors;var tv=Object.getOwnPropertySymbols,xT=Object.getPrototypeOf,kT=Object.prototype.hasOwnProperty,PT=Object.prototype.propertyIsEnumerable,OT=Reflect.get;var nv=(t,e,n)=>e in t?MT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})kT.call(e,n)&&nv(t,n,e[n]);if(tv)for(var n of tv(e))PT.call(e,n)&&nv(t,n,e[n]);return t},$=(t,e)=>NT(t,RT(e));var nr=(t,e,n)=>OT(xT(t),n,e);var p=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});function iv(t,e){return Object.is(t,e)}var ve=null,ma=!1,od=1,Qe=Symbol("SIGNAL");function q(t){let e=ve;return ve=t,e}function ov(){return ve}var Ao={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ya(t){if(ma)throw new Error("");if(ve===null)return;ve.consumerOnSignalRead(t);let e=ve.nextProducerIndex++;if(wa(ve),e<ve.producerNode.length&&ve.producerNode[e]!==t&&So(ve)){let n=ve.producerNode[e];Ea(n,ve.producerIndexOfThis[e])}ve.producerNode[e]!==t&&(ve.producerNode[e]=t,ve.producerIndexOfThis[e]=So(ve)?lv(t,ve,e):0),ve.producerLastReadVersion[e]=t.version}function FT(){od++}function sv(t){if(!(So(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===od)){if(!t.producerMustRecompute(t)&&!ad(t)){rv(t);return}t.producerRecomputeValue(t),rv(t)}}function av(t){if(t.liveConsumerNode===void 0)return;let e=ma;ma=!0;try{for(let n of t.liveConsumerNode)n.dirty||LT(n)}finally{ma=e}}function cv(){return ve?.consumerAllowSignalWrites!==!1}function LT(t){t.dirty=!0,av(t),t.consumerMarkedDirty?.(t)}function rv(t){t.dirty=!1,t.lastCleanEpoch=od}function _a(t){return t&&(t.nextProducerIndex=0),q(t)}function sd(t,e){if(q(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(So(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ea(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ad(t){wa(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(sv(n),r!==n.version))return!0}return!1}function cd(t){if(wa(t),So(t))for(let e=0;e<t.producerNode.length;e++)Ea(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function lv(t,e,n){if(uv(t),t.liveConsumerNode.length===0&&dv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=lv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ea(t,e){if(uv(t),t.liveConsumerNode.length===1&&dv(t))for(let r=0;r<t.producerNode.length;r++)Ea(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];wa(i),i.producerIndexOfThis[r]=e}}function So(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function wa(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function uv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function dv(t){return t.producerNode!==void 0}function fv(t){let e=Object.create(VT);e.computation=t;let n=()=>{if(sv(e),ya(e),e.value===va)throw e.error;return e.value};return n[Qe]=e,n}var rd=Symbol("UNSET"),id=Symbol("COMPUTING"),va=Symbol("ERRORED"),VT=$(w({},Ao),{value:rd,dirty:!0,error:null,equal:iv,kind:"computed",producerMustRecompute(t){return t.value===rd||t.value===id},producerRecomputeValue(t){if(t.value===id)throw new Error("Detected cycle in computations.");let e=t.value;t.value=id;let n=_a(t),r,i=!1;try{r=t.computation(),q(null),i=e!==rd&&e!==va&&r!==va&&t.equal(e,r)}catch(o){r=va,t.error=o}finally{sd(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function jT(){throw new Error}var hv=jT;function pv(){hv()}function gv(t){hv=t}var UT=null;function mv(t){let e=Object.create(ld);e.value=t;let n=()=>(ya(e),e.value);return n[Qe]=e,n}function Ia(t,e){cv()||pv(),t.equal(t.value,e)||(t.value=e,BT(t))}function vv(t,e){cv()||pv(),Ia(t,e(t.value))}var ld=$(w({},Ao),{equal:iv,value:void 0,kind:"signal"});function BT(t){t.version++,FT(),av(t),UT?.()}function k(t){return typeof t=="function"}function Zr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ca=Zr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function rr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var de=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(k(r))try{r()}catch(o){e=o instanceof Ca?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{yv(o)}catch(s){e=e??[],s instanceof Ca?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ca(e)}}add(e){var n;if(e&&e!==this)if(this.closed)yv(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&rr(n,e)}remove(e){let{_finalizers:n}=this;n&&rr(n,e),e instanceof t&&e._removeParent(this)}};de.EMPTY=(()=>{let t=new de;return t.closed=!0,t})();var ud=de.EMPTY;function Da(t){return t instanceof de||t&&"closed"in t&&k(t.remove)&&k(t.add)&&k(t.unsubscribe)}function yv(t){k(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qr={setTimeout(t,e,...n){let{delegate:r}=Qr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ba(t){Qr.setTimeout(()=>{let{onUnhandledError:e}=Et;if(e)e(t);else throw t})}function Mo(){}var _v=dd("C",void 0,void 0);function Ev(t){return dd("E",void 0,t)}function wv(t){return dd("N",t,void 0)}function dd(t,e,n){return{kind:t,value:e,error:n}}var ir=null;function Jr(t){if(Et.useDeprecatedSynchronousErrorHandling){let e=!ir;if(e&&(ir={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ir;if(ir=null,n)throw r}}else t()}function Iv(t){Et.useDeprecatedSynchronousErrorHandling&&ir&&(ir.errorThrown=!0,ir.error=t)}var or=class extends de{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Da(e)&&e.add(this)):this.destination=WT}static create(e,n,r){return new Xr(e,n,r)}next(e){this.isStopped?hd(wv(e),this):this._next(e)}error(e){this.isStopped?hd(Ev(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?hd(_v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},$T=Function.prototype.bind;function fd(t,e){return $T.call(t,e)}var pd=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ta(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ta(r)}else Ta(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ta(n)}}},Xr=class extends or{constructor(e,n,r){super();let i;if(k(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Et.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&fd(e.next,o),error:e.error&&fd(e.error,o),complete:e.complete&&fd(e.complete,o)}):i=e}this.destination=new pd(i)}};function Ta(t){Et.useDeprecatedSynchronousErrorHandling?Iv(t):ba(t)}function HT(t){throw t}function hd(t,e){let{onStoppedNotification:n}=Et;n&&Qr.setTimeout(()=>n(t,e))}var WT={closed:!0,next:Mo,error:HT,complete:Mo};var ei=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Je(t){return t}function gd(...t){return md(t)}function md(t){return t.length===0?Je:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var j=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=GT(n)?n:new Xr(n,r,i);return Jr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Cv(r),new r((i,o)=>{let s=new Xr({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ei](){return this}pipe(...n){return md(n)(this)}toPromise(n){return n=Cv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Cv(t){var e;return(e=t??Et.Promise)!==null&&e!==void 0?e:Promise}function zT(t){return t&&k(t.next)&&k(t.error)&&k(t.complete)}function GT(t){return t&&t instanceof or||zT(t)&&Da(t)}function vd(t){return k(t?.lift)}function K(t){return e=>{if(vd(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,e,n,r,i){return new yd(t,e,n,r,i)}var yd=class extends or{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ti(){return K((t,e)=>{let n=null;t._refCount++;let r=H(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ni=class extends j{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,vd(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new de;let n=this.getSubject();e.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=de.EMPTY)}return e}refCount(){return ti()(this)}};var Dv=Zr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=(()=>{class t extends j{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Sa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Dv}next(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ud:(this.currentObservers=null,o.push(n),new de(()=>{this.currentObservers=null,rr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new j;return n.source=this,n}}return t.create=(e,n)=>new Sa(e,n),t})(),Sa=class extends he{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:ud}};var De=class extends he{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var _d={now(){return(_d.delegate||Date).now()},delegate:void 0};var Aa=class extends de{constructor(e,n){super()}schedule(e,n=0){return this}};var No={setInterval(t,e,...n){let{delegate:r}=No;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=No;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ri=class extends Aa{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return No.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&No.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,rr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ii=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ii.now=_d.now;var oi=class extends ii{constructor(e,n=ii.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ed=new oi(ri);var Ma=class extends ri{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Na=class extends oi{};var wd=new Na(Ma);var We=new j(t=>t.complete());function bv(t){return t&&k(t.schedule)}function Tv(t){return t[t.length-1]}function Ra(t){return k(Tv(t))?t.pop():void 0}function Tn(t){return bv(Tv(t))?t.pop():void 0}function Id(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Av(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Sv(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sr(t){return this instanceof sr?(this.v=t,this):new sr(t)}function Mv(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(v){return Promise.resolve(v).then(h,d)}}function a(h,v){r[h]&&(i[h]=function(E){return new Promise(function(D,F){o.push([h,E,D,F])>1||c(h,E)})},v&&(i[h]=v(i[h])))}function c(h,v){try{l(r[h](v))}catch(E){f(o[0][3],E)}}function l(h){h.value instanceof sr?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,v){h(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Nv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Sv=="function"?Sv(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var xa=t=>t&&typeof t.length=="number"&&typeof t!="function";function ka(t){return k(t?.then)}function Pa(t){return k(t[ei])}function Oa(t){return Symbol.asyncIterator&&k(t?.[Symbol.asyncIterator])}function Fa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var La=qT();function Va(t){return k(t?.[La])}function ja(t){return Mv(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield sr(n.read());if(i)return yield sr(void 0);yield yield sr(r)}}finally{n.releaseLock()}})}function Ua(t){return k(t?.getReader)}function pe(t){if(t instanceof j)return t;if(t!=null){if(Pa(t))return KT(t);if(xa(t))return YT(t);if(ka(t))return ZT(t);if(Oa(t))return Rv(t);if(Va(t))return QT(t);if(Ua(t))return JT(t)}throw Fa(t)}function KT(t){return new j(e=>{let n=t[ei]();if(k(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YT(t){return new j(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ZT(t){return new j(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ba)})}function QT(t){return new j(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Rv(t){return new j(e=>{XT(t,e).catch(n=>e.error(n))})}function JT(t){return Rv(ja(t))}function XT(t,e){var n,r,i,o;return Av(this,void 0,void 0,function*(){try{for(n=Nv(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function ze(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Sn(t,e=0){return K((n,r)=>{n.subscribe(H(r,i=>ze(r,t,()=>r.next(i),e),()=>ze(r,t,()=>r.complete(),e),i=>ze(r,t,()=>r.error(i),e)))})}function An(t,e=0){return K((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xv(t,e){return pe(t).pipe(An(e),Sn(e))}function kv(t,e){return pe(t).pipe(An(e),Sn(e))}function Pv(t,e){return new j(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ov(t,e){return new j(n=>{let r;return ze(n,e,()=>{r=t[La](),ze(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>k(r?.return)&&r.return()})}function Ba(t,e){if(!t)throw new Error("Iterable cannot be null");return new j(n=>{ze(n,e,()=>{let r=t[Symbol.asyncIterator]();ze(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Fv(t,e){return Ba(ja(t),e)}function Lv(t,e){if(t!=null){if(Pa(t))return xv(t,e);if(xa(t))return Pv(t,e);if(ka(t))return kv(t,e);if(Oa(t))return Ba(t,e);if(Va(t))return Ov(t,e);if(Ua(t))return Fv(t,e)}throw Fa(t)}function ce(t,e){return e?Lv(t,e):pe(t)}function R(...t){let e=Tn(t);return ce(t,e)}function si(t,e){let n=k(t)?t:()=>t,r=i=>i.error(n());return new j(e?i=>e.schedule(r,0,i):r)}function Cd(t){return!!t&&(t instanceof j||k(t.lift)&&k(t.subscribe))}var nn=Zr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function L(t,e){return K((n,r)=>{let i=0;n.subscribe(H(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:e0}=Array;function t0(t,e){return e0(e)?t(...e):t(e)}function $a(t){return L(e=>t0(t,e))}var{isArray:n0}=Array,{getPrototypeOf:r0,prototype:i0,keys:o0}=Object;function Ha(t){if(t.length===1){let e=t[0];if(n0(e))return{args:e,keys:null};if(s0(e)){let n=o0(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function s0(t){return t&&typeof t=="object"&&r0(t)===i0}function Wa(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function za(...t){let e=Tn(t),n=Ra(t),{args:r,keys:i}=Ha(t);if(r.length===0)return ce([],e);let o=new j(a0(r,e,i?s=>Wa(i,s):Je));return n?o.pipe($a(n)):o}function a0(t,e,n=Je){return r=>{Vv(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Vv(e,()=>{let l=ce(t[c],e),u=!1;l.subscribe(H(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Vv(t,e,n){t?ze(n,t,e):e()}function jv(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=E=>l<r?v(E):c.push(E),v=E=>{o&&e.next(E),l++;let D=!1;pe(n(E,u++)).subscribe(H(e,F=>{i?.(F),o?h(F):e.next(F)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<r;){let F=c.shift();s?ze(e,s,()=>v(F)):v(F)}f()}catch(F){e.error(F)}}))};return t.subscribe(H(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ye(t,e,n=1/0){return k(e)?ye((r,i)=>L((o,s)=>e(r,o,i,s))(pe(t(r,i))),n):(typeof e=="number"&&(n=e),K((r,i)=>jv(r,i,t,n)))}function Dd(t=1/0){return ye(Je,t)}function Uv(){return Dd(1)}function ai(...t){return Uv()(ce(t,Tn(t)))}function Ga(t){return new j(e=>{pe(t()).subscribe(e)})}function bd(...t){let e=Ra(t),{args:n,keys:r}=Ha(t),i=new j(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;pe(n[u]).subscribe(H(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Wa(r,a):a),o.complete())}))}});return e?i.pipe($a(e)):i}function Xe(t,e){return K((n,r)=>{let i=0;n.subscribe(H(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Mn(t){return K((e,n)=>{let r=null,i=!1,o;r=e.subscribe(H(n,void 0,void 0,s=>{o=pe(t(s,Mn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Bv(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(H(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Nn(t,e){return k(e)?ye(t,e,1):ye(t,1)}function Rn(t){return K((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function rn(t){return t<=0?()=>We:K((e,n)=>{let r=0;e.subscribe(H(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qa(t=c0){return K((e,n)=>{let r=!1;e.subscribe(H(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function c0(){return new nn}function ar(t){return K((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function on(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xe((i,o)=>t(i,o,r)):Je,rn(1),n?Rn(e):qa(()=>new nn))}function ci(t){return t<=0?()=>We:K((e,n)=>{let r=[];e.subscribe(H(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Td(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Xe((i,o)=>t(i,o,r)):Je,ci(1),n?Rn(e):qa(()=>new nn))}function Sd(t,e){return K(Bv(t,e,arguments.length>=2,!0))}function Ad(...t){let e=Tn(t);return K((n,r)=>{(e?ai(t,n,e):ai(t,n)).subscribe(r)})}function et(t,e){return K((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(H(r,c=>{i?.unsubscribe();let l=0,u=o++;pe(t(c,u)).subscribe(i=H(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Md(t){return K((e,n)=>{pe(t).subscribe(H(n,()=>n.complete(),Mo)),!n.closed&&e.subscribe(n)})}function we(t,e,n){let r=k(t)||e||n?{next:t,error:e,complete:n}:t;return r?K((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(H(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Je}var Ry="https://g.co/ng/security#xss",C=class extends Error{code;constructor(e,n){super(Mc(e,n)),this.code=e}};function Mc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var xy=Symbol("InputSignalNode#UNSET"),l0=$(w({},ld),{transformFn:void 0,applyValueToInputSignal(t,e){Ia(t,e)}});function ky(t,e){let n=Object.create(l0);n.value=t,n.transformFn=e?.transform;function r(){if(ya(n),n.value===xy)throw new C(-950,!1);return n.value}return r[Qe]=n,r}function Ho(t){return{toString:t}.toString()}var Ka="__parameters__";function u0(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Py(t,e,n){return Ho(()=>{let r=u0(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ka)?c[Ka]:Object.defineProperty(c,Ka,{value:[]})[Ka];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var $d=globalThis;function ie(t){for(let e in t)if(t[e]===ie)return e;throw Error("Could not find renamed property on target object.")}function d0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ve(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ve).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function $v(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var f0=ie({__forward_ref__:ie});function bi(t){return t.__forward_ref__=bi,t.toString=function(){return Ve(this())},t}function Le(t){return Oy(t)?t():t}function Oy(t){return typeof t=="function"&&t.hasOwnProperty(f0)&&t.__forward_ref__===bi}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nc(t){return Hv(t,Ly)||Hv(t,Vy)}function Fy(t){return Nc(t)!==null}function Hv(t,e){return t.hasOwnProperty(e)?t[e]:null}function h0(t){let e=t&&(t[Ly]||t[Vy]);return e||null}function Wv(t){return t&&(t.hasOwnProperty(zv)||t.hasOwnProperty(p0))?t[zv]:null}var Ly=ie({\u0275prov:ie}),zv=ie({\u0275inj:ie}),Vy=ie({ngInjectableDef:ie}),p0=ie({ngInjectorDef:ie}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function jy(t){return t&&!!t.\u0275providers}var g0=ie({\u0275cmp:ie}),m0=ie({\u0275dir:ie}),v0=ie({\u0275pipe:ie}),y0=ie({\u0275mod:ie}),rc=ie({\u0275fac:ie}),Po=ie({__NG_ELEMENT_ID__:ie}),Gv=ie({__NG_ENV_ID__:ie});function pi(t){return typeof t=="string"?t:t==null?"":String(t)}function _0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():pi(t)}function E0(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function kf(t,e){throw new C(-201,!1)}var U=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(U||{}),Hd;function Uy(){return Hd}function ct(t){let e=Hd;return Hd=t,e}function By(t,e,n){let r=Nc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&U.Optional)return null;if(e!==void 0)return e;kf(t,"Injector")}var w0={},Oo=w0,Wd="__NG_DI_FLAG__",ic="ngTempTokenPath",I0="ngTokenPath",C0=/\n/gm,D0="\u0275",qv="__source",fi;function b0(){return fi}function xn(t){let e=fi;return fi=t,e}function T0(t,e=U.Default){if(fi===void 0)throw new C(-203,!1);return fi===null?By(t,void 0,e):fi.get(t,e&U.Optional?null:void 0,e)}function x(t,e=U.Default){return(Uy()||T0)(Le(t),e)}function _(t,e=U.Default){return x(t,Rc(e))}function Rc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zd(t){let e=[];for(let n=0;n<t.length;n++){let r=Le(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=U.Default;for(let s=0;s<r.length;s++){let a=r[s],c=S0(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(x(i,o))}else e.push(x(r))}return e}function $y(t,e){return t[Wd]=e,t.prototype[Wd]=e,t}function S0(t){return t[Wd]}function A0(t,e,n,r){let i=t[ic];throw e[qv]&&i.unshift(e[qv]),t.message=M0(`
`+t.message,i,n,r),t[I0]=i,t[ic]=null,t}function M0(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==D0?t.slice(2):t;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ve(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(C0,`
  `)}`}var Ue=$y(Py("Optional"),8);var Hy=$y(Py("SkipSelf"),4);function gi(t,e){let n=t.hasOwnProperty(rc);return n?t[rc]:null}function Pf(t,e){t.forEach(n=>Array.isArray(n)?Pf(n,e):e(n))}function Wy(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function oc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function N0(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function R0(t,e,n){let r=Wo(t,e);return r>=0?t[r|1]=n:(r=~r,N0(t,r,e,n)),r}function Nd(t,e){let n=Wo(t,e);if(n>=0)return t[n|1]}function Wo(t,e){return x0(t,e,1)}function x0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var mi={},lt=[],vi=new b(""),zy=new b("",-1),Gy=new b(""),sc=class{get(e,n=Oo){if(n===Oo){let r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return n}};function qy(t,e){let n=t[y0]||null;if(!n&&e===!0)throw new Error(`Type ${Ve(t)} does not have '\u0275mod' property.`);return n}function lr(t){return t[g0]||null}function Ky(t){return t[m0]||null}function Yy(t){return t[v0]||null}function Zy(t){let e=lr(t)||Ky(t)||Yy(t);return e!==null&&e.standalone}function ht(t){return{\u0275providers:t}}function k0(...t){return{\u0275providers:Qy(!0,t),\u0275fromNgModule:!0}}function Qy(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Pf(e,s=>{let a=s;Gd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Jy(i,o),n}function Jy(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Of(i,o=>{e(o,r)})}}function Gd(t,e,n,r){if(t=Le(t),!t)return!1;let i=null,o=Wv(t),s=!o&&lr(t);if(!o&&!s){let c=t.ngModule;if(o=Wv(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Gd(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Pf(o.imports,u=>{Gd(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Jy(l,e)}if(!a){let l=gi(i)||(()=>new i);e({provide:i,useFactory:l,deps:lt},i),e({provide:Gy,useValue:i,multi:!0},i),e({provide:vi,useValue:()=>x(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Of(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Of(t,e){for(let n of t)jy(n)&&(n=n.\u0275providers),Array.isArray(n)?Of(n,e):e(n)}var P0=ie({provide:String,useValue:ie});function Xy(t){return t!==null&&typeof t=="object"&&P0 in t}function O0(t){return!!(t&&t.useExisting)}function F0(t){return!!(t&&t.useFactory)}function yi(t){return typeof t=="function"}function L0(t){return!!t.useClass}var xc=new b(""),Ja={},V0={},Rd;function Ff(){return Rd===void 0&&(Rd=new sc),Rd}var Me=class{},Fo=class extends Me{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Kd(e,s=>this.processProvider(s)),this.records.set(zy,li(void 0,this)),i.has("environment")&&this.records.set(Me,li(void 0,this));let o=this.records.get(xc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gy,lt,U.Self))}destroy(){xo(this),this._destroyed=!0;let e=q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),q(e)}}onDestroy(e){return xo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){xo(this);let n=xn(this),r=ct(void 0),i;try{return e()}finally{xn(n),ct(r)}}get(e,n=Oo,r=U.Default){if(xo(this),e.hasOwnProperty(Gv))return e[Gv](this);r=Rc(r);let i,o=xn(this),s=ct(void 0);try{if(!(r&U.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=H0(e)&&Nc(e);l&&this.injectableDefInScope(l)?c=li(qd(e),Ja):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&U.Self?Ff():this.parent;return n=r&U.Optional&&n===Oo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ic]=a[ic]||[]).unshift(Ve(e)),o)throw a;return A0(a,e,"R3InjectorError",this.source)}else throw a}finally{ct(s),xn(o)}}resolveInjectorInitializers(){let e=q(null),n=xn(this),r=ct(void 0),i;try{let o=this.get(vi,lt,U.Self);for(let s of o)s()}finally{xn(n),ct(r),q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ve(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Le(e);let n=yi(e)?e:Le(e&&e.provide),r=U0(e);if(!yi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=li(void 0,Ja,!0),i.factory=()=>zd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=q(null);try{return n.value===Ja&&(n.value=V0,n.value=n.factory()),typeof n.value=="object"&&n.value&&$0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{q(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Le(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qd(t){let e=Nc(t),n=e!==null?e.factory:gi(t);if(n!==null)return n;if(t instanceof b)throw new C(204,!1);if(t instanceof Function)return j0(t);throw new C(204,!1)}function j0(t){if(t.length>0)throw new C(204,!1);let n=h0(t);return n!==null?()=>n.factory(t):()=>new t}function U0(t){if(Xy(t))return li(void 0,t.useValue);{let e=e_(t);return li(e,Ja)}}function e_(t,e,n){let r;if(yi(t)){let i=Le(t);return gi(i)||qd(i)}else if(Xy(t))r=()=>Le(t.useValue);else if(F0(t))r=()=>t.useFactory(...zd(t.deps||[]));else if(O0(t))r=()=>x(Le(t.useExisting));else{let i=Le(t&&(t.useClass||t.provide));if(B0(t))r=()=>new i(...zd(t.deps));else return gi(i)||qd(i)}return r}function xo(t){if(t.destroyed)throw new C(205,!1)}function li(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function B0(t){return!!t.deps}function $0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function H0(t){return typeof t=="function"||typeof t=="object"&&t instanceof b}function Kd(t,e){for(let n of t)Array.isArray(n)?Kd(n,e):n&&jy(n)?Kd(n.\u0275providers,e):e(n)}function be(t,e){t instanceof Fo&&xo(t);let n,r=xn(t),i=ct(void 0);try{return e()}finally{xn(r),ct(i)}}function t_(){return Uy()!==void 0||b0()!=null}function n_(t){if(!t_())throw new C(-203,!1)}function W0(t){return typeof t=="function"}var un=0,Q=1,P=2,je=3,It=4,Ct=5,ac=6,cc=7,ft=8,Lo=9,sn=10,me=11,Vo=12,Kv=13,Ti=14,Lt=15,_i=16,ui=17,Ei=18,kc=19,r_=20,kn=21,xd=22,lc=23,tt=24,Vt=25,i_=1;var ur=7,uc=8,dc=9,dt=10;function Pn(t){return Array.isArray(t)&&typeof t[i_]=="object"}function dn(t){return Array.isArray(t)&&t[i_]===!0}function o_(t){return(t.flags&4)!==0}function mr(t){return t.componentOffset>-1}function Lf(t){return(t.flags&1)===1}function an(t){return!!t.template}function fc(t){return(t[P]&512)!==0}function zo(t){return(t[P]&256)===256}var Yd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function s_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Si=(()=>{let t=()=>a_;return t.ngInherit=!0,t})();function a_(t){return t.type.prototype.ngOnChanges&&(t.setInput=G0),z0}function z0(){let t=l_(this),e=t?.current;if(e){let n=t.previous;if(n===mi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function G0(t,e,n,r,i){let o=this.declaredInputs[r],s=l_(t)||q0(t,{previous:mi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Yd(l&&l.currentValue,n,c===mi),s_(t,e,i,n)}var c_="__ngSimpleChanges__";function l_(t){return t[c_]||null}function q0(t,e){return t[c_]=e}var Yv=null;var ut=function(t,e,n){Yv?.(t,e,n)},K0="svg",Y0="math";function jt(t){for(;Array.isArray(t);)t=t[un];return t}function u_(t,e){return jt(e[t])}function Dt(t,e){return jt(e[t.index])}function d_(t,e){return t.data[e]}function Z0(t,e){return t[e]}function Ut(t,e){let n=e[t];return Pn(n)?n:n[un]}function Vf(t){return(t[P]&128)===128}function Q0(t){return dn(t[je])}function hc(t,e){return e==null?null:t[e]}function f_(t){t[ui]=0}function jf(t){t[P]&1024||(t[P]|=1024,Vf(t)&&Oc(t))}function J0(t,e){for(;t>0;)e=e[Ti],t--;return e}function Pc(t){return!!(t[P]&9216||t[tt]?.dirty)}function Zd(t){t[sn].changeDetectionScheduler?.notify(9),t[P]&64&&(t[P]|=1024),Pc(t)&&Oc(t)}function Oc(t){t[sn].changeDetectionScheduler?.notify(0);let e=dr(t);for(;e!==null&&!(e[P]&8192||(e[P]|=8192,!Vf(e)));)e=dr(e)}function h_(t,e){if(zo(t))throw new C(911,!1);t[kn]===null&&(t[kn]=[]),t[kn].push(e)}function X0(t,e){if(t[kn]===null)return;let n=t[kn].indexOf(e);n!==-1&&t[kn].splice(n,1)}function dr(t){let e=t[je];return dn(e)?e[je]:e}function eS(t){return t[cc]??=[]}function tS(t){return t.cleanup??=[]}var B={lFrame:I_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Qd=!1;function nS(){return B.lFrame.elementDepthCount}function rS(){B.lFrame.elementDepthCount++}function iS(){B.lFrame.elementDepthCount--}function Uf(){return B.bindingsEnabled}function oS(){return B.skipHydrationRootTNode!==null}function sS(t){return B.skipHydrationRootTNode===t}function aS(){B.skipHydrationRootTNode=null}function ne(){return B.lFrame.lView}function Ge(){return B.lFrame.tView}function Go(t){return B.lFrame.contextLView=t,t[ft]}function qo(t){return B.lFrame.contextLView=null,t}function nt(){let t=p_();for(;t!==null&&t.type===64;)t=t.parent;return t}function p_(){return B.lFrame.currentTNode}function cS(){let t=B.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ko(t,e){let n=B.lFrame;n.currentTNode=t,n.isParent=e}function g_(){return B.lFrame.isParent}function lS(){B.lFrame.isParent=!1}function uS(){return B.lFrame.contextLView}function m_(){return Qd}function Zv(t){let e=Qd;return Qd=t,e}function v_(){let t=B.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dS(){return B.lFrame.bindingIndex}function fS(t){return B.lFrame.bindingIndex=t}function Fc(){return B.lFrame.bindingIndex++}function y_(t){let e=B.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function hS(){return B.lFrame.inI18n}function pS(t,e){let n=B.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jd(e)}function gS(){return B.lFrame.currentDirectiveIndex}function Jd(t){B.lFrame.currentDirectiveIndex=t}function mS(t){let e=B.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function __(t){B.lFrame.currentQueryIndex=t}function vS(t){let e=t[Q];return e.type===2?e.declTNode:e.type===1?t[Ct]:null}function E_(t,e,n){if(n&U.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&U.Host);)if(i=vS(o),i===null||(o=o[Ti],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=B.lFrame=w_();return r.currentTNode=e,r.lView=t,!0}function Bf(t){let e=w_(),n=t[Q];B.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function w_(){let t=B.lFrame,e=t===null?null:t.child;return e===null?I_(t):e}function I_(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function C_(){let t=B.lFrame;return B.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var D_=C_;function $f(){let t=C_();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yS(t){return(B.lFrame.contextLView=J0(t,B.lFrame.contextLView))[ft]}function vr(){return B.lFrame.selectedIndex}function fr(t){B.lFrame.selectedIndex=t}function Lc(){let t=B.lFrame;return d_(t.tView,t.selectedIndex)}function _S(){return B.lFrame.currentNamespace}var b_=!0;function Hf(){return b_}function Wf(t){b_=t}function ES(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=a_(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function T_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Xa(t,e,n){S_(t,e,3,n)}function ec(t,e,n,r){(t[P]&3)===n&&S_(t,e,n,r)}function kd(t,e){let n=t[P];(n&3)===e&&(n&=16383,n+=1,t[P]=n)}function S_(t,e,n,r){let i=r!==void 0?t[ui]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[ui]+=65536),(a<o||o==-1)&&(wS(t,n,e,c),t[ui]=(t[ui]&4294901760)+c+2),c++}function Qv(t,e){ut(4,t,e);let n=q(null);try{e.call(t)}finally{q(n),ut(5,t,e)}}function wS(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[P]>>14<t[ui]>>16&&(t[P]&3)===e&&(t[P]+=16384,Qv(a,o)):Qv(a,o)}var hi=-1,hr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function IS(t){return t instanceof hr}function CS(t){return(t.flags&8)!==0}function DS(t){return(t.flags&16)!==0}function bS(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];TS(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function A_(t){return t===3||t===4||t===6}function TS(t){return t.charCodeAt(0)===64}function jo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jv(t,n,i,null,e[++r]):Jv(t,n,i,null,null))}}return t}function Jv(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Pd={},Xd=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Rc(r);let i=this.injector.get(e,Pd,r);return i!==Pd||n===Pd?i:this.parentInjector.get(e,n,r)}};function M_(t){return t!==hi}function pc(t){return t&32767}function SS(t){return t>>16}function gc(t,e){let n=SS(t),r=e;for(;n>0;)r=r[Ti],n--;return r}var ef=!0;function Xv(t){let e=ef;return ef=t,e}var AS=256,N_=AS-1,R_=5,MS=0,Ft={};function NS(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Po)&&(r=n[Po]),r==null&&(r=n[Po]=MS++);let i=r&N_,o=1<<i;e.data[t+(i>>R_)]|=o}function mc(t,e){let n=x_(t,e);if(n!==-1)return n;let r=e[Q];r.firstCreatePass&&(t.injectorIndex=e.length,Od(r.data,t),Od(e,null),Od(r.blueprint,null));let i=zf(t,e),o=t.injectorIndex;if(M_(i)){let s=pc(i),a=gc(i,e),c=a[Q].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Od(t,e){t.push(0,0,0,0,0,0,0,0,e)}function x_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function zf(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=L_(i),r===null)return hi;if(n++,i=i[Ti],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return hi}function tf(t,e,n){NS(t,e,n)}function RS(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(A_(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function k_(t,e,n){if(n&U.Optional||t!==void 0)return t;kf(e,"NodeInjector")}function P_(t,e,n,r){if(n&U.Optional&&r===void 0&&(r=null),!(n&(U.Self|U.Host))){let i=t[Lo],o=ct(void 0);try{return i?i.get(e,r,n&U.Optional):By(e,r,n&U.Optional)}finally{ct(o)}}return k_(r,e,n)}function O_(t,e,n,r=U.Default,i){if(t!==null){if(e[P]&2048&&!(r&U.Self)){let s=FS(t,e,n,r,Ft);if(s!==Ft)return s}let o=F_(t,e,n,r,Ft);if(o!==Ft)return o}return P_(e,n,r,i)}function F_(t,e,n,r,i){let o=PS(n);if(typeof o=="function"){if(!E_(e,t,r))return r&U.Host?k_(i,n,r):P_(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&U.Optional))kf(n);else return s}finally{D_()}}else if(typeof o=="number"){let s=null,a=x_(t,e),c=hi,l=r&U.Host?e[Lt][Ct]:null;for((a===-1||r&U.SkipSelf)&&(c=a===-1?zf(t,e):e[a+8],c===hi||!ty(r,!1)?a=-1:(s=e[Q],a=pc(c),e=gc(c,e)));a!==-1;){let u=e[Q];if(ey(o,a,u.data)){let d=xS(a,e,n,s,r,l);if(d!==Ft)return d}c=e[a+8],c!==hi&&ty(r,e[Q].data[a+8]===l)&&ey(o,a,e)?(s=u,a=pc(c),e=gc(c,e)):a=-1}}return i}function xS(t,e,n,r,i,o){let s=e[Q],a=s.data[t+8],c=r==null?mr(a)&&ef:r!=s&&(a.type&3)!==0,l=i&U.Host&&o===a,u=kS(a,s,n,c,l);return u!==null?vc(e,s,u,a):Ft}function kS(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let v=s[h];if(h<c&&n===v||h>=c&&v.type===n)return h}if(i){let h=s[c];if(h&&an(h)&&h.type===n)return c}return null}function vc(t,e,n,r){let i=t[n],o=e.data;if(IS(i)){let s=i;s.resolving&&E0(_0(o[n]));let a=Xv(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?ct(s.injectImpl):null,u=E_(t,r,U.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ES(n,o[n],e)}finally{l!==null&&ct(l),Xv(a),s.resolving=!1,D_()}}return i}function PS(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Po)?t[Po]:void 0;return typeof e=="number"?e>=0?e&N_:OS:e}function ey(t,e,n){let r=1<<t;return!!(n[e+(t>>R_)]&r)}function ty(t,e){return!(t&U.Self)&&!(t&U.Host&&e)}var cr=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return O_(this._tNode,this._lView,e,Rc(r),n)}};function OS(){return new cr(nt(),ne())}function Yo(t){return Ho(()=>{let e=t.prototype.constructor,n=e[rc]||nf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[rc]||nf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function nf(t){return Oy(t)?()=>{let e=nf(Le(t));return e&&e()}:gi(t)}function FS(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[P]&2048&&!fc(s);){let a=F_(o,s,n,r|U.Self,Ft);if(a!==Ft)return a;let c=o.parent;if(!c){let l=s[r_];if(l){let u=l.get(n,Ft,r);if(u!==Ft)return u}c=L_(s),s=s[Ti]}o=c}return i}function L_(t){let e=t[Q],n=e.type;return n===2?e.declTNode:n===1?t[Ct]:null}function Gf(t){return RS(nt(),t)}function ny(t,e=null,n=null,r){let i=V_(t,e,n,r);return i.resolveInjectorInitializers(),i}function V_(t,e=null,n=null,r,i=new Set){let o=[n||lt,k0(t)];return r=r||(typeof t=="object"?void 0:Ve(t)),new Fo(o,e||Ff(),r||null,i)}var _e=class t{static THROW_IF_NOT_FOUND=Oo;static NULL=new sc;static create(e,n){if(Array.isArray(e))return ny({name:""},n,e,"");{let r=e.name??"";return ny({name:r},e.parent,e.providers,r)}}static \u0275prov=T({token:t,providedIn:"any",factory:()=>x(zy)});static __NG_ELEMENT_ID__=-1};var LS=new b("");LS.__NG_ELEMENT_ID__=t=>{let e=nt();if(e===null)throw new C(204,!1);if(e.type&2)return e.value;if(t&U.Optional)return null;throw new C(204,!1)};var j_=!1,Zo=(()=>{class t{static __NG_ELEMENT_ID__=VS;static __NG_ENV_ID__=n=>n}return t})(),rf=class extends Zo{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return h_(this._lView,e),()=>X0(this._lView,e)}};function VS(){return new rf(ne())}var wi=class{},Vc=new b("",{providedIn:"root",factory:()=>!1});var U_=new b(""),B_=new b(""),fn=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new De(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}return t})(),jc=(()=>{class t{internalPendingTasks=_(fn);scheduler=_(wi);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(n))}}run(n){return p(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}return t})(),of=class extends he{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,t_()&&(this.destroyRef=_(Zo,{optional:!0})??void 0,this.pendingTasks=_(fn,{optional:!0})??void 0)}emit(e){let n=q(null);try{super.next(e)}finally{q(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof de&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ge=of;function yc(...t){}function $_(t){let e,n;function r(){t=yc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ry(t){return queueMicrotask(()=>t()),()=>{t=yc}}var qf="isAngularZone",_c=qf+"_ID",jS=0,te=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ge(!1);onMicrotaskEmpty=new ge(!1);onStable=new ge(!1);onError=new ge(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=j_}=e;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,$S(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(qf)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,US,yc,yc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},US={};function Kf(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function BS(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){$_(()=>{t.callbackScheduled=!1,sf(t),t.isCheckStableRunning=!0,Kf(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),sf(t)}function $S(t){let e=()=>{BS(t)},n=jS++;t._inner=t._inner.fork({name:"angular",properties:{[qf]:!0,[_c]:n,[_c+n]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(HS(c))return r.invokeTask(o,s,a,c);try{return iy(t),r.invokeTask(o,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),oy(t)}},onInvoke:(r,i,o,s,a,c,l)=>{try{return iy(t),r.invoke(o,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!WS(c)&&e(),oy(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,sf(t),Kf(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function sf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function iy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function oy(t){t._nesting--,Kf(t)}var af=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ge;onMicrotaskEmpty=new ge;onStable=new ge;onError=new ge;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function HS(t){return H_(t,"__ignore_ng_zone__")}function WS(t){return H_(t,"__scheduler_tick__")}function H_(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var On=class{_console=console;handleError(e){this._console.error("ERROR",e)}},zS=new b("",{providedIn:"root",factory:()=>{let t=_(te),e=_(On);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function sy(t,e){return ky(t,e)}function GS(t){return ky(xy,t)}var W_=(sy.required=GS,sy);function qS(){return Uc(nt(),ne())}function Uc(t,e){return new Ht(Dt(t,e))}var Ht=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=qS}return t})();var ay=new Set;function Ai(t){ay.has(t)||(ay.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function KS(t){return typeof t=="function"&&t[Qe]!==void 0}function Mi(t,e){Ai("NgSignals");let n=mv(t),r=n[Qe];return e?.equal&&(r.equal=e.equal),n.set=i=>Ia(r,i),n.update=i=>vv(r,i),n.asReadonly=YS.bind(n),n}function YS(){let t=this[Qe];if(t.readonlyFn===void 0){let e=()=>this();e[Qe]=t,t.readonlyFn=e}return t.readonlyFn}function z_(t){return KS(t)&&typeof t.set=="function"}function G_(t){return(t.flags&128)===128}var q_=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(q_||{}),K_=new Map,ZS=0;function QS(){return ZS++}function JS(t){K_.set(t[kc],t)}function cf(t){K_.delete(t[kc])}var cy="__ngContext__";function Ni(t,e){Pn(e)?(t[cy]=e[kc],JS(e)):t[cy]=e}function Y_(t){return Q_(t[Vo])}function Z_(t){return Q_(t[It])}function Q_(t){for(;t!==null&&!dn(t);)t=t[It];return t}var lf;function J_(t){lf=t}function XS(){if(lf!==void 0)return lf;if(typeof document<"u")return document;throw new C(210,!1)}var Yf=new b("",{providedIn:"root",factory:()=>eA}),eA="ng",Zf=new b(""),hn=new b("",{providedIn:"platform",factory:()=>"unknown"});var Qf=new b("",{providedIn:"root",factory:()=>XS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var tA="h",nA="b";var X_=!1,rA=new b("",{providedIn:"root",factory:()=>X_});var eE=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(eE||{}),Bc=new b("");var iA=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:t,providedIn:"root",factory:()=>new t})}return t})();var oA=()=>null;function tE(t,e,n=!1){return oA(t,e,n)}function nE(t,e){let n=t.contentQueries;if(n!==null){let r=q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];__(o),a.contentQueries(2,e[s],s)}}}finally{q(r)}}}function uf(t,e,n){__(0);let r=q(null);try{e(t,n)}finally{q(r)}}function rE(t,e,n){if(o_(e)){let r=q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{q(r)}}}var Bt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Bt||{});var Ya;function sA(){if(Ya===void 0&&(Ya=null,$d.trustedTypes))try{Ya=$d.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ya}function ly(t){return sA()?.createScriptURL(t)||t}var Ec=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ry})`}};function Qo(t){return t instanceof Ec?t.changingThisBreaksApplicationSecurity:t}function Jf(t,e){let n=aA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ry})`)}return n===e}function aA(t){return t instanceof Ec&&t.getTypeName()||null}var cA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iE(t){return t=String(t),t.match(cA)?t:"unsafe:"+t}var $c=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($c||{});function Jo(t){let e=sE();return e?e.sanitize($c.URL,t)||"":Jf(t,"URL")?Qo(t):iE(pi(t))}function lA(t){let e=sE();if(e)return ly(e.sanitize($c.RESOURCE_URL,t)||"");if(Jf(t,"ResourceURL"))return ly(Qo(t));throw new C(904,!1)}function uA(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?lA:Jo}function oE(t,e,n){return uA(e,n)(t)}function sE(){let t=ne();return t&&t[sn].sanitizer}function aE(t){return t instanceof Function?t():t}function dA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var cE="ng-template";function fA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&dA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Xf(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Xf(t){return t.type===4&&t.value!==cE}function hA(t,e,n){let r=t.type===4&&!n?cE:t.value;return e===r}function pA(t,e,n){let r=4,i=t.attrs,o=i!==null?vA(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!wt(r)&&!wt(c))return!1;if(s&&wt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!hA(t,c,n)||c===""&&e.length===1){if(wt(r))return!1;s=!0}}else if(r&8){if(i===null||!fA(t,i,c,n)){if(wt(r))return!1;s=!0}}else{let l=e[++a],u=gA(c,i,Xf(t),n);if(u===-1){if(wt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(wt(r))return!1;s=!0}}}}return wt(r)||s}function wt(t){return(t&1)===0}function gA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return yA(e,t)}function mA(t,e,n=!1){for(let r=0;r<e.length;r++)if(pA(t,e[r],n))return!0;return!1}function vA(t){for(let e=0;e<t.length;e++){let n=t[e];if(A_(n))return e}return t.length}function yA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function uy(t,e){return t?":not("+e.trim()+")":e}function _A(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!wt(s)&&(e+=uy(o,i),i=""),r=s,o=o||!wt(r);n++}return i!==""&&(e+=uy(o,i)),e}function EA(t){return t.map(_A).join(",")}function wA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!wt(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var bt={};function IA(t,e){return t.createText(e)}function CA(t,e,n){t.setValue(e,n)}function lE(t,e,n){return t.createElement(e,n)}function wc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function uE(t,e,n){t.appendChild(e,n)}function dy(t,e,n,r,i){r!==null?wc(t,e,n,r,i):uE(t,e,n)}function DA(t,e,n){t.removeChild(null,e,n)}function bA(t,e,n){t.setAttribute(e,"style",n)}function TA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function dE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&bS(t,e,r),i!==null&&TA(t,e,i),o!==null&&bA(t,e,o)}function S(t=1){fE(Ge(),ne(),vr()+t,!1)}function fE(t,e,n,r){if(!r)if((e[P]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Xa(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ec(e,o,0,n)}fr(n)}var Fn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Fn||{});function hE(t,e,n,r,i,o){let s=q(null);try{let a=null;i&Fn.SignalBased&&(a=e[r][Qe]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Fn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):s_(e,a,r,o)}finally{q(s)}}function eh(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[un]=i,d[P]=r|4|128|8|64|1024,(l!==null||t&&t[P]&2048)&&(d[P]|=2048),f_(d),d[je]=d[Ti]=t,d[ft]=n,d[sn]=s||t&&t[sn],d[me]=a||t&&t[me],d[Lo]=c||t&&t[Lo]||null,d[Ct]=o,d[kc]=QS(),d[ac]=u,d[r_]=l,d[Lt]=e.type==2?t[Lt]:d,d}function pE(t,e,n,r,i){let o=vr(),s=r&2;try{fr(-1),s&&e.length>Vt&&fE(t,e,Vt,!1),ut(s?2:0,i),n(r,i)}finally{fr(o),ut(s?3:1,i)}}function gE(t,e,n){Uf()&&(Ni(Dt(n,e),e),mE(t,e,n))}function mE(t,e,n){PA(t,e,n),(n.flags&64)===64&&OA(t,e,n)}function vE(t,e,n=Dt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function SA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=th(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function th(t,e,n,r,i,o,s,a,c,l,u){let d=Vt+r,f=d+i,h=AA(d,f),v=typeof l=="function"?l():l;return h[Q]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:u}}function AA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:bt);return n}function MA(t,e,n,r){let o=r.get(rA,X_)||n===Bt.ShadowDom,s=t.selectRootElement(e,o);return NA(s),s}function NA(t){RA(t)}var RA=()=>null;function xA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function nh(t,e,n,r,i,o,s,a){let c=Dt(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(ih(t,n,u,r,i),mr(e)&&kA(n,e.index)):e.type&3?(r=xA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function kA(t,e){let n=Ut(e,t);n[P]&16||(n[P]|=64)}function PA(t,e,n){let r=n.directiveStart,i=n.directiveEnd;mr(n)&&LA(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||mc(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],c=vc(e,t,s,n);if(Ni(c,e),o!==null&&UA(e,s-r,c,a,n,o),an(a)){let l=Ut(n.index,e);l[ft]=vc(e,t,s,n)}}}function OA(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=gS();try{fr(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];Jd(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&FA(c,l)}}finally{fr(-1),Jd(s)}}function FA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function yE(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];mA(e,o.selectors,!1)&&(r??=[],an(o)?r.unshift(o):r.push(o))}return r}function _E(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function LA(t,e,n){let r=Dt(e,t),i=SA(n),o=t[sn].rendererFactory,s=rh(t,eh(t,i,null,_E(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function VA(t,e,n,r,i,o){let s=Dt(t,e);jA(e[me],s,o,t.value,n,r,i)}function jA(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?pi(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function UA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];hE(r,n,c,l,u,d)}}function EE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function rh(t,e){return t[Vo]?t[Kv][It]=e:t[Vo]=e,t[Kv]=e,e}function wE(t,e){let n=t[Lo],r=n?n.get(On,null):null;r&&r.handleError(e)}function ih(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];hE(u,l,r,a,c,i)}}function BA(t,e){let n=Ut(e,t),r=n[Q];$A(r,n);let i=n[un];i!==null&&n[ac]===null&&(n[ac]=tE(i,n[Lo])),oh(r,n,n[ft])}function $A(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function oh(t,e,n){Bf(e);try{let r=t.viewQuery;r!==null&&uf(1,r,n);let i=t.template;i!==null&&pE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ei]?.finishViewCreation(t),t.staticContentQueries&&nE(t,e),t.staticViewQueries&&uf(2,t.viewQuery,n);let o=t.components;o!==null&&HA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[P]&=-5,$f()}}function HA(t,e){for(let n=0;n<e.length;n++)BA(t,e[n])}var $t=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}($t||{}),WA;function sh(t,e){return WA(t,e)}function IE(t){return(t.flags&32)===32}function di(t,e,n,r,i){if(r!=null){let o,s=!1;dn(r)?o=r:Pn(r)&&(s=!0,r=r[un]);let a=jt(r);t===0&&n!==null?i==null?uE(e,n,a):wc(e,n,a,i||null,!0):t===1&&n!==null?wc(e,n,a,i||null,!0):t===2?DA(e,a,s):t===3&&e.destroyNode(a),o!=null&&rM(e,t,o,n,i)}}function zA(t,e){CE(t,e),e[un]=null,e[Ct]=null}function GA(t,e,n,r,i,o){r[un]=i,r[Ct]=e,Hc(t,r,n,1,i,o)}function CE(t,e){e[sn].changeDetectionScheduler?.notify(10),Hc(t,e,e[me],2,null,null)}function qA(t){let e=t[Vo];if(!e)return Fd(t[Q],t);for(;e;){let n=null;if(Pn(e))n=e[Vo];else{let r=e[dt];r&&(n=r)}if(!n){for(;e&&!e[It]&&e!==t;)Pn(e)&&Fd(e[Q],e),e=e[je];e===null&&(e=t),Pn(e)&&Fd(e[Q],e),n=e&&e[It]}e=n}}function KA(t,e,n,r){let i=dt+r,o=n.length;r>0&&(n[i-1][It]=e),r<o-dt?(e[It]=n[i],Wy(n,dt+r,e)):(n.push(e),e[It]=null),e[je]=n;let s=e[_i];s!==null&&n!==s&&DE(s,e);let a=e[Ei];a!==null&&a.insertView(t),Zd(e),e[P]|=128}function DE(t,e){let n=t[dc],r=e[je];if(Pn(r))t[P]|=2;else{let i=r[je][Lt];e[Lt]!==i&&(t[P]|=2)}n===null?t[dc]=[e]:n.push(e)}function ah(t,e){let n=t[dc],r=n.indexOf(e);n.splice(r,1)}function df(t,e){if(t.length<=dt)return;let n=dt+e,r=t[n];if(r){let i=r[_i];i!==null&&i!==t&&ah(i,r),e>0&&(t[n-1][It]=r[It]);let o=oc(t,dt+e);zA(r[Q],r);let s=o[Ei];s!==null&&s.detachView(o[Q]),r[je]=null,r[It]=null,r[P]&=-129}return r}function bE(t,e){if(zo(e))return;let n=e[me];n.destroyNode&&Hc(t,e,n,3,null,null),qA(e)}function Fd(t,e){if(zo(e))return;let n=q(null);try{e[P]&=-129,e[P]|=256,e[tt]&&cd(e[tt]),ZA(t,e),YA(t,e),e[Q].type===1&&e[me].destroy();let r=e[_i];if(r!==null&&dn(e[je])){r!==e[je]&&ah(r,e);let i=e[Ei];i!==null&&i.detachView(t)}cf(e)}finally{q(n)}}function YA(t,e){let n=t.cleanup,r=e[cc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[cc]=null);let i=e[kn];if(i!==null){e[kn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[lc];if(o!==null){e[lc]=null;for(let s of o)s.destroy()}}function ZA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof hr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];ut(4,a,c);try{c.call(a)}finally{ut(5,a,c)}}else{ut(4,i,o);try{o.call(i)}finally{ut(5,i,o)}}}}}function QA(t,e,n){return JA(t,e.parent,n)}function JA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[un];if(mr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Bt.None||i===Bt.Emulated)return null}return Dt(r,n)}function XA(t,e,n){return tM(t,e,n)}function eM(t,e,n){return t.type&40?Dt(t,n):null}var tM=eM,fy;function ch(t,e,n,r){let i=QA(t,r,e),o=e[me],s=r.parent||e[Ct],a=XA(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)dy(o,i,n[c],a,!1);else dy(o,i,n,a,!1);fy!==void 0&&fy(o,r,e,n,i)}function ko(t,e){if(e!==null){let n=e.type;if(n&3)return Dt(e,t);if(n&4)return ff(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ko(t,r);{let i=t[e.index];return dn(i)?ff(-1,i):jt(i)}}else{if(n&128)return ko(t,e.next);if(n&32)return sh(e,t)()||jt(t[e.index]);{let r=TE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=dr(t[Lt]);return ko(i,r)}else return ko(t,e.next)}}}return null}function TE(t,e){if(e!==null){let r=t[Lt][Ct],i=e.projection;return r.projection[i]}return null}function ff(t,e){let n=dt+t+1;if(n<e.length){let r=e[n],i=r[Q].firstChild;if(i!==null)return ko(r,i)}return e[ur]}function lh(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Ni(jt(a),r),n.flags|=2),!IE(n))if(c&8)lh(t,e,n.child,r,i,o,!1),di(e,t,i,a,o);else if(c&32){let l=sh(n,r),u;for(;u=l();)di(e,t,i,u,o);di(e,t,i,a,o)}else c&16?nM(t,e,r,n,i,o):di(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Hc(t,e,n,r,i,o){lh(n,r,t.firstChild,e,i,o,!1)}function nM(t,e,n,r,i,o){let s=n[Lt],c=s[Ct].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];di(e,t,i,u,o)}else{let l=c,u=s[je];G_(r)&&(l.flags|=128),lh(t,e,l,u,i,o,!0)}}function rM(t,e,n,r,i){let o=n[ur],s=jt(n);o!==s&&di(e,t,r,o,i);for(let a=dt;a<n.length;a++){let c=n[a];Hc(c[Q],c,t,e,r,o)}}function iM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:$t.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=$t.Important),t.setStyle(n,r,i,o))}}function oM(t,e,n,r){let i=q(null);try{let o=e.tView,a=t[P]&4096?4096:16,c=eh(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[_i]=l;let u=t[Ei];return u!==null&&(c[Ei]=u.createEmbeddedView(o)),oh(o,c,n),c}finally{q(i)}}function hy(t,e){return!e||e.firstChild===null||G_(t)}function sM(t,e,n,r=!0){let i=e[Q];if(KA(i,e,t,n),r){let s=ff(n,t),a=e[me],c=a.parentNode(t[ur]);c!==null&&GA(i,t[Ct],a,e,c,s)}let o=e[ac];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ic(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(jt(o)),dn(o)&&aM(o,r);let s=n.type;if(s&8)Ic(t,e,n.child,r);else if(s&32){let a=sh(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=TE(e,n);if(Array.isArray(a))r.push(...a);else{let c=dr(e[Lt]);Ic(c[Q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function aM(t,e){for(let n=dt;n<t.length;n++){let r=t[n],i=r[Q].firstChild;i!==null&&Ic(r[Q],r,i,e)}t[ur]!==t[un]&&e.push(t[ur])}var SE=[];function cM(t){return t[tt]??lM(t)}function lM(t){let e=SE.pop()??Object.create(dM);return e.lView=t,e}function uM(t){t.lView[tt]!==t&&(t.lView=null,SE.push(t))}var dM=$(w({},Ao),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Oc(t.lView)},consumerOnSignalRead(){this.lView[tt]=this}});function fM(t){let e=t[tt]??Object.create(hM);return e.lView=t,e}var hM=$(w({},Ao),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=dr(t.lView);for(;e&&!AE(e[Q]);)e=dr(e);e&&jf(e)},consumerOnSignalRead(){this.lView[tt]=this}});function AE(t){return t.type!==2}function ME(t){if(t[lc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[lc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[P]&8192)}}var pM=100;function NE(t,e=!0,n=0){let i=t[sn].rendererFactory,o=!1;o||i.begin?.();try{gM(t,n)}catch(s){throw e&&wE(t,s),s}finally{o||i.end?.()}}function gM(t,e){let n=m_();try{Zv(!0),hf(t,e);let r=0;for(;Pc(t);){if(r===pM)throw new C(103,!1);r++,hf(t,1)}}finally{Zv(n)}}function mM(t,e,n,r){if(zo(e))return;let i=e[P],o=!1,s=!1;Bf(e);let a=!0,c=null,l=null;o||(AE(t)?(l=cM(e),c=_a(l)):ov()===null?(a=!1,l=fM(e),c=_a(l)):e[tt]&&(cd(e[tt]),e[tt]=null));try{f_(e),fS(t.bindingStartIndex),n!==null&&pE(t,e,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=t.preOrderCheckHooks;h!==null&&Xa(e,h,null)}else{let h=t.preOrderHooks;h!==null&&ec(e,h,0,null),kd(e,0)}if(s||vM(e),ME(e),RE(e,0),t.contentQueries!==null&&nE(t,e),!o)if(u){let h=t.contentCheckHooks;h!==null&&Xa(e,h)}else{let h=t.contentHooks;h!==null&&ec(e,h,1),kd(e,1)}_M(t,e);let d=t.components;d!==null&&kE(e,d,0);let f=t.viewQuery;if(f!==null&&uf(2,f,r),!o)if(u){let h=t.viewCheckHooks;h!==null&&Xa(e,h)}else{let h=t.viewHooks;h!==null&&ec(e,h,2),kd(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[xd]){for(let h of e[xd])h();e[xd]=null}o||(e[P]&=-73)}catch(u){throw o||Oc(e),u}finally{l!==null&&(sd(l,c),a&&uM(l)),$f()}}function RE(t,e){for(let n=Y_(t);n!==null;n=Z_(n))for(let r=dt;r<n.length;r++){let i=n[r];xE(i,e)}}function vM(t){for(let e=Y_(t);e!==null;e=Z_(e)){if(!(e[P]&2))continue;let n=e[dc];for(let r=0;r<n.length;r++){let i=n[r];jf(i)}}}function yM(t,e,n){let r=Ut(e,t);xE(r,n)}function xE(t,e){Vf(t)&&hf(t,e)}function hf(t,e){let r=t[Q],i=t[P],o=t[tt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ad(o)),s||=!1,o&&(o.dirty=!1),t[P]&=-9217,s)mM(r,t,r.template,t[ft]);else if(i&8192){ME(t),RE(t,1);let a=r.components;a!==null&&kE(t,a,1)}}function kE(t,e,n){for(let r=0;r<e.length;r++)yM(t,e[r],n)}function _M(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)fr(~i);else{let o=i,s=n[++r],a=n[++r];pS(s,o);let c=e[o];ut(24,c),a(2,c),ut(25,c)}}}finally{fr(-1)}}function uh(t,e){let n=m_()?64:1088;for(t[sn].changeDetectionScheduler?.notify(e);t;){t[P]|=n;let r=dr(t);if(fc(t)&&!r)return t;t=r}return null}var pr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[Q];return Ic(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[ft]}get dirty(){return!!(this._lView[P]&9280)||!!this._lView[tt]?.dirty}set context(e){this._lView[ft]=e}get destroyed(){return zo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[je];if(dn(e)){let n=e[uc],r=n?n.indexOf(this):-1;r>-1&&(df(e,r),oc(n,r))}this._attachedToViewContainer=!1}bE(this._lView[Q],this._lView)}onDestroy(e){h_(this._lView,e)}markForCheck(){uh(this._cdRefInjectingView||this._lView,4)}markForRefresh(){jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[P]&=-129}reattach(){Zd(this._lView),this._lView[P]|=128}detectChanges(){this._lView[P]|=1024,NE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fc(this._lView),n=this._lView[_i];n!==null&&!e&&ah(n,this._lView),CE(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e;let n=fc(this._lView),r=this._lView[_i];r!==null&&!n&&DE(r,this._lView),Zd(this._lView)}},Wc=(()=>{class t{static __NG_ELEMENT_ID__=IM}return t})(),EM=Wc,wM=class extends EM{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=oM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new pr(i)}};function IM(){return PE(nt(),ne())}function PE(t,e){return t.type&4?new wM(e,t,Uc(t,e)):null}function dh(t,e,n,r,i){let o=t.data[e];if(o===null)o=CM(t,e,n,r,i),hS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=cS();o.injectorIndex=s===null?-1:s.injectorIndex}return Ko(o,!0),o}function CM(t,e,n,r,i){let o=p_(),s=g_(),a=s?o:o&&o.parent,c=t.data[e]=bM(t,a,n,e,r,i);return DM(t,c,o,s),c}function DM(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function bM(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return oS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var eG=new RegExp(`^(\\d+)*(${nA}|${tA})*(.*)`);var TM=()=>null;function py(t,e){return TM(t,e)}var pf=class{},Cc=class{},gf=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ve(e)}.`)}},Ii=class{static NULL=new gf},Ci=class{},pn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>SM()}return t})();function SM(){let t=ne(),e=nt(),n=Ut(e.index,t);return(Pn(n)?n:t)[me]}var AM=(()=>{class t{static \u0275prov=T({token:t,providedIn:"root",factory:()=>null})}return t})();function gy(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=$v(i,a);else if(o==2){let c=a,l=e[++s];r=$v(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function O(t,e=U.Default){let n=ne();if(n===null)return x(t,e);let r=nt();return O_(r,n,Le(t),e)}function OE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function FE(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let[a,c]=NM(t,n,s);xM(t,e,n,a,o,c)}o!==null&&r!==null&&MM(n,r,o)}function MM(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new C(-301,!1);r.push(e[i],o)}}function NM(t,e,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),an(o)&&(r.push(o),RM(t,e,r.length-1));return mr(e)?r.push(...n.slice(1)):r.push(...n),[r,i]}function RM(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function xM(t,e,n,r,i,o){for(let l=0;l<r.length;l++)tf(mc(n,e),t,r[l].type);jM(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=OE(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=jo(n.mergedAttrs,u.hostAttrs),OM(t,n,e,c,u),VM(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}kM(t,n,o)}function kM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,v=f?f.outputs:null;c=my(0,d.inputs,u,c,h),l=my(1,d.outputs,u,l,v);let E=c!==null&&s!==null&&!Xf(e)?PM(c,u,s):null;a.push(E)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function my(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=Fn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?vy(r,n,l,a,c):vy(r,n,l,a)}return r}function vy(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function PM(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function OM(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=gi(i.type,!0)),s=new hr(o,an(i),O);t.blueprint[r]=s,n[r]=s,FM(t,e,r,OE(t,n,i.hostVars,bt),i)}function FM(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;LM(s)!=a&&s.push(a),s.push(n,r,o)}}function LM(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function VM(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;an(e)&&(n[""]=t)}}function jM(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function LE(t,e,n,r,i,o,s,a){let c=e.consts,l=hc(c,s),u=dh(e,t,2,r,l);return o&&FE(e,n,u,hc(c,a),i),u.mergedAttrs=jo(u.mergedAttrs,u.attrs),u.attrs!==null&&gy(u,u.attrs,!1),u.mergedAttrs!==null&&gy(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function VE(t,e){T_(t,e),o_(e)&&t.queries.elementEnd(e)}var Dc=class extends Ii{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=lr(e);return new Uo(n,this.ngModule)}};function yy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Fn.None;e?n.push({propName:s,templateName:r,isSignal:(a&Fn.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function UM(t,e,n){let r=e instanceof Me?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Xd(n,r):n}function BM(t){let e=t.get(Ci,null);if(e===null)throw new C(407,!1);let n=t.get(AM,null),r=t.get(wi,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function $M(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return lE(e,n,n==="svg"?K0:n==="math"?Y0:null)}var Uo=class extends Cc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=yy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return yy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=EA(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){let o=q(null);try{let s=this.componentDef,a=r?["ng-version","19.1.6"]:wA(this.componentDef.selectors[0]),c=th(0,null,null,1,0,null,null,null,null,[a],null),l=UM(s,i||this.ngModule,e),u=BM(l),d=u.rendererFactory.createRenderer(null,s),f=r?MA(d,r,s.encapsulation,l):$M(s,d),h=eh(null,c,null,512|_E(s),null,null,u,d,l,null,tE(f,l,!0));h[Vt]=f,Bf(h);let v=null;try{let E=LE(Vt,c,h,"#host",()=>[this.componentDef],!0,0);f&&(dE(d,f,E),Ni(f,h)),mE(c,h,E),rE(c,E,h),VE(c,E),n!==void 0&&HM(E,this.ngContentSelectors,n),v=Ut(E.index,h),h[ft]=v[ft],oh(c,h,null)}catch(E){throw v!==null&&cf(v),cf(h),E}finally{$f()}return new mf(this.componentType,h)}finally{q(o)}}},mf=class extends pf{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=d_(n[Q],Vt),this.location=Uc(this._tNode,n),this.instance=Ut(this._tNode.index,n)[ft],this.hostView=this.changeDetectorRef=new pr(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;ih(o[Q],o,i,e,n),this.previousInputValues.set(e,n);let s=Ut(this._tNode.index,o);uh(s,1)}}get injector(){return new cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function HM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ri=(()=>{class t{static __NG_ELEMENT_ID__=WM}return t})();function WM(){let t=nt();return GM(t,ne())}var zM=Ri,jE=class extends zM{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Uc(this._hostTNode,this._hostLView)}get injector(){return new cr(this._hostTNode,this._hostLView)}get parentInjector(){let e=zf(this._hostTNode,this._hostLView);if(M_(e)){let n=gc(e,this._hostLView),r=pc(e),i=n[Q].data[r+8];return new cr(i,n)}else return new cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_y(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-dt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=py(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,hy(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!W0(e),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let c=s?e:new Uo(lr(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let E=(s?l:this.parentInjector).get(Me,null);E&&(o=E)}let u=lr(c.componentType??{}),d=py(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,hy(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Q0(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[je],l=new jE(c,c[Ct],c[je]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return sM(s,i,o,r),e.attachToViewContainerRef(),Wy(Ld(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_y(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=df(this._lContainer,n);r&&(oc(Ld(this._lContainer),n),bE(r[Q],r))}detach(e){let n=this._adjustIndex(e,-1),r=df(this._lContainer,n);return r&&oc(Ld(this._lContainer),n)!=null?new pr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _y(t){return t[uc]}function Ld(t){return t[uc]||(t[uc]=[])}function GM(t,e){let n,r=e[t.index];return dn(r)?n=r:(n=EE(r,e,null,t),e[t.index]=n,rh(e,n)),KM(n,e,t,r),new jE(n,t,e)}function qM(t,e){let n=t[me],r=n.createComment(""),i=Dt(e,t),o=n.parentNode(i);return wc(n,o,r,n.nextSibling(i),!1),r}var KM=QM,YM=()=>!1;function ZM(t,e,n){return YM(t,e,n)}function QM(t,e,n,r){if(t[ur])return;let i;n.type&8?i=jt(r):i=qM(e,n),t[ur]=i}var Ln=class{},Bo=class{};var vf=class extends Ln{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Dc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=qy(e);this._bootstrapComponents=aE(o.bootstrap),this._r3Injector=V_(e,n,[{provide:Ln,useValue:this},{provide:Ii,useValue:this.componentFactoryResolver},...r],Ve(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},yf=class extends Bo{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new vf(this.moduleType,e,[])}};var bc=class extends Ln{injector;componentFactoryResolver=new Dc(this);instance=null;constructor(e){super();let n=new Fo([...e.providers,{provide:Ln,useValue:this},{provide:Ii,useValue:this.componentFactoryResolver}],e.parent||Ff(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fh(t,e,n=null){return new bc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var JM=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Qy(!1,n.type),i=r.length>0?fh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:t,providedIn:"environment",factory:()=>new t(x(Me))})}return t})();function A(t){return Ho(()=>{let e=UE(t),n=$(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===q_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(JM).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Bt.Emulated,styles:t.styles||lt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ai("NgStandalone"),BE(n);let r=t.dependencies;return n.directiveDefs=wy(r,!1),n.pipeDefs=wy(r,!0),n.id=tN(n),n})}function XM(t){return lr(t)||Ky(t)}function eN(t){return t!==null}function Un(t){return Ho(()=>({type:t.type,bootstrap:t.bootstrap||lt,declarations:t.declarations||lt,imports:t.imports||lt,exports:t.exports||lt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ey(t,e){if(t==null)return mi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Fn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Fn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Te(t){return Ho(()=>{let e=UE(t);return BE(e),e})}function UE(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||mi,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||lt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ey(t.inputs,e),outputs:Ey(t.outputs),debugInfo:null}}function BE(t){t.features?.forEach(e=>e(t))}function wy(t,e){if(!t)return null;let n=e?Yy:XM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(eN)}function tN(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function nN(t){return Object.getPrototypeOf(t.prototype).constructor}function Bn(t){let e=nN(t.type),n=!0,r=[t];for(;e;){let i;if(an(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new C(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Za(t.inputs),s.inputTransforms=Za(t.inputTransforms),s.declaredInputs=Za(t.declaredInputs),s.outputs=Za(t.outputs);let a=i.hostBindings;a&&aN(t,a);let c=i.viewQuery,l=i.contentQueries;if(c&&oN(t,c),l&&sN(t,l),rN(t,i),d0(t.outputs,i.outputs),an(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Bn&&(n=!1)}}e=Object.getPrototypeOf(e)}iN(r)}function rN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function iN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jo(i.hostAttrs,n=jo(n,i.hostAttrs))}}function Za(t){return t===mi?{}:t===lt?[]:t}function oN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function sN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function aN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function hh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}function $E(t){return ph(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function cN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ph(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function HE(t,e,n){return t[e]=n}function lN(t,e){return t[e]}function Vn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function uN(t,e,n,r){let i=Vn(t,e,n);return Vn(t,e+1,r)||i}function dN(t,e,n,r,i,o,s,a,c){let l=e.consts,u=dh(e,t,4,s||null,a||null);Uf()&&FE(e,n,u,hc(l,c),yE),u.mergedAttrs=jo(u.mergedAttrs,u.attrs),T_(e,u);let d=u.tView=th(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function fN(t,e,n,r,i,o,s,a,c,l){let u=n+Vt,d=e.firstCreatePass?dN(u,e,t,r,i,o,s,a,c):e.data[u];Ko(d,!1);let f=hN(e,t,d,n);Hf()&&ch(e,t,f,d),Ni(f,t);let h=EE(f,t,f,d);return t[u]=h,rh(t,h),ZM(h,d,t),Lf(d)&&gE(e,t,d),c!=null&&vE(t,d,l),d}function Ee(t,e,n,r,i,o,s,a){let c=ne(),l=Ge(),u=hc(l.consts,o);return fN(c,l,t,e,n,r,i,u,s,a),Ee}var hN=pN;function pN(t,e,n,r){return Wf(!0),e[me].createComment("")}var gh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var WE=new b("");function yr(t){return!!t&&typeof t.then=="function"}function zE(t){return!!t&&typeof t.subscribe=="function"}var GE=new b("");var qE=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=_(GE,{optional:!0})??[];injector=_(_e);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=be(this.injector,i);if(yr(o))n.push(o);else if(zE(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),gN=(()=>{class t{static \u0275prov=T({token:t,providedIn:"root",factory:()=>new _f})}return t})(),_f=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},zc=new b("");function mN(){gv(()=>{throw new C(600,!1)})}function vN(t){return t.isBoundToModule}var yN=10;var cn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(zS);afterRenderManager=_(iA);zonelessEnabled=_(Vc);rootEffectScheduler=_(gN);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new he;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=_(fn).hasPendingTasks.pipe(L(n=>!n));constructor(){_(Bc,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=_(Me);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Cc;if(!this._injector.get(qE).done){let f=!i&&Zy(n),h=!1;throw new C(405,h)}let s;i?s=n:s=this._injector.get(Ii).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=vN(s)?void 0:this._injector.get(Ln),c=r||s.selector,l=s.create(_e.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(WE,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),tc(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(eE.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new C(101,!1);let n=q(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,q(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Ci,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<yN;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)_N(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Pc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;tc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(zc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>tc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new C(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function tc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function _N(t,e,n,r){if(!n&&!Pc(t))return;NE(t,e,n&&!r?0:1)}function Gc(t,e,n,r){let i=ne(),o=Fc();if(Vn(i,o,e)){let s=Ge(),a=Lc();VA(a,i,t,e,n,r)}return Gc}function KE(t,e,n,r){return Vn(t,Fc(),n)?e+pi(n)+r:bt}function EN(t,e,n,r,i,o){let s=dS(),a=uN(t,s,n,i);return y_(2),a?e+pi(n)+r+pi(i)+o:bt}function Qa(t,e){return t<<17|e<<2}function gr(t){return t>>17&32767}function wN(t){return(t&2)==2}function IN(t,e){return t&131071|e<<17}function Ef(t){return t|2}function Di(t){return(t&131068)>>2}function Vd(t,e){return t&-131069|e<<2}function CN(t){return(t&1)===1}function wf(t){return t|1}function DN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=gr(s),c=Di(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Wo(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=gr(t[a+1]);t[r+1]=Qa(f,a),f!==0&&(t[f+1]=Vd(t[f+1],r)),t[a+1]=IN(t[a+1],r)}else t[r+1]=Qa(a,0),a!==0&&(t[a+1]=Vd(t[a+1],r)),a=r;else t[r+1]=Qa(c,0),a===0?a=r:t[c+1]=Vd(t[c+1],r),c=r;l&&(t[r+1]=Ef(t[r+1])),Iy(t,u,r,!0),Iy(t,u,r,!1),bN(e,u,t,r,o),s=Qa(a,c),o?e.classBindings=s:e.styleBindings=s}function bN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Wo(o,e)>=0&&(n[r+1]=wf(n[r+1]))}function Iy(t,e,n,r){let i=t[n+1],o=e===null,s=r?gr(i):Di(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];TN(c,e)&&(a=!0,t[s+1]=r?wf(l):Ef(l)),s=r?gr(l):Di(l)}a&&(t[n+1]=r?Ef(i):wf(i))}function TN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wo(t,e)>=0:!1}function J(t,e,n){let r=ne(),i=Fc();if(Vn(r,i,e)){let o=Ge(),s=Lc();nh(o,s,r,t,e,r[me],n,!1)}return J}function Cy(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";ih(t,n,o[s],s,r)}function qc(t,e){return SN(t,e,null,!0),qc}function SN(t,e,n,r){let i=ne(),o=Ge(),s=y_(2);if(o.firstUpdatePass&&MN(o,t,s,r),e!==bt&&Vn(i,s,e)){let a=o.data[vr()];PN(o,a,i,i[me],t,i[s+1]=ON(e,n),r,s)}}function AN(t,e){return e>=t.expandoStartIndex}function MN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[vr()],s=AN(t,n);FN(o,r)&&e===null&&!s&&(e=!1),e=NN(i,o,e,r),DN(i,o,e,n,s,r)}}function NN(t,e,n,r){let i=mS(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=jd(null,t,e,n,r),n=$o(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=jd(i,t,e,n,r),o===null){let c=RN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=jd(null,t,e,c[1],r),c=$o(c,e.attrs,r),xN(t,e,r,c))}else o=kN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function RN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Di(r)!==0)return t[gr(r)]}function xN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[gr(i)]=r}function kN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=$o(r,s,n)}return $o(r,e.attrs,n)}function jd(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=$o(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function $o(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),R0(t,s,n?!0:e[++o]))}return t===void 0?null:t}function PN(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=CN(l)?Dy(c,e,n,i,Di(l),s):void 0;if(!Tc(u)){Tc(o)||wN(l)&&(o=Dy(c,null,n,i,a,s));let d=u_(vr(),n);iM(r,s,d,i,o)}}function Dy(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===bt&&(f=d?lt:void 0);let h=d?Nd(f,r):u===r?f:void 0;if(l&&!Tc(h)&&(h=Nd(c,r)),Tc(h)&&(a=h,s))return a;let v=t[i+1];i=s?gr(v):Di(v)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Nd(c,r))}return a}function Tc(t){return t!==void 0}function ON(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ve(Qo(t)))),t}function FN(t,e){return(t.flags&(e?8:16))!==0}function g(t,e,n,r){let i=ne(),o=Ge(),s=Vt+t,a=i[me],c=o.firstCreatePass?LE(s,o,i,e,yE,Uf(),n,r):o.data[s],l=LN(o,i,c,a,e,t);i[s]=l;let u=Lf(c);return Ko(c,!0),dE(a,l,c),!IE(c)&&Hf()&&ch(o,i,l,c),nS()===0&&Ni(l,i),rS(),u&&(gE(o,i,c),rE(o,c,i)),r!==null&&vE(i,c),g}function m(){let t=nt();g_()?lS():(t=t.parent,Ko(t,!1));let e=t;sS(e)&&aS(),iS();let n=Ge();return n.firstCreatePass&&VE(n,e),e.classesWithoutHost!=null&&CS(e)&&Cy(n,e,ne(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&DS(e)&&Cy(n,e,ne(),e.stylesWithoutHost,!1),m}function M(t,e,n,r){return g(t,e,n,r),m(),M}var LN=(t,e,n,r,i,o)=>(Wf(!0),lE(r,i,_S()));function Kc(){return ne()}var Sc="en-US";var VN=Sc;function jN(t){typeof t=="string"&&(VN=t.toLowerCase().replace(/_/g,"-"))}var UN=(t,e,n)=>{};function le(t,e,n,r){let i=ne(),o=Ge(),s=nt();return YE(o,i,i[me],s,t,e,r),le}function BN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[cc],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function YE(t,e,n,r,i,o,s){let a=Lf(r),l=t.firstCreatePass&&tS(t),u=e[ft],d=eS(e),f=!0;if(r.type&3||s){let E=Dt(r,e),D=s?s(E):E,F=d.length,Ae=s?Fe=>s(jt(Fe[r.index])):r.index,G=null;if(!s&&a&&(G=BN(t,e,i,r.index)),G!==null){let Fe=G.__ngLastListenerFn__||G;Fe.__ngNextListenerFn__=o,G.__ngLastListenerFn__=o,f=!1}else{o=Ty(r,e,u,o),UN(E,i,o);let Fe=n.listen(D,i,o);d.push(o,Fe),l&&l.push(i,Ae,F,F+1)}}else o=Ty(r,e,u,o);let h=r.outputs,v;if(f&&h!==null&&(v=h[i])){let E=v.length;if(E)for(let D=0;D<E;D+=2){let F=v[D],Ae=v[D+1],Yr=e[F][Ae].subscribe(o),bn=d.length;d.push(o,Yr),l&&l.push(i,r.index,bn,-(bn+1))}}}function by(t,e,n,r){let i=q(null);try{return ut(6,e,n),n(r)!==!1}catch(o){return wE(t,o),!1}finally{ut(7,e,n),q(i)}}function Ty(t,e,n,r){return function i(o){if(o===Function)return r;let s=mr(t)?Ut(t.index,e):e;uh(s,5);let a=by(e,n,r,o),c=i.__ngNextListenerFn__;for(;c;)a=by(e,n,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function Tt(t=1){return yS(t)}function _r(t,e,n){return ZE(t,"",e,"",n),_r}function ZE(t,e,n,r,i){let o=ne(),s=KE(o,e,n,r);if(s!==bt){let a=Ge(),c=Lc();nh(a,c,o,t,s,o[me],i,!1)}return ZE}function xi(t){let e=uS();return Z0(e,Vt+t)}function y(t,e=""){let n=ne(),r=Ge(),i=t+Vt,o=r.firstCreatePass?dh(r,i,1,e,null):r.data[i],s=$N(r,n,o,e,t);n[i]=s,Hf()&&ch(r,n,s,o),Ko(o,!1)}var $N=(t,e,n,r,i)=>(Wf(!0),IA(e[me],r));function Ne(t){return Re("",t,""),Ne}function Re(t,e,n){let r=ne(),i=KE(r,t,e,n);return i!==bt&&QE(r,vr(),i),Re}function Yc(t,e,n,r,i){let o=ne(),s=EN(o,t,e,n,r,i);return s!==bt&&QE(o,vr(),s),Yc}function QE(t,e,n){let r=u_(e,t);CA(t[me],r,n)}function Be(t,e,n){z_(e)&&(e=e());let r=ne(),i=Fc();if(Vn(r,i,e)){let o=Ge(),s=Lc();nh(o,s,r,t,e,r[me],n,!1)}return Be}function qe(t,e){let n=z_(t);return n&&t.set(e),n}function $e(t,e){let n=ne(),r=Ge(),i=nt();return YE(r,n,n[me],i,t,e),$e}function HN(t,e,n){let r=Ge();if(r.firstCreatePass){let i=an(t);If(n,r.data,r.blueprint,i,!0),If(e,r.data,r.blueprint,i,!1)}}function If(t,e,n,r,i){if(t=Le(t),Array.isArray(t))for(let o=0;o<t.length;o++)If(t[o],e,n,r,i);else{let o=Ge(),s=ne(),a=nt(),c=yi(t)?t:Le(t.provide),l=e_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(yi(t)||!t.multi){let h=new hr(l,i,O),v=Bd(c,e,i?u:u+f,d);v===-1?(tf(mc(a,s),o,c),Ud(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[v]=h,s[v]=h)}else{let h=Bd(c,e,u+f,d),v=Bd(c,e,u,u+f),E=h>=0&&n[h],D=v>=0&&n[v];if(i&&!D||!i&&!E){tf(mc(a,s),o,c);let F=GN(i?zN:WN,n.length,i,r,l);!i&&D&&(n[v].providerFactory=F),Ud(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=JE(n[i?v:h],l,!i&&r);Ud(o,t,h>-1?h:v,F)}!i&&r&&D&&n[v].componentProviders++}}}function Ud(t,e,n,r){let i=yi(e),o=L0(e);if(i||o){let c=(o?Le(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function JE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Bd(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function WN(t,e,n,r){return Cf(this.multi,[])}function zN(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=vc(n,n[Q],this.providerFactory.index,r);o=a.slice(0,s),Cf(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Cf(i,o);return o}function Cf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function GN(t,e,n,r,i){let o=new hr(t,n,O);return o.multi=[],o.index=e,o.componentProviders=0,JE(o,i,r&&!n),o}function Zc(t,e=[]){return n=>{n.providersResolver=(r,i)=>HN(r,i?i(t):t,e)}}function mh(t,e,n){let r=v_()+t,i=ne();return i[r]===bt?HE(i,r,n?e.call(n):e()):lN(i,r)}function Qc(t,e,n,r){return KN(ne(),v_(),t,e,n,r)}function qN(t,e){let n=t[e];return n===bt?void 0:n}function KN(t,e,n,r,i,o){let s=e+n;return Vn(t,s,i)?HE(t,s+1,o?r.call(o,i):r(i)):qN(t,s+1)}function ki(t,e){return PE(t,e)}var ln=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},XE=new ln("19.1.6"),Df=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},vh=(()=>{class t{compileModuleSync(n){return new yf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=qy(n),o=aE(i.declarations).reduce((s,a)=>{let c=lr(a);return c&&s.push(new Uo(c)),s},[]);return new Df(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var YN=(()=>{class t{zone=_(te);changeDetectionScheduler=_(wi);applicationRef=_(cn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ZN=new b("",{factory:()=>!1});function ew({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new te($(w({},nw()),{scheduleInRootZone:n})),[{provide:te,useFactory:t},{provide:vi,multi:!0,useFactory:()=>{let r=_(YN,{optional:!0});return()=>r.initialize()}},{provide:vi,multi:!0,useFactory:()=>{let r=_(QN);return()=>{r.initialize()}}},e===!0?{provide:U_,useValue:!0}:[],{provide:B_,useValue:n??j_}]}function tw(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ew({ngZoneFactory:()=>{let i=nw(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ai("NgZone_CoalesceEvent"),new te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return ht([{provide:ZN,useValue:!0},{provide:Vc,useValue:!1},r])}function nw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var QN=(()=>{class t{subscription=new de;initialized=!1;zone=_(te);pendingTasks=_(fn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{te.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{te.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var JN=(()=>{class t{appRef=_(cn);taskService=_(fn);ngZone=_(te);zonelessEnabled=_(Vc);tracing=_(Bc,{optional:!0});disableScheduling=_(U_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new de;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(_c):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(B_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof af||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?ry:$_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(_c+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ry(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XN(){return typeof $localize<"u"&&$localize.locale||Sc}var yh=new b("",{providedIn:"root",factory:()=>_(yh,U.Optional|U.SkipSelf)||XN()});var bf=new b(""),eR=new b("");function Ro(t){return!t.moduleRef}function tR(t){let e=Ro(t)?t.r3Injector:t.moduleRef.injector,n=e.get(te);return n.run(()=>{Ro(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(On,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ro(t)){let o=()=>e.destroy(),s=t.platformInjector.get(bf);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(bf);s.add(o),t.moduleRef.onDestroy(()=>{tc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return rR(r,n,()=>{let o=e.get(qE);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(yh,Sc);if(jN(s||Sc),!e.get(eR,!0))return Ro(t)?e.get(cn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ro(t)){let c=e.get(cn);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return nR(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function nR(t,e){let n=t.injector.get(cn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new C(-403,!1);e.push(t)}function rR(t,e,n){try{let r=n();return yr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var nc=null;function iR(t=[],e){return _e.create({name:e,providers:[{provide:xc,useValue:"platform"},{provide:bf,useValue:new Set([()=>nc=null])},...t]})}function oR(t=[]){if(nc)return nc;let e=iR(t);return nc=e,mN(),sR(e),e}function sR(t){let e=t.get(Zf,null);be(t,()=>{e?.forEach(n=>n())})}function _h(){return!1}var Er=(()=>{class t{static __NG_ELEMENT_ID__=aR}return t})();function aR(t){return cR(nt(),ne(),(t&16)===16)}function cR(t,e,n){if(mr(t)&&!n){let r=Ut(t.index,e);return new pr(r,r)}else if(t.type&175){let r=e[Lt];return new pr(r,e)}return null}var Tf=class{constructor(){}supports(e){return $E(e)}create(e){return new Sf(e)}},lR=(t,e)=>e,Sf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||lR}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Sy(r,i,o)?n:r,a=Sy(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,v=h+f;u<=v&&v<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!$E(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,cN(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Af(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ac),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ac),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Af=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Mf=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ac=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Mf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Sy(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Nf=class{constructor(){}supports(e){return e instanceof Map||ph(e)}create(){return new Rf}},Rf=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ph(e)))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new xf(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},xf=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function Ay(){return new Eh([new Tf])}var Eh=(()=>{class t{factories;static \u0275prov=T({token:t,providedIn:"root",factory:Ay});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ay()),deps:[[t,new Hy,new Ue]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new C(901,!1)}}return t})();function My(){return new wh([new Nf])}var wh=(()=>{class t{static \u0275prov=T({token:t,providedIn:"root",factory:My});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||My()),deps:[[t,new Hy,new Ue]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new C(901,!1)}}return t})();function rw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=oR(r),o=[ew({}),{provide:wi,useExisting:JN},...n||[]],s=new bc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return tR({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function wr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Pi(t,e){Ai("NgSignals");let n=fv(t);return e?.equal&&(n[Qe].equal=e.equal),n}function Wt(t){let e=q(null);try{return t()}finally{q(e)}}var Ny=class{[Qe];constructor(e){this[Qe]=e}destroy(){this[Qe].destroy()}};var lw=null;function gn(){return lw}function uw(t){lw??=t}var Jc=class{};var Ke=new b(""),dw=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>_(uR),providedIn:"platform"})}return t})();var uR=(()=>{class t extends dw{_location;_history;_doc=_(Ke);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gn().getBaseHref(this._doc)}onPopState(n){let r=gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function fw(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function iw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ir(t){return t&&t[0]!=="?"?"?"+t:t}var Fi=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>_(hw),providedIn:"root"})}return t})(),dR=new b(""),hw=(()=>{class t extends Fi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(Ke).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return fw(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ir(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ir(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(x(dw),x(dR,8))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xo=(()=>{class t{_subject=new he;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=pR(iw(ow(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ir(r))}normalize(n){return t.stripTrailingSlash(hR(this._basePath,ow(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ir(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ir;static joinWithSlash=fw;static stripTrailingSlash=iw;static \u0275fac=function(r){return new(r||t)(x(Fi))};static \u0275prov=T({token:t,factory:()=>fR(),providedIn:"root"})}return t})();function fR(){return new Xo(x(Fi))}function hR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function ow(t){return t.replace(/\/index.html$/,"")}function pR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Xc(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ih=/\s+/,sw=[],Li=(()=>{class t{_ngEl;_renderer;initialClasses=sw;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Ih):sw}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Ih):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Ih).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(O(Ht),O(pn))};static \u0275dir=Te({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Ch=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},zt=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ch(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),aw(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);aw(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(O(Ri),O(Wc),O(Eh))};static \u0275dir=Te({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function aw(t,e){t.context.$implicit=e.item}var pt=(()=>{class t{_viewContainer;_context=new Dh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){cw("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){cw("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(O(Ri),O(Wc))};static \u0275dir=Te({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Dh=class{$implicit=null;ngIf=null};function cw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ve(e)}'.`)}var el=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:$t.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(O(Ht),O(wh),O(pn))};static \u0275dir=Te({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();var bh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Un({type:t});static \u0275inj=jn({})}return t})(),pw="browser",gR="server";function Th(t){return t===gR}var Oi=class{};var ts=class{},nl=class{},Cr=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ah=class{encodeKey(e){return mw(e)}encodeValue(e){return mw(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function mR(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=n.get(s)||[];c.push(a),n.set(s,c)}),n}var vR=/%(\d[a-f0-9])/gi,yR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mw(t){return encodeURIComponent(t).replace(vR,(e,n)=>yR[n]??e)}function tl(t){return`${t}`}var $n=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ah,e.fromString){if(e.fromObject)throw new C(2805,!1);this.map=mR(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(tl):[tl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(tl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(tl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Mh=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function _R(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vw(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function yw(t){return typeof Blob<"u"&&t instanceof Blob}function _w(t){return typeof FormData<"u"&&t instanceof FormData}function ER(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ew="Content-Type",ww="Accept",Dw="X-Request-URL",bw="text/plain",Tw="application/json",wR=`${Tw}, ${bw}, */*`,es=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(_R(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Cr,this.context??=new Mh,!this.params)this.params=new $n,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vw(this.body)||yw(this.body)||_w(this.body)||ER(this.body)?this.body:this.body instanceof $n?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_w(this.body)?null:yw(this.body)?this.body.type||null:vw(this.body)?null:typeof this.body=="string"?bw:this.body instanceof $n?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Tw:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),u)),new t(n,r,s,{params:u,headers:l,context:d,reportProgress:c,responseType:i,withCredentials:a,transferCache:o})}},Vi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Vi||{}),ns=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Cr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Nh=class t extends ns{constructor(e={}){super(e)}type=Vi.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},rl=class t extends ns{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Vi.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},il=class extends ns{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},IR=200,CR=204;function Sh(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var DR=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof es)o=n;else{let c;i.headers instanceof Cr?c=i.headers:c=new Cr(i.headers);let l;i.params&&(i.params instanceof $n?l=i.params:l=new $n({fromObject:i.params})),o=new es(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=R(o).pipe(Nn(c=>this.handler.handle(c)));if(n instanceof es||i.observe==="events")return s;let a=s.pipe(Xe(c=>c instanceof rl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new C(2806,!1);return c.body}));case"blob":return a.pipe(L(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new C(2807,!1);return c.body}));case"text":return a.pipe(L(c=>{if(c.body!==null&&typeof c.body!="string")throw new C(2808,!1);return c.body}));case"json":default:return a.pipe(L(c=>c.body))}case"response":return a;default:throw new C(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new $n().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Sh(i,r))}post(n,r,i={}){return this.request("POST",n,Sh(i,r))}put(n,r,i={}){return this.request("PUT",n,Sh(i,r))}static \u0275fac=function(r){return new(r||t)(x(ts))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})();var bR=new b("");function TR(t,e){return e(t)}function SR(t,e,n){return(r,i)=>be(n,()=>e(r,o=>t(o,i)))}var Sw=new b(""),AR=new b(""),MR=new b("",{providedIn:"root",factory:()=>!0});var Iw=(()=>{class t extends ts{backend;injector;chain=null;pendingTasks=_(fn);contributeToStability=_(MR);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Sw),...this.injector.get(AR,[])]));this.chain=r.reduceRight((i,o)=>SR(i,o,this.injector),TR)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ar(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(x(nl),x(Me))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})();var NR=/^\)\]\}',?\n/,RR=RegExp(`^${Dw}:`,"m");function xR(t){return"responseURL"in t&&t.responseURL?t.responseURL:RR.test(t.getAllResponseHeaders())?t.getResponseHeader(Dw):null}var Cw=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new C(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ce(r.\u0275loadImpl()):R(null)).pipe(et(()=>new j(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((E,D)=>s.setRequestHeader(E,D.join(","))),n.headers.has(ww)||s.setRequestHeader(ww,wR),!n.headers.has(Ew)){let E=n.detectContentTypeHeader();E!==null&&s.setRequestHeader(Ew,E)}if(n.responseType){let E=n.responseType.toLowerCase();s.responseType=E!=="json"?E:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let E=s.statusText||"OK",D=new Cr(s.getAllResponseHeaders()),F=xR(s)||n.url;return c=new Nh({headers:D,status:s.status,statusText:E,url:F}),c},u=()=>{let{headers:E,status:D,statusText:F,url:Ae}=l(),G=null;D!==CR&&(G=typeof s.response>"u"?s.responseText:s.response),D===0&&(D=G?IR:0);let Fe=D>=200&&D<300;if(n.responseType==="json"&&typeof G=="string"){let Yr=G;G=G.replace(NR,"");try{G=G!==""?JSON.parse(G):null}catch(bn){G=Yr,Fe&&(Fe=!1,G={error:bn,text:G})}}Fe?(o.next(new rl({body:G,headers:E,status:D,statusText:F,url:Ae||void 0})),o.complete()):o.error(new il({error:G,headers:E,status:D,statusText:F,url:Ae||void 0}))},d=E=>{let{url:D}=l(),F=new il({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(F)},f=!1,h=E=>{f||(o.next(l()),f=!0);let D={type:Vi.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(D.total=E.total),n.responseType==="text"&&s.responseText&&(D.partialText=s.responseText),o.next(D)},v=E=>{let D={type:Vi.UploadProgress,loaded:E.loaded};E.lengthComputable&&(D.total=E.total),o.next(D)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Vi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(x(Oi))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Aw=new b(""),kR="XSRF-TOKEN",PR=new b("",{providedIn:"root",factory:()=>kR}),OR="X-XSRF-TOKEN",FR=new b("",{providedIn:"root",factory:()=>OR}),ol=class{},LR=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Xc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(x(Ke),x(hn),x(PR))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})();function VR(t,e){let n=t.url.toLowerCase();if(!_(Aw)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=_(ol).getToken(),i=_(FR);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function Mw(...t){let e=[DR,Cw,Iw,{provide:ts,useExisting:Iw},{provide:nl,useFactory:()=>_(bR,{optional:!0})??_(Cw)},{provide:Sw,useValue:VR,multi:!0},{provide:Aw,useValue:!0},{provide:ol,useClass:LR}];for(let n of t)e.push(...n.\u0275providers);return ht(e)}var xh=class extends Jc{supportsDOMEvents=!0},kh=class t extends xh{static makeCurrent(){uw(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=jR();return n==null?null:UR(n)}resetBaseElement(){rs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xc(document.cookie,e)}},rs=null;function jR(){return rs=rs||document.querySelector("base"),rs?rs.getAttribute("href"):null}function UR(t){return new URL(t,document.baseURI).pathname}var BR=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Ph=new b(""),Ow=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(x(Ph),x(te))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),al=class{_doc;constructor(e){this._doc=e}manager},sl="ng-app-id";function Nw(t){for(let e of t)e.remove()}function Rw(t,e){let n=e.createElement("style");return n.textContent=t,n}function $R(t,e,n,r){let i=t.head?.querySelectorAll(`style[${sl}="${e}"],link[${sl}="${e}"]`);if(i)for(let o of i)o.removeAttribute(sl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Oh(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var Fw=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Th(o),$R(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Rw);r?.forEach(i=>this.addUsage(i,this.external,Oh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Nw(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Nw(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Rw(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Oh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(sl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(x(Ke),x(Yf),x(Qf,8),x(hn))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Rh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Lh=/%COMP%/g;var Lw="%COMP%",HR=`_nghost-${Lw}`,WR=`_ngcontent-${Lw}`,zR=!0,GR=new b("",{providedIn:"root",factory:()=>zR});function qR(t){return WR.replace(Lh,t)}function KR(t){return HR.replace(Lh,t)}function Vw(t,e){return e.map(n=>n.replace(Lh,t))}var xw=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,c,l=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.tracingService=u,this.platformIsServer=Th(a),this.defaultRenderer=new is(n,s,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Bt.ShadowDom&&(r=$(w({},r),{encapsulation:Bt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof cl?i.applyToHost(n):i instanceof os&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Bt.Emulated:o=new cl(c,l,r,this.appId,u,s,a,d,f);break;case Bt.ShadowDom:return new Fh(c,l,n,r,s,a,this.nonce,d,f);default:o=new os(c,l,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(x(Ow),x(Fw),x(Yf),x(GR),x(Ke),x(hn),x(te),x(Qf),x(Bc,8))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),is=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Rh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(kw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(kw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Rh[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Rh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&($t.DashCase|$t.Important)?e.style.setProperty(n,r,i&$t.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&$t.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function kw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Fh=class extends is{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=Vw(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Oh(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},os=class extends is{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,c,l){super(e,o,s,a,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=l?Vw(l,u):u,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cl=class extends os{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,c,l){let u=i+"-"+r.id;super(e,n,r,o,s,a,c,l,u),this.contentAttr=qR(u),this.hostAttr=KR(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},YR=(()=>{class t extends al{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(x(Ke))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})(),Pw=["alt","control","meta","shift"],ZR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},JR=(()=>{class t extends al{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Pw.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=ZR[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Pw.forEach(s=>{if(s!==i){let a=QR[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(x(Ke))};static \u0275prov=T({token:t,factory:t.\u0275fac})}return t})();function jw(t,e){return rw(w({rootComponent:t},XR(e)))}function XR(t){return{appProviders:[...ix,...t?.providers??[]],platformProviders:rx}}function ex(){kh.makeCurrent()}function tx(){return new On}function nx(){return J_(document),document}var rx=[{provide:hn,useValue:pw},{provide:Zf,useValue:ex,multi:!0},{provide:Ke,useFactory:nx,deps:[]}];var ix=[{provide:xc,useValue:"root"},{provide:On,useFactory:tx,deps:[]},{provide:Ph,useClass:YR,multi:!0,deps:[Ke]},{provide:Ph,useClass:JR,multi:!0,deps:[Ke]},xw,Fw,Ow,{provide:Ci,useExisting:xw},{provide:Oi,useClass:BR,deps:[]},[]];var Uw=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(x(Ke))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var V="primary",Es=Symbol("RouteTitle"),$h=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Wi(t){return new $h(t)}function sx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ax(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Gt(t[n],e[n]))return!1;return!0}function Gt(t,e){let n=t?Hh(t):void 0,r=e?Hh(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Kw(t[i],e[i]))return!1;return!0}function Hh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Kw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function Yw(t){return t.length>0?t[t.length-1]:null}function Wn(t){return Cd(t)?t:yr(t)?ce(Promise.resolve(t)):R(t)}var cx={exact:Qw,subset:Jw},Zw={exact:lx,subset:ux,ignored:()=>!0};function Bw(t,e,n){return cx[n.paths](t.root,e.root,n.matrixParams)&&Zw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function lx(t,e){return Gt(t,e)}function Qw(t,e,n){if(!br(t.segments,e.segments)||!dl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Qw(t.children[r],e.children[r],n))return!1;return!0}function ux(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Kw(t[n],e[n]))}function Jw(t,e,n){return Xw(t,e,e.segments,n)}function Xw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!br(i,n)||e.hasChildren()||!dl(i,n,r))}else if(t.segments.length===n.length){if(!br(t.segments,n)||!dl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Jw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!br(t.segments,i)||!dl(t.segments,i,r)||!t.children[V]?!1:Xw(t.children[V],e,o,r)}}function dl(t,e,n){return e.every((r,i)=>Zw[n](t[i].parameters,r.parameters))}var vn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new X([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){return hx.serialize(this)}},X=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fl(this)}},Dr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Wi(this.parameters),this._parameterMap}toString(){return tI(this)}};function dx(t,e){return br(t,e)&&t.every((n,r)=>Gt(n.parameters,e[r].parameters))}function br(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function fx(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===V&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==V&&(n=n.concat(e(i,r)))}),n}var gp=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>new ds,providedIn:"root"})}return t})(),ds=class{parse(e){let n=new zh(e);return new vn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ss(e.root,!0)}`,r=mx(e.queryParams),i=typeof e.fragment=="string"?`#${px(e.fragment)}`:"";return`${n}${r}${i}`}},hx=new ds;function fl(t){return t.segments.map(e=>tI(e)).join("/")}function ss(t,e){if(!t.hasChildren())return fl(t);if(e){let n=t.children[V]?ss(t.children[V],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==V&&r.push(`${i}:${ss(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=fx(t,(r,i)=>i===V?[ss(t.children[V],!1)]:[`${i}:${ss(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[V]!=null?`${fl(t)}/${n[0]}`:`${fl(t)}/(${n.join("//")})`}}function eI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ll(t){return eI(t).replace(/%3B/gi,";")}function px(t){return encodeURI(t)}function Wh(t){return eI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hl(t){return decodeURIComponent(t)}function $w(t){return hl(t.replace(/\+/g,"%20"))}function tI(t){return`${Wh(t.path)}${gx(t.parameters)}`}function gx(t){return Object.entries(t).map(([e,n])=>`;${Wh(e)}=${Wh(n)}`).join("")}function mx(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ll(n)}=${ll(i)}`).join("&"):`${ll(n)}=${ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var vx=/^[^\/()?;#]+/;function Vh(t){let e=t.match(vx);return e?e[0]:""}var yx=/^[^\/()?;=#]+/;function _x(t){let e=t.match(yx);return e?e[0]:""}var Ex=/^[^=?&#]+/;function wx(t){let e=t.match(Ex);return e?e[0]:""}var Ix=/^[^&#]+/;function Cx(t){let e=t.match(Ix);return e?e[0]:""}var zh=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[V]=new X(e,n)),r}parseSegment(){let e=Vh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Dr(hl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=_x(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Vh(this.remaining);i&&(r=i,this.capture(r))}e[hl(n)]=hl(r)}parseQueryParam(e){let n=wx(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Cx(this.remaining);s&&(r=s,this.capture(r))}let i=$w(n),o=$w(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Vh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=V);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[V]:new X([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function nI(t){return t.segments.length>0?new X([],{[V]:t}):t}function rI(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=rI(i);if(r===V&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new X(t.segments,e);return Dx(n)}function Dx(t){if(t.numberOfChildren===1&&t.children[V]){let e=t.children[V];return new X(t.segments.concat(e.segments),e.children)}return t}function Tr(t){return t instanceof vn}function bx(t,e,n=null,r=null){let i=iI(t);return oI(i,e,n,r)}function iI(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new X(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=nI(r);return e??i}function oI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return jh(i,i,i,n,r);let o=Tx(e);if(o.toRoot())return jh(i,i,new X([],{}),n,r);let s=Sx(o,i,t),a=s.processChildren?cs(s.segmentGroup,s.index,o.commands):aI(s.segmentGroup,s.index,o.commands);return jh(i,s.segmentGroup,a,n,r)}function pl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function fs(t){return typeof t=="object"&&t!=null&&t.outlets}function jh(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=sI(t,e,n);let a=nI(rI(s));return new vn(a,o,i)}function sI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=sI(o,e,n)}),new X(t.segments,r)}var gl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pl(r[0]))throw new C(4003,!1);let i=r.find(fs);if(i&&i!==Yw(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Tx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new gl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new gl(n,e,r)}var Bi=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Sx(t,e,n){if(t.isAbsolute)return new Bi(e,!0,0);if(!n)return new Bi(e,!1,NaN);if(n.parent===null)return new Bi(n,!0,0);let r=pl(t.commands[0])?0:1,i=n.segments.length-1+r;return Ax(n,i,t.numberOfDoubleDots)}function Ax(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Bi(r,!1,i-o)}function Mx(t){return fs(t[0])?t[0].outlets:{[V]:t}}function aI(t,e,n){if(t??=new X([],{}),t.segments.length===0&&t.hasChildren())return cs(t,e,n);let r=Nx(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new X(t.segments.slice(0,r.pathIndex),{});return o.children[V]=new X(t.segments.slice(r.pathIndex),t.children),cs(o,0,i)}else return r.match&&i.length===0?new X(t.segments,{}):r.match&&!t.hasChildren()?Gh(t,e,n):r.match?cs(t,0,i):Gh(t,e,n)}function cs(t,e,n){if(n.length===0)return new X(t.segments,{});{let r=Mx(n),i={};if(Object.keys(r).some(o=>o!==V)&&t.children[V]&&t.numberOfChildren===1&&t.children[V].segments.length===0){let o=cs(t.children[V],e,n);return new X(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=aI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new X(t.segments,i)}}function Nx(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(fs(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Ww(c,l,s))return o;r+=2}else{if(!Ww(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Gh(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(fs(o)){let c=Rx(o.outlets);return new X(r,c)}if(i===0&&pl(n[0])){let c=t.segments[e];r.push(new Dr(c.path,Hw(n[0]))),i++;continue}let s=fs(o)?o.outlets[V]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&pl(a)?(r.push(new Dr(s,Hw(a))),i+=2):(r.push(new Dr(s,{})),i++)}return new X(r,{})}function Rx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Gh(new X([],{}),0,r))}),e}function Hw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ww(t,e,n){return t==n.path&&Gt(e,n.parameters)}var ls="imperative",Se=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Se||{}),gt=class{id;url;constructor(e,n){this.id=e,this.url=n}},hs=class extends gt{type=Se.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Hn=class extends gt{urlAfterRedirects;type=Se.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(it||{}),qh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(qh||{}),mn=class extends gt{reason;code;type=Se.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sr=class extends gt{reason;code;type=Se.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ps=class extends gt{error;target;type=Se.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ml=class extends gt{urlAfterRedirects;state;type=Se.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends gt{urlAfterRedirects;state;type=Se.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yh=class extends gt{urlAfterRedirects;state;shouldActivate;type=Se.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zh=class extends gt{urlAfterRedirects;state;type=Se.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qh=class extends gt{urlAfterRedirects;state;type=Se.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class{route;type=Se.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xh=class{route;type=Se.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ep=class{snapshot;type=Se.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tp=class{snapshot;type=Se.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},np=class{snapshot;type=Se.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rp=class{snapshot;type=Se.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var gs=class{},zi=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function xx(t,e){return t.providers&&!t._injector&&(t._injector=fh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function St(t){return t.outlet||V}function kx(t,e){let n=t.filter(r=>St(r)===e);return n.push(...t.filter(r=>St(r)!==e)),n}function ws(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ip=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ws(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Cl(this.rootInjector)}},Cl=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new ip(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(x(Me))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vl=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=op(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=op(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=sp(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sp(e,this._root).map(n=>n.value)}};function op(t,e){if(t===e.value)return e;for(let n of e.children){let r=op(t,n);if(r)return r}return null}function sp(t,e){if(t===e.value)return[e];for(let n of e.children){let r=sp(t,n);if(r.length)return r.unshift(e),r}return[]}var rt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ui(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var yl=class extends vl{snapshot;constructor(e,n){super(e),this.snapshot=n,mp(this,e)}toString(){return this.snapshot.toString()}};function cI(t){let e=Px(t),n=new De([new Dr("",{})]),r=new De({}),i=new De({}),o=new De({}),s=new De(""),a=new Ar(n,r,o,s,i,V,t,e.root);return a.snapshot=e.root,new yl(new rt(a,[]),e)}function Px(t){let e={},n={},r={},i="",o=new $i([],e,r,i,n,V,t,null,{});return new El("",new rt(o,[]))}var Ar=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(L(l=>l[Es]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(L(e=>Wi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(L(e=>Wi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function _l(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&uI(i)&&(r.resolve[Es]=i.title),r}var $i=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Es]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},El=class extends vl{url;constructor(e,n){super(n),this.url=e,mp(this,n)}toString(){return lI(this._root)}};function mp(t,e){e.value._routerState=t,e.children.forEach(n=>mp(t,n))}function lI(t){let e=t.children.length>0?` { ${t.children.map(lI).join(", ")} } `:"";return`${t.value}${e}`}function Uh(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Gt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Gt(e.params,n.params)||t.paramsSubject.next(n.params),ax(e.url,n.url)||t.urlSubject.next(n.url),Gt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ap(t,e){let n=Gt(t.params,e.params)&&dx(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ap(t.parent,e.parent))}function uI(t){return typeof t.title=="string"||t.title===null}var Ox=new b(""),vp=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=V;activateEvents=new ge;deactivateEvents=new ge;attachEvents=new ge;detachEvents=new ge;routerOutletData=W_(void 0);parentContexts=_(Cl);location=_(Ri);changeDetector=_(Er);inputBinder=_(yp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new cp(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Te({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Si]})}return t})(),cp=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ar?this.route:e===Cl?this.childContexts:e===Ox?this.outletData:this.parent.get(e,n)}},yp=new b("");function Fx(t,e,n){let r=ms(t,e._root,n?n._root:void 0);return new yl(r,e)}function ms(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Lx(t,e,n);return new rt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ms(t,a)),s}}let r=Vx(e.value),i=e.children.map(o=>ms(t,o));return new rt(r,i)}}function Lx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ms(t,r,i);return ms(t,r)})}function Vx(t){return new Ar(new De(t.url),new De(t.params),new De(t.queryParams),new De(t.fragment),new De(t.data),t.outlet,t.component,t)}var vs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},dI="ngNavigationCancelingError";function wl(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Tr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=fI(!1,it.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function fI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[dI]=!0,n.cancellationCode=e,n}function jx(t){return hI(t)&&Tr(t.url)}function hI(t){return!!t&&t[dI]}var Ux=(t,e,n,r)=>L(i=>(new lp(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),lp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Uh(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ui(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ui(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ui(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ui(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new rp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tp(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Uh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Uh(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Il=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hi=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Bx(t,e,n){let r=t._root,i=e?e._root:null;return as(r,i,n,[r.value])}function $x(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function qi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Fy(t)?t:e.get(t):r}function as(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ui(e);return t.children.forEach(s=>{Hx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>us(a,n.getContext(s),i)),i}function Hx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Wx(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Il(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?as(t,e,a?a.children:null,r,i):as(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hi(a.outlet.component,s))}else s&&us(e,a,i),i.canActivateChecks.push(new Il(r)),o.component?as(t,null,a?a.children:null,r,i):as(t,null,n,r,i);return i}function Wx(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!br(t.url,e.url);case"pathParamsOrQueryParamsChange":return!br(t.url,e.url)||!Gt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ap(t,e)||!Gt(t.queryParams,e.queryParams);case"paramsChange":default:return!ap(t,e)}}function us(t,e,n){let r=Ui(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?us(s,e.children.getContext(o),n):us(s,null,n):us(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Hi(e.outlet.component,i)):n.canDeactivateChecks.push(new Hi(null,i)):n.canDeactivateChecks.push(new Hi(null,i))}function Is(t){return typeof t=="function"}function zx(t){return typeof t=="boolean"}function Gx(t){return t&&Is(t.canLoad)}function qx(t){return t&&Is(t.canActivate)}function Kx(t){return t&&Is(t.canActivateChild)}function Yx(t){return t&&Is(t.canDeactivate)}function Zx(t){return t&&Is(t.canMatch)}function pI(t){return t instanceof nn||t?.name==="EmptyError"}var ul=Symbol("INITIAL_VALUE");function Gi(){return et(t=>za(t.map(e=>e.pipe(rn(1),Ad(ul)))).pipe(L(e=>{for(let n of e)if(n!==!0){if(n===ul)return ul;if(n===!1||Qx(n))return n}return!0}),Xe(e=>e!==ul),rn(1)))}function Qx(t){return Tr(t)||t instanceof vs}function Jx(t,e){return ye(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R($(w({},n),{guardsResult:!0})):Xx(s,r,i,t).pipe(ye(a=>a&&zx(a)?ek(r,o,t,e):R(a)),L(a=>$(w({},n),{guardsResult:a})))})}function Xx(t,e,n,r){return ce(t).pipe(ye(i=>ok(i.component,i.route,n,e,r)),on(i=>i!==!0,!0))}function ek(t,e,n,r){return ce(e).pipe(Nn(i=>ai(nk(i.route.parent,r),tk(i.route,r),ik(t,i.path,n),rk(t,i.route,n))),on(i=>i!==!0,!0))}function tk(t,e){return t!==null&&e&&e(new np(t)),R(!0)}function nk(t,e){return t!==null&&e&&e(new ep(t)),R(!0)}function rk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>Ga(()=>{let s=ws(e)??n,a=qi(o,s),c=qx(a)?a.canActivate(e,t):be(s,()=>a(e,t));return Wn(c).pipe(on())}));return R(i).pipe(Gi())}function ik(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>$x(s)).filter(s=>s!==null).map(s=>Ga(()=>{let a=s.guards.map(c=>{let l=ws(s.node)??n,u=qi(c,l),d=Kx(u)?u.canActivateChild(r,t):be(l,()=>u(r,t));return Wn(d).pipe(on())});return R(a).pipe(Gi())}));return R(o).pipe(Gi())}function ok(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let c=ws(e)??i,l=qi(a,c),u=Yx(l)?l.canDeactivate(t,e,n,r):be(c,()=>l(t,e,n,r));return Wn(u).pipe(on())});return R(s).pipe(Gi())}function sk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=qi(s,t),c=Gx(a)?a.canLoad(e,n):be(t,()=>a(e,n));return Wn(c)});return R(o).pipe(Gi(),gI(r))}function gI(t){return gd(we(e=>{if(typeof e!="boolean")throw wl(t,e)}),L(e=>e===!0))}function ak(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=qi(s,t),c=Zx(a)?a.canMatch(e,n):be(t,()=>a(e,n));return Wn(c)});return R(o).pipe(Gi(),gI(r))}var ys=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},_s=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ji(t){return si(new ys(t))}function ck(t){return si(new C(4e3,!1))}function lk(t){return si(fI(!1,it.GuardRejected))}var up=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[V])return ck(`${e.redirectTo}`);i=i.children[V]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,params:h,data:v,title:E}=i,D=be(o,()=>a({params:h,data:v,queryParams:c,fragment:l,routeConfig:u,url:d,outlet:f,title:E}));if(D instanceof vn)throw new _s(D);n=D}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new _s(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new vn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new X(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},dp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uk(t,e,n,r,i){let o=mI(t,e,n);return o.matched?(r=xx(e,r),ak(r,e,n,i).pipe(L(s=>s===!0?o:w({},dp)))):R(o)}function mI(t,e,n){if(e.path==="**")return dk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},dp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||sx)(n,t,e);if(!i)return w({},dp);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function dk(t){return{matched:!0,parameters:t.length>0?Yw(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function zw(t,e,n,r){return n.length>0&&pk(t,n,r)?{segmentGroup:new X(e,hk(r,new X(n,t.children))),slicedSegments:[]}:n.length===0&&gk(t,n,r)?{segmentGroup:new X(t.segments,fk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new X(t.segments,t.children),slicedSegments:n}}function fk(t,e,n,r){let i={};for(let o of n)if(Dl(t,e,o)&&!r[St(o)]){let s=new X([],{});i[St(o)]=s}return w(w({},r),i)}function hk(t,e){let n={};n[V]=e;for(let r of t)if(r.path===""&&St(r)!==V){let i=new X([],{});n[St(r)]=i}return n}function pk(t,e,n){return n.some(r=>Dl(t,e,r)&&St(r)!==V)}function gk(t,e,n){return n.some(r=>Dl(t,e,r))}function Dl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function mk(t,e,n){return e.length===0&&!t.children[n]}var fp=class{};function vk(t,e,n,r,i,o,s="emptyOnly"){return new hp(t,e,n,r,i,s,o).recognize()}var yk=31,hp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new up(this.urlSerializer,this.urlTree)}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=zw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(L(({children:n,rootSnapshot:r})=>{let i=new rt(r,n),o=new El("",i),s=bx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new $i([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,V,n).pipe(L(r=>({children:r,rootSnapshot:n})),Mn(r=>{if(r instanceof _s)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ys?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(L(s=>s instanceof rt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ce(o).pipe(Nn(s=>{let a=r.children[s],c=kx(n,s);return this.processSegmentGroup(e,c,a,s,i)}),Sd((s,a)=>(s.push(...a),s)),Rn(null),Td(),ye(s=>{if(s===null)return ji(r);let a=vI(s);return _k(a),R(a)}))}processSegment(e,n,r,i,o,s,a){return ce(n).pipe(Nn(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,i,o,s,a).pipe(Mn(l=>{if(l instanceof ys)return R(null);throw l}))),on(c=>!!c),Mn(c=>{if(pI(c))return mk(r,i,o)?R(new fp):ji(r);throw c}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,c){return St(r)!==s&&(s===V||!Dl(i,o,r))?ji(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,c):ji(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=mI(n,i,o);if(!c)return ji(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yk&&(this.allowRedirects=!1));let h=new $i(o,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Gw(i),St(i),i.component??i._loadedComponent??null,i,qw(i)),v=_l(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let E=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,E).pipe(ye(D=>this.processSegment(e,r,n,D.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=uk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(et(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(et(({routes:l})=>{let u=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=c,v=new $i(f,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Gw(r),St(r),r.component??r._loadedComponent??null,r,qw(r)),E=_l(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(E.params),v.data=Object.freeze(E.data);let{segmentGroup:D,slicedSegments:F}=zw(n,f,h,l);if(F.length===0&&D.hasChildren())return this.processChildren(u,l,D,v).pipe(L(G=>new rt(v,G)));if(l.length===0&&F.length===0)return R(new rt(v,[]));let Ae=St(r)===o;return this.processSegment(u,l,D,F,Ae?V:o,!0,v).pipe(L(G=>new rt(v,G instanceof rt?[G]:[])))}))):ji(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):sk(e,n,r,this.urlSerializer).pipe(ye(i=>i?this.configLoader.loadChildren(e,n).pipe(we(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):lk(n))):R({routes:[],injector:e})}};function _k(t){t.sort((e,n)=>e.value.outlet===V?-1:n.value.outlet===V?1:e.value.outlet.localeCompare(n.value.outlet))}function Ek(t){let e=t.value.routeConfig;return e&&e.path===""}function vI(t){let e=[],n=new Set;for(let r of t){if(!Ek(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=vI(r.children);e.push(new rt(r.value,i))}return e.filter(r=>!n.has(r))}function Gw(t){return t.data||{}}function qw(t){return t.resolve||{}}function wk(t,e,n,r,i,o){return ye(s=>vk(t,e,n,r,s.extractedUrl,i,o).pipe(L(({state:a,tree:c})=>$(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function Ik(t,e){return ye(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of yI(c))s.add(l);let a=0;return ce(s).pipe(Nn(c=>o.has(c)?Ck(c,r,t,e):(c.data=_l(c,c.parent,t).resolve,R(void 0))),we(()=>a++),ci(1),ye(c=>a===s.size?R(n):We))})}function yI(t){let e=t.children.map(n=>yI(n)).flat();return[t,...e]}function Ck(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!uI(i)&&(o[Es]=i.title),Dk(o,t,e,r).pipe(L(s=>(t._resolvedData=s,t.data=_l(t,t.parent,n).resolve,null)))}function Dk(t,e,n,r){let i=Hh(t);if(i.length===0)return R({});let o={};return ce(i).pipe(ye(s=>bk(t[s],e,n,r).pipe(on(),we(a=>{if(a instanceof vs)throw wl(new ds,a);o[s]=a}))),ci(1),L(()=>o),Mn(s=>pI(s)?We:si(s)))}function bk(t,e,n,r){let i=ws(e)??r,o=qi(t,i),s=o.resolve?o.resolve(e,n):be(i,()=>o(e,n));return Wn(s)}function Bh(t){return et(e=>{let n=t(e);return n?ce(n).pipe(L(()=>e)):R(e)})}var _I=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===V);return r}getResolvedTitleForRoute(n){return n.data[Es]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>_(Tk),providedIn:"root"})}return t})(),Tk=(()=>{class t extends _I{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(x(Uw))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_p=new b("",{providedIn:"root",factory:()=>({})}),Sk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=A({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&M(0,"router-outlet")},dependencies:[vp],encapsulation:2})}return t})();function Ep(t){let e=t.children&&t.children.map(Ep),n=e?$(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==V&&(n.component=Sk),n}var wp=new b(""),Ak=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(vh);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return R(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Wn(n.loadComponent()).pipe(L(EI),we(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ar(()=>{this.componentLoaders.delete(n)})),i=new ni(r,()=>new he).pipe(ti());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return R({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Mk(r,this.compiler,n,this.onLoadEndListener).pipe(ar(()=>{this.childrenLoaders.delete(r)})),s=new ni(o,()=>new he).pipe(ti());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mk(t,e,n,r){return Wn(t.loadChildren()).pipe(L(EI),ye(i=>i instanceof Bo||Array.isArray(i)?R(i):ce(e.compileModuleAsync(i))),L(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(wp,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ep),injector:o}}))}function Nk(t){return t&&typeof t=="object"&&"default"in t}function EI(t){return Nk(t)?t.default:t}var Ip=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>_(Rk),providedIn:"root"})}return t})(),Rk=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xk=new b("");var kk=new b(""),Pk=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new he;transitionAbortSubject=new he;configLoader=_(Ak);environmentInjector=_(Me);destroyRef=_(Zo);urlSerializer=_(gp);rootContexts=_(Cl);location=_(Xo);inputBindingEnabled=_(yp,{optional:!0})!==null;titleStrategy=_(_I);options=_(_p,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(Ip);createViewTransition=_(xk,{optional:!0});navigationErrorHandler=_(kk,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>R(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Jh(i)),r=i=>this.events.next(new Xh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next($(w(w({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new De({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ls,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Xe(o=>o.id!==0),L(o=>$(w({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),et(o=>{let s=!1,a=!1;return R(o).pipe(et(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),We;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?$(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&u!=="reload"){let d="";return this.events.next(new Sr(c.id,this.urlSerializer.serialize(c.rawUrl),d,qh.IgnoredSameUrlNavigation)),c.resolve(!1),We}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return R(c).pipe(et(d=>{let f=this.transitions?.getValue();return this.events.next(new hs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?We:Promise.resolve(d)}),wk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),we(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=$(w({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new ml(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:v,extras:E}=c,D=new hs(d,this.urlSerializer.serialize(f),h,v);this.events.next(D);let F=cI(this.rootComponentType).snapshot;return this.currentTransition=o=$(w({},c),{targetSnapshot:F,urlAfterRedirects:f,extras:$(w({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,R(o)}else{let d="";return this.events.next(new Sr(c.id,this.urlSerializer.serialize(c.extractedUrl),d,qh.IgnoredByUrlHandlingStrategy)),c.resolve(!1),We}}),we(c=>{let l=new Kh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),L(c=>(this.currentTransition=o=$(w({},c),{guards:Bx(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Jx(this.environmentInjector,c=>this.events.next(c)),we(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw wl(this.urlSerializer,c.guardsResult);let l=new Yh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Xe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",it.GuardRejected),!1)),Bh(c=>{if(c.guards.canActivateChecks.length)return R(c).pipe(we(l=>{let u=new Zh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),et(l=>{let u=!1;return R(l).pipe(Ik(this.paramsInheritanceStrategy,this.environmentInjector),we({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",it.NoDataFromResolver)}}))}),we(l=>{let u=new Qh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),Bh(c=>{let l=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(we(f=>{u.component=f}),L(()=>{})));for(let f of u.children)d.push(...l(f));return d};return za(l(c.targetSnapshot.root)).pipe(Rn(null),rn(1))}),Bh(()=>this.afterPreactivation()),et(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?ce(u).pipe(L(()=>o)):R(o)}),L(c=>{let l=Fx(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=$(w({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),we(()=>{this.events.next(new gs)}),Ux(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),rn(1),we({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Md(this.transitionAbortSubject.pipe(we(c=>{throw c}))),ar(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",it.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mn(c=>{if(this.destroyed)return o.resolve(!1),We;if(a=!0,hI(c))this.events.next(new mn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),jx(c)?this.events.next(new zi(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{let l=new ps(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{let u=be(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof vs){let{message:d,cancellationCode:f}=wl(this.urlSerializer,u);this.events.next(new mn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new zi(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),c}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return We}))}))}cancelNavigationTransition(n,r,i){let o=new mn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ok(t){return t!==ls}var Fk=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>_(Lk),providedIn:"root"})}return t})(),pp=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Lk=(()=>{class t extends pp{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yo(t)))(i||t)}})();static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wI=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:()=>_(Vk),providedIn:"root"})}return t})(),Vk=(()=>{class t extends wI{location=_(Xo);urlSerializer=_(gp);options=_(_p,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=_(Ip);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new vn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=cI(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof hs)this.stateMemento=this.createStateMemento();else if(n instanceof Sr)this.rawUrlTree=r.initialUrl;else if(n instanceof ml){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof gs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof mn&&(n.code===it.GuardRejected||n.code===it.NoDataFromResolver)?this.restoreHistory(r):n instanceof ps?this.restoreHistory(r,!0):n instanceof Hn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof vn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=w(w({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=w(w({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yo(t)))(i||t)}})();static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jk(t,e){t.events.pipe(Xe(n=>n instanceof Hn||n instanceof mn||n instanceof ps||n instanceof Sr),L(n=>n instanceof Hn||n instanceof Sr?0:(n instanceof mn?n.code===it.Redirect||n.code===it.SupersededByNewNavigation:!1)?2:1),Xe(n=>n!==2),rn(1)).subscribe(()=>{e()})}var Uk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Cs=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(gh);stateManager=_(wI);options=_(_p,{optional:!0})||{};pendingTasks=_(fn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(Pk);urlSerializer=_(gp);location=_(Xo);urlHandlingStrategy=_(Ip);_events=new he;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(Fk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(wp,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(yp,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new de;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof mn&&r.code!==it.Redirect&&r.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Hn)this.navigated=!0;else if(r instanceof zi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ok(i.source)},s);this.scheduleNavigation(a,ls,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Hk(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ls,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=w({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ep),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=iI(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return oI(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Tr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ls,null,r)}navigate(n,r={skipLocationChange:!1}){return $k(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=w({},Uk):r===!1?i=w({},Bk):i=r,Tr(n))return Bw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Bw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});let u=this.pendingTasks.add();return jk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $k(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function Hk(t){return!(t instanceof gs)&&!(t instanceof zi)}var bl=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new he;constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Hn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Tr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:oE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Tr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(O(Cs),O(Ar),Gf("tabindex"),O(pn),O(Ht),O(Fi))};static \u0275dir=Te({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Gc("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",wr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",wr],replaceUrl:[2,"replaceUrl","replaceUrl",wr],routerLink:"routerLink"},features:[hh,Si]})}return t})();var Wk=new b("");function II(t,...e){return ht([{provide:wp,multi:!0,useValue:t},[],{provide:Ar,useFactory:zk,deps:[Cs]},{provide:zc,multi:!0,useFactory:Gk},e.map(n=>n.\u0275providers)])}function zk(t){return t.routerState.root}function Gk(){let t=_(_e);return e=>{let n=t.get(cn);if(e!==n.components[0])return;let r=t.get(Cs),i=t.get(qk);t.get(Kk)===1&&r.initialNavigation(),t.get(Yk,null,U.Optional)?.setUpPreloading(),t.get(Wk,null,U.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qk=new b("",{factory:()=>new he}),Kk=new b("",{providedIn:"root",factory:()=>1});var Yk=new b("");var Tl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-home"]],decls:47,vars:0,consts:[["id","home-page",1,"container-fluid","bg-success-subtle","min-vh-100"],[1,"text-center"],[1,"home-text"],["routerLink","/app-component-manip",1,"btn","btn-primary"],[1,"container","my-5"],[1,"row","text-center"],[1,"col-md-4"],[1,"card","border-0","shadow-sm"],[1,"card-body"],[1,"bi","bi-lightning-charge-fill","text-warning","fs-1"],[1,"card-title","mt-3"],[1,"card-text"],[1,"bi","bi-gear-fill","text-info","fs-1"],[1,"bi","bi-people-fill","text-success","fs-1"],[1,"bg-light","py-5"],[1,"container"],[1,"text-center","mb-4"],[1,"list-group","list-group-flush"],[1,"list-group-item"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1)(2,"h1"),y(3,"Bienvenue dans mon cours Angular!"),m(),g(4,"p",2),y(5," Apprenez \xE0 cr\xE9er des applications web modernes avec Angular. "),m(),g(6,"a",3),y(7,"Commencer"),m()(),g(8,"section",4)(9,"div",5)(10,"div",6)(11,"div",7)(12,"div",8),M(13,"i",9),g(14,"h5",10),y(15,"Performance"),m(),g(16,"p",11),y(17," D\xE9couvrez comment Angular optimise vos applications pour des performances maximales. "),m()()()(),g(18,"div",6)(19,"div",7)(20,"div",8),M(21,"i",12),g(22,"h5",10),y(23,"Composants"),m(),g(24,"p",11),y(25," Ma\xEEtrisez le syst\xE8me de composants pour cr\xE9er des interfaces modulaires et r\xE9utilisables. "),m()()()(),g(26,"div",6)(27,"div",7)(28,"div",8),M(29,"i",13),g(30,"h5",10),y(31,"Communaut\xE9"),m(),g(32,"p",11),y(33," Apprenez avec un \xE9cosyst\xE8me actif et des outils robustes pour collaborer efficacement. "),m()()()()()(),g(34,"section",14)(35,"div",15)(36,"h2",16),y(37,"Pourquoi choisir Angular ?"),m(),g(38,"ul",17)(39,"li",18),y(40," \u2714\uFE0F Structure solide pour les projets d'envergure. "),m(),g(41,"li",18),y(42," \u2714\uFE0F Support officiel de Google et une mise \xE0 jour continue. "),m(),g(43,"li",18),y(44," \u2714\uFE0F Int\xE9gration parfaite avec TypeScript pour un code maintenable. "),m(),g(45,"li",18),y(46," \u2714\uFE0F Riches fonctionnalit\xE9s int\xE9gr\xE9es (RxJS, Forms, Router). "),m()()()()())},encapsulation:2})};var Sl=class t{text="Platon";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-exercises"]],decls:27,vars:0,consts:[["aria-current","nesting","routerLink","/nesting"],["aria-current","interpolation","routerLink","/interpolation"],["aria-current","data-binding","routerLink","/data-binding"],["aria-current","directives","routerLink","/directives"],["aria-current","blog","routerLink","/blog"],["aria-current","api","routerLink","/api"],["aria-current","firebase","routerLink","/firebase"]],template:function(n,r){n&1&&(g(0,"div")(1,"h2")(2,"span"),y(3,"Exercices"),m(),y(4," :"),m(),g(5,"ul")(6,"li")(7,"a",0),y(8,"Nesting"),m()(),g(9,"li")(10,"a",1),y(11,"Interpolation"),m()(),g(12,"li")(13,"a",2),y(14,"Databinding"),m()(),g(15,"li")(16,"a",3),y(17,"TP Directives"),m()(),g(18,"li")(19,"a",4),y(20,"Blog"),m()(),g(21,"li")(22,"a",5),y(23,"Test API"),m()(),g(24,"li")(25,"a",6),y(26,"Firebase"),m()()()())},dependencies:[bl,bh],styles:['h2[_ngcontent-%COMP%]{font-size:xx-large;text-align:center;background-color:#f90;padding:1rem;border-radius:.5rem;color:#fff}ul[_ngcontent-%COMP%]{display:flex;justify-content:space-around}ul[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(odd){list-style:"\\1f950"}ul[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-child(2n){list-style:"\\1f956"}a[_ngcontent-%COMP%]{color:#2e2e2c;text-decoration:none}li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{text-decoration:underline}a[_ngcontent-%COMP%]{margin-left:.2rem}']})};var NI=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(O(pn),O(Ht))};static \u0275dir=Te({type:t})}return t})(),Zk=(()=>{class t extends NI{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Yo(t)))(i||t)}})();static \u0275dir=Te({type:t,features:[Bn]})}return t})(),RI=new b("");var Qk={provide:RI,useExisting:bi(()=>mt),multi:!0};function Jk(){let t=gn()?gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Xk=new b(""),mt=(()=>{class t extends NI{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Jk())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(O(pn),O(Ht),O(Xk,8))};static \u0275dir=Te({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Zc([Qk]),Bn]})}return t})();var xI=new b(""),kI=new b("");function PI(t){return t!=null}function OI(t){return yr(t)?ce(t):t}function FI(t){let e={};return t.forEach(n=>{e=n!=null?w(w({},e),n):e}),Object.keys(e).length===0?null:e}function LI(t,e){return e.map(n=>n(t))}function eP(t){return!t.validate}function VI(t){return t.map(e=>eP(e)?e:n=>e.validate(n))}function tP(t){if(!t)return null;let e=t.filter(PI);return e.length==0?null:function(n){return FI(LI(n,e))}}function Dp(t){return t!=null?tP(VI(t)):null}function nP(t){if(!t)return null;let e=t.filter(PI);return e.length==0?null:function(n){let r=LI(n,e).map(OI);return bd(r).pipe(L(FI))}}function bp(t){return t!=null?nP(VI(t)):null}function CI(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function rP(t){return t._rawValidators}function iP(t){return t._rawAsyncValidators}function Cp(t){return t?Array.isArray(t)?t:[t]:[]}function Ml(t,e){return Array.isArray(t)?t.includes(e):t===e}function DI(t,e){let n=Cp(e);return Cp(t).forEach(i=>{Ml(n,i)||n.push(i)}),n}function bI(t,e){return Cp(e).filter(n=>!Ml(t,n))}var Nl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Dp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=bp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zi=class extends Nl{name;get formDirective(){return null}get path(){return null}},Ms=class extends Nl{_parent=null;name=null;valueAccessor=null},Rl=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},oP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lq=$(w({},oP),{"[class.ng-submitted]":"isSubmitted"}),qt=(()=>{class t extends Rl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(O(Ms,2))};static \u0275dir=Te({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&qc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Bn]})}return t})(),Ji=(()=>{class t extends Rl{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(O(Zi,10))};static \u0275dir=Te({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&qc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Bn]})}return t})();var Ds="VALID",Al="INVALID",Ki="PENDING",bs="DISABLED",Qi=class{},xl=class extends Qi{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Ss=class extends Qi{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},As=class extends Qi{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Yi=class extends Qi{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function jI(t){return(Ol(t)?t.validators:t)||null}function sP(t){return Array.isArray(t)?Dp(t):t||null}function UI(t,e){return(Ol(e)?e.asyncValidators:t)||null}function aP(t){return Array.isArray(t)?bp(t):t||null}function Ol(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function cP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new C(1e3,"");if(!r[n])throw new C(1001,"")}function lP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new C(1002,"")})}var kl=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Wt(this.statusReactive)}set status(e){Wt(()=>this.statusReactive.set(e))}_status=Pi(()=>this.statusReactive());statusReactive=Mi(void 0);get valid(){return this.status===Ds}get invalid(){return this.status===Al}get pending(){return this.status==Ki}get disabled(){return this.status===bs}get enabled(){return this.status!==bs}errors;get pristine(){return Wt(this.pristineReactive)}set pristine(e){Wt(()=>this.pristineReactive.set(e))}_pristine=Pi(()=>this.pristineReactive());pristineReactive=Mi(!0);get dirty(){return!this.pristine}get touched(){return Wt(this.touchedReactive)}set touched(e){Wt(()=>this.touchedReactive.set(e))}_touched=Pi(()=>this.touchedReactive());touchedReactive=Mi(!1);get untouched(){return!this.touched}_events=new he;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(DI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(DI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bI(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bI(e,this._rawAsyncValidators))}hasValidator(e){return Ml(this._rawValidators,e)}hasAsyncValidator(e){return Ml(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched($(w({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new As(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new As(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty($(w({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ss(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ss(!0,r))}markAsPending(e={}){this.status=Ki;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending($(w({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bs,this.errors=null,this._forEachChild(i=>{i.disable($(w({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xl(this.value,r)),this._events.next(new Yi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(w({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ds,this._forEachChild(r=>{r.enable($(w({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors($(w({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ds||this.status===Ki)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new xl(this.value,n)),this._events.next(new Yi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity($(w({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bs:Ds}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ki,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=OI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Yi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?bs:this.errors?Al:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ki)?Ki:this._anyControlsHaveStatus(Al)?Al:Ds}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Ss(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new As(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ol(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=sP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=aP(this._rawAsyncValidators)}},Pl=class extends kl{constructor(e,n,r){super(jI(n),UI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){lP(this,!0,e),Object.keys(e).forEach(r=>{cP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Tp=new b("",{providedIn:"root",factory:()=>Sp}),Sp="always";function uP(t,e){return[...e.path,t]}function BI(t,e,n=Sp){$I(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),fP(t,e),pP(t,e),hP(t,e),dP(t,e)}function TI(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function dP(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function $I(t,e){let n=rP(t);e.validator!==null?t.setValidators(CI(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=iP(t);e.asyncValidator!==null?t.setAsyncValidators(CI(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();TI(e._rawValidators,i),TI(e._rawAsyncValidators,i)}function fP(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&HI(t,e)})}function hP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&HI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function HI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function pP(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function gP(t,e){t==null,$I(t,e)}function mP(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function vP(t){return Object.getPrototypeOf(t.constructor)===Zk}function yP(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _P(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===mt?n=o:vP(o)?r=o:i=o}),i||r||n||null}var EP={provide:Zi,useExisting:bi(()=>Mr)},Ts=Promise.resolve(),Mr=(()=>{class t extends Zi{callSetDisabledState;get submitted(){return Wt(this.submittedReactive)}_submitted=Pi(()=>this.submittedReactive());submittedReactive=Mi(!1);_directives=new Set;form;ngSubmit=new ge;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Pl({},Dp(n),bp(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ts.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),BI(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ts.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ts.then(()=>{let r=this._findContainer(n.path),i=new Pl({});gP(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ts.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ts.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),yP(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(O(xI,10),O(kI,10),O(Tp,8))};static \u0275dir=Te({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Zc([EP]),Bn]})}return t})();function SI(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function AI(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var wP=class extends kl{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(jI(n),UI(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ol(n)&&(n.nonNullable||n.initialValueIsDefault)&&(AI(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){SI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){SI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){AI(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var IP={provide:Ms,useExisting:bi(()=>At)},MI=Promise.resolve(),At=(()=>{class t extends Ms{_changeDetectorRef;callSetDisabledState;control=new wP;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ge;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_P(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),mP(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){BI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){MI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&wr(r);MI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?uP(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(O(Zi,9),O(xI,10),O(kI,10),O(RI,10),O(Er,8),O(Tp,8))};static \u0275dir=Te({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Zc([IP]),Bn,Si]})}return t})(),Xi=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Te({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var CP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Un({type:t});static \u0275inj=jn({})}return t})();var Kt=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Tp,useValue:n.callSetDisabledState??Sp}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Un({type:t});static \u0275inj=jn({imports:[CP]})}return t})();var Fl=class t{text="Jean Paul";resetText(){this.text=""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-data-binding"]],decls:10,vars:3,consts:[["for","input"],["type","text","id","input",3,"ngModelChange","ngModel"],["id","read"],[3,"click","disabled"]],template:function(n,r){n&1&&(g(0,"label",0),y(1,"Nom d'utilisateur :"),m(),M(2,"br"),g(3,"input",1),$e("ngModelChange",function(o){return qe(r.text,o)||(r.text=o),o}),m(),M(4,"br")(5,"br"),g(6,"p",2),y(7),m(),g(8,"button",3),le("click",function(){return r.resetText()}),y(9,"Reset"),m()),n&2&&(S(3),Be("ngModel",r.text),S(4),Ne(r.text),S(),J("disabled",r.text.length===0))},dependencies:[Kt,mt,qt,At],styles:["p[_ngcontent-%COMP%]{background-color:#88da9a;padding:1rem;border-radius:.2rem}"]})};var Ll=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-2"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),y(1,"composant-2 works!"),m())},styles:["p[_ngcontent-%COMP%]{background-color:#adff2f}"]})};var Vl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-4"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),y(1,"composant-4 works!"),m())},styles:["p[_ngcontent-%COMP%]{background-color:#dc143c}"]})};var jl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-5"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),y(1,"composant-5 works!"),m())},styles:["p[_ngcontent-%COMP%]{background-color:bisque}"]})};var Ul=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-6"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),y(1,"composant-6 works!"),m())},styles:["p[_ngcontent-%COMP%]{background-color:#7fffd4}"]})};var Bl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-3"]],decls:6,vars:0,template:function(n,r){n&1&&(g(0,"p"),y(1,"composant-3 works!"),m(),g(2,"div"),M(3,"app-composant-4")(4,"app-composant-5")(5,"app-composant-6"),m())},dependencies:[Vl,jl,Ul],styles:["p[_ngcontent-%COMP%]{background-color:#8a2be2}div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}"]})};var $l=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-1"]],decls:5,vars:0,template:function(n,r){n&1&&(g(0,"div")(1,"p"),y(2,"composant-1 works!"),m(),M(3,"app-composant-2"),m(),M(4,"app-composant-3"))},dependencies:[Ll,Bl],styles:["div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}p[_ngcontent-%COMP%]{background-color:#0ff}"]})};var Hl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-composant-0"]],decls:3,vars:0,template:function(n,r){n&1&&(g(0,"p"),y(1,"composant-0 works!"),m(),M(2,"app-composant-1"))},dependencies:[$l],styles:["p[_ngcontent-%COMP%]{background-color:brown;align-self:center}"]})};var DP=t=>({backgroundColor:t});function bP(t,e){if(t&1&&(g(0,"li"),y(1),m()),t&2){let n=e.$implicit;S(),Ne(n)}}var Wl=class t{friend;ngOnInit(){Math.random()<.5?this.friend.online=!1:this.friend.online=!0}getColor(){return this.friend.online===!0?"#80ef80":"#ff746c"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-one-friend"]],inputs:{friend:"friend"},decls:27,vars:13,consts:[[3,"ngStyle"],[3,"src","alt"],[3,"ngClass"],[4,"ngFor","ngForOf"]],template:function(n,r){n&1&&(g(0,"section",0),M(1,"img",1),g(2,"h2",2),y(3),m(),g(4,"p"),y(5," Age : "),g(6,"span"),y(7),m()(),g(8,"p"),y(9," Status : "),g(10,"span"),y(11),m()(),g(12,"p"),y(13," bio : "),g(14,"span"),y(15),m()(),M(16,"hr"),g(17,"p"),y(18),m(),g(19,"ul"),Ee(20,bP,2,1,"li",3),m(),M(21,"hr"),g(22,"p"),y(23," Popularit\xE9 : "),g(24,"span"),y(25),m()(),M(26,"hr"),m()),n&2&&(J("ngStyle",Qc(11,DP,r.getColor())),S(),_r("src",r.friend.imageUrl,Jo),_r("alt",r.friend.name),S(),J("ngClass",r.friend.online===!0?"amiOn":"amiOff"),S(),Re(" ",r.friend.name," "),S(4),Ne(r.friend.age),S(4),Ne(r.friend.online),S(4),Ne(r.friend.bio),S(3),Re("Les passions de ",r.friend.name,":"),S(2),J("ngForOf",r.friend.passions),S(5),Ne(r.friend.fame))},dependencies:[zt,el,Li],styles:["section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#c7f7f7;padding:1rem;border-radius:.2rem;box-shadow:1em 1em #f0acf0;margin:1rem;min-width:12vw;max-width:20vw}img[_ngcontent-%COMP%]{width:10rem}.amiOn[_ngcontent-%COMP%]{color:#80ef80}.amiOff[_ngcontent-%COMP%]{color:#f2f0ef}"]})};var zl=class t{maleFirstnames=["Paul","Jean","Maximus","Jordy"];femaleFirstnames=["Marie","Vanessa","Paulette","Christiane","Lucie","Marjol\xE8ne","Sophia"];friends=[this.generatePeople(),this.generatePeople(),this.generatePeople()];strangers=[];generatePeople(){let e=this.generateGender(),n=this.generateFirstname(e),r=this.generatePassions(),i=this.generateBio(e,r),o=this.generateAge(),s=this.generateFame(),a=`https://picsum.photos/${Math.floor(Math.random()*500)}/`;return{name:n,online:!0,bio:i,passions:r,fame:s,age:o,imageUrl:a}}generateAge(){return Math.floor(Math.random()*65)+18}generateFame(){return Math.floor(Math.random()*100)}generateFirstname(e){let n=e==="Homme"?this.maleFirstnames:this.femaleFirstnames;return n[Math.floor(Math.random()*n.length)]}generateGender(){return Math.random()>.5?"Homme":"Femme"}generateBio(e,n){return`Je suis ${e==="Homme"?"un":"une"} grand${e==="Homme"?"":"e"} fan de ${n[0].toLocaleLowerCase()}. ${n[1]?"J'aimerais rencontrer quelqu'un qui appr\xE9cie aussi tout ce qui est "+n[1].toLocaleLowerCase():""}`}generatePassions(){let e=[],n=["Balade \xE0 v\xE9lo","Balade en voiture","Balade \xE0 cheval","Tennis","Ping-pong","Jeux-vid\xE9os","Lecture","Les grosses voitures","Les \xE9checs","Le fromage","La planche \xE0 voile","La cuisine"],r=Math.floor(Math.random()*3)+1;for(let i=0;i<r;i++){let o=n[i];e.push(o)}return e}add(e){let n=this.generatePassions();console.log(n),this.friends.push({name:e,online:!0,bio:this.generateBio(this.generateGender(),n),passions:n,fame:this.generateFame(),age:this.generateAge(),imageUrl:"https://picsum.photos/456/"})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function SP(t,e){if(t&1&&(g(0,"p"),y(1),m()),t&2){let n=Tt();S(),Yc(" Vous avez ",n.PeopleService.friends.length," ami",n.PeopleService.friends.length>1?"s":"",`
`)}}function AP(t,e){if(t&1&&y(0),t&2){let n=Tt();Re("Vous avez ajout\xE9 ",n.newlyAddedFriend,"")}}function MP(t,e){if(t&1&&(g(0,"article"),M(1,"app-one-friend",6),m()),t&2){let n=e.$implicit;S(),J("friend",n)}}var Gl=class t{constructor(e){this.PeopleService=e}isDisabled=!1;textInput="";isClicked=!1;newlyAddedFriend="";ngOnInit(){setTimeout(()=>{this.isDisabled=!0},3e3)}handleClick=()=>{this.textInput&&(this.PeopleService.add(this.textInput),this.isClicked=!0,this.newlyAddedFriend=this.textInput,this.textInput="")};static \u0275fac=function(n){return new(n||t)(O(zl))};static \u0275cmp=A({type:t,selectors:[["app-list-friends"]],decls:17,vars:10,consts:[["newFriend",""],[3,"disabled"],["type","text",3,"ngModelChange","ngModel"],[4,"ngIf","ngIfElse"],[3,"click","disabled"],[4,"ngFor","ngForOf"],[3,"friend"]],template:function(n,r){if(n&1){let i=Kc();g(0,"h1"),y(1,"List friends (interpolation)"),m(),g(2,"button",1),y(3),m(),M(4,"hr"),g(5,"h2"),y(6),m(),g(7,"input",2),$e("ngModelChange",function(s){return Go(i),qe(r.textInput,s)||(r.textInput=s),qo(s)}),m(),M(8,"br"),Ee(9,SP,2,2,"p",3)(10,AP,1,1,"ng-template",null,0,ki),M(12,"br"),g(13,"button",4),le("click",function(){return Go(i),qo(r.handleClick())}),y(14),m(),g(15,"div"),Ee(16,MP,2,1,"article",5),m()}if(n&2){let i=xi(11);S(2),J("disabled",r.isDisabled),S(),Re(" ",r.isDisabled?"Clique pas":"Clique",`
`),S(3),Yc(" ",r.PeopleService.friends.length," ami",r.PeopleService.friends.length>0?"s":"",` \u{1F91D}
`),S(),Be("ngModel",r.textInput),S(2),J("ngIf",r.newlyAddedFriend.length===0)("ngIfElse",i),S(4),J("disabled",!r.textInput),S(),Re(" ",r.isClicked?"Ami ajout\xE9 !":"Aucun ami",`
`),S(2),J("ngForOf",r.PeopleService.friends)}},dependencies:[pt,zt,Wl,Kt,mt,qt,At],styles:["div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}button[_ngcontent-%COMP%]{background-color:brown;color:#fff;border:none;padding:.5rem 1rem;border-radius:.2rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#e7cf48}button[disabled][_ngcontent-%COMP%]{background-color:#413a3a;font-style:italic;cursor:not-allowed}"]})};var ql=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-interpolation"]],decls:1,vars:0,template:function(n,r){n&1&&M(0,"app-list-friends")},dependencies:[Gl],encapsulation:2})};var NP=()=>({backgroundColor:"aquamarine"}),RP=()=>({backgroundColor:"white"}),xP=t=>({classOn:t});function kP(t,e){t&1&&(g(0,"div")(1,"p"),y(2," Lorem ipsum dolor sit, amet consectetur adipisicing elit. At ipsam dolorum dignissimos corrupti harum itaque sit quas ab dolore pariatur, totam veniam incidunt suscipit obcaecati saepe, delectus perferendis consectetur impedit! "),m()())}function PP(t,e){if(t&1&&(g(0,"p",3),y(1),m()),t&2){let n=e.$implicit;J("ngStyle",n>4?mh(3,NP):mh(4,RP))("ngClass",Qc(5,xP,n>4)),S(),Re(" ",n,`
`)}}var Kl=class t{details=!1;array=[];toggleDetails(){this.details&&this.addCell(),this.details=!this.details}addCell(){this.array.push(this.array.length+1)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-directives"]],decls:6,vars:3,consts:[[3,"click"],[4,"ngIf"],[3,"ngStyle","ngClass",4,"ngFor","ngForOf"],[3,"ngStyle","ngClass"]],template:function(n,r){n&1&&(g(0,"button",0),le("click",function(){return r.toggleDetails()}),y(1),m(),M(2,"br"),Ee(3,kP,3,0,"div",1)(4,PP,2,7,"p",2),M(5,"br")),n&2&&(S(),Re(" ",r.details?"Masquer d\xE9tail":"Afficher d\xE9tails",`
`),S(2),J("ngIf",r.details),S(),J("ngForOf",r.array))},dependencies:[zt,pt,Li,el],styles:["button[_ngcontent-%COMP%]{background-color:#00f;color:#fff;width:100%;border:none;padding:1rem;border-radius:.2rem;font-size:large;font-family:Verdana,Geneva,Tahoma,sans-serif;cursor:pointer}.classOn[_ngcontent-%COMP%]{color:#fff}.classOff[_ngcontent-%COMP%]{color:#000}p[_ngcontent-%COMP%]{margin:0;padding:0}"]})};var Yl=class t{articleCreated=new ge;author="";title="";content="";createDocument(e){return{id:0,author:this.author,title:this.title,content:this.content,type:e,date:new Date}}addDocument(e){let n=e==="article"?this.createDocument("article"):this.createDocument("draft");this.articleCreated.emit({article:n})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-add-article"]],outputs:{articleCreated:"articleCreated"},decls:22,vars:3,consts:[["action",""],["for","title"],["type","text","id","title","placeholder","Votre titre","name","title",3,"ngModelChange","ngModel"],["for","author"],["type","text","id","author","placeholder","Auteur","name","author",3,"ngModelChange","ngModel"],["for","content"],["name","content","id","content","name","content",3,"ngModelChange","ngModel"],["type","button",3,"click"],[3,"click"]],template:function(n,r){n&1&&(g(0,"h2"),y(1,"Formulaire"),m(),g(2,"form",0)(3,"div")(4,"label",1),y(5,"Titre de l'article"),m(),M(6,"br"),g(7,"input",2),$e("ngModelChange",function(o){return qe(r.title,o)||(r.title=o),o}),m()(),g(8,"div")(9,"label",3),y(10,"Auteur"),m(),M(11,"br"),g(12,"input",4),$e("ngModelChange",function(o){return qe(r.author,o)||(r.author=o),o}),m()(),g(13,"div")(14,"label",5),y(15,"Contenu"),m(),M(16,"br"),g(17,"textarea",6),$e("ngModelChange",function(o){return qe(r.content,o)||(r.content=o),o}),m()(),g(18,"button",7),le("click",function(){return r.addDocument("article")}),y(19," Ajouter article "),m(),g(20,"button",8),le("click",function(){return r.addDocument("draft")}),y(21,"AjouterBrouillon"),m()()),n&2&&(S(7),Be("ngModel",r.title),S(5),Be("ngModel",r.author),S(5),Be("ngModel",r.content))},dependencies:[Kt,Xi,mt,qt,Ji,At,Mr],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;gap:1rem;background-color:#bd93e7;padding:2rem;border-radius:.2rem;margin:2rem}"]})};var Zl=class t{article;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-article-element"]],inputs:{article:"article"},decls:11,vars:5,consts:[[3,"ngClass"]],template:function(n,r){n&1&&(g(0,"article",0)(1,"header")(2,"h4"),y(3),m(),g(4,"time"),y(5),m()(),g(6,"p"),y(7),m(),g(8,"footer")(9,"address"),y(10),m()()()),n&2&&(J("ngClass",r.article.type==="draft"?"draft":""),S(3),Ne(r.article.title),S(2),Ne(r.article.date),S(2),Ne(r.article.content),S(3),Ne(r.article.author))},dependencies:[Li],styles:["header[_ngcontent-%COMP%]{background-color:#68eeeea8;padding:1rem}article[_ngcontent-%COMP%]{background-color:#68eeeea8;border-radius:.2rem;padding:1rem;margin:1rem}.draft[_ngcontent-%COMP%]{background-color:#d2e0e0a8}.draft[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{background-color:#d2e0e0a8}footer[_ngcontent-%COMP%]{margin-top:1rem;text-align:end}"]})};function OP(t,e){if(t&1&&M(0,"app-article-element",2),t&2){let n=e.$implicit;J("article",n)}}var Ql=class t{articles=[{id:1,title:"Mon premier article",content:"Ceci est le contenu de mon premier article.",author:"Auteur 1",date:new Date("2023-01-01"),type:"article"},{id:2,title:"Mon deuxi\xE8me article",content:"Ceci est le contenu de mon deuxi\xE8me article.",author:"Auteur 2",date:new Date("2023-02-01"),type:"brouillon"}];onArticleAdded(e){let n=e.article;this.articles.push(n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-blog-control-center"]],decls:4,vars:1,consts:[[3,"articleCreated"],[3,"article",4,"ngFor","ngForOf"],[3,"article"]],template:function(n,r){n&1&&(g(0,"app-add-article",0),le("articleCreated",function(o){return r.onArticleAdded(o)}),m(),g(1,"h2"),y(2,"Articles"),m(),Ee(3,OP,1,1,"app-article-element",1)),n&2&&(S(3),J("ngForOf",r.articles.reverse()))},dependencies:[Yl,Zl,zt],encapsulation:2})};var Jl=class t{card;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-card"]],inputs:{card:"card"},decls:4,vars:3,consts:[[3,"src","alt"]],template:function(n,r){n&1&&(g(0,"div")(1,"h2"),y(2),m(),M(3,"img",0),m()),n&2&&(S(2),Ne(r.card.name),S(),_r("src",r.card.image,Jo),_r("alt",r.card.name))},styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}img[_ngcontent-%COMP%]{width:24rem}"]})};var Xl=class t{apiUrl="https://db.ygoprodeck.com/api/v7/cardinfo.php?&startdate=2023-01-01&enddate=2024-08-23&dateregion=tcg";fetchCards(){return p(this,null,function*(){let e=this.apiUrl;try{let n=yield fetch(e);if(!n.ok)throw new Error(`Response status: ${n.status}`);return(yield n.json()).data}catch(n){console.error(n.message)}})}formatData(e){return e.map(n=>({id:n.id,name:n.name,image:n.card_images[0].image_url,level:n.level}))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};function LP(t,e){t&1&&(g(0,"p"),y(1,"Now loading..."),m())}function VP(t,e){if(t&1&&M(0,"app-card",3),t&2){let n=e.$implicit;J("card",n)}}function jP(t,e){if(t&1&&(g(0,"article"),Ee(1,VP,1,1,"app-card",2),m()),t&2){let n=Tt();S(),J("ngForOf",n.cards)}}var eu=class t{constructor(e){this.api=e}cards=[];isLoading=!1;errorMessage="";ngOnInit(){this.loadAPI()}loadAPI(){this.api.fetchCards().then(e=>{this.cards=this.api.formatData(e),this.isLoading=!1}).catch(e=>{this.errorMessage=e.message,this.isLoading=!1})}static \u0275fac=function(n){return new(n||t)(O(Xl))};static \u0275cmp=A({type:t,selectors:[["app-api"]],decls:5,vars:2,consts:[["render",""],[4,"ngIf","ngIfElse"],[3,"card",4,"ngFor","ngForOf"],[3,"card"]],template:function(n,r){if(n&1&&(g(0,"h1"),y(1,"Yu-Gi-Oh!"),m(),Ee(2,LP,2,0,"p",1)(3,jP,2,1,"ng-template",null,0,ki)),n&2){let i=xi(4);S(2),J("ngIf",r.isLoading)("ngIfElse",i)}},dependencies:[zt,Jl,pt],styles:["h1[_ngcontent-%COMP%]{text-align:center;background-color:#5a5ad6;color:#fff;padding:1rem;border-radius:.3rem;box-shadow:1px 1px 5px #000;-webkit-user-select:none;user-select:none}article[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center;gap:1rem}"]})};var Mp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var I=function(t,e){if(!t)throw Nr(e)},Nr=function(t){return new Error("Firebase Database ("+Mp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var zI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},UP=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},no={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Np;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let v=l<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Np=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},xp=function(t){let e=zI(t);return no.encodeByteArray(e,!0)},Rs=function(t){return xp(t).replace(/\./g,"")},eo=function(t){try{return no.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function GI(t){return qI(void 0,t)}function qI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!BP(n)||(t[n]=qI(t[n],e[n]));return t}function BP(t){return t!=="__proto__"}function KI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $P=()=>KI().__FIREBASE_DEFAULTS__,HP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&eo(t[1]);return e&&JSON.parse(e)},kp=()=>{try{return $P()||HP()||WP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pp=t=>{var e,n;return(n=(e=kp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YI=t=>{let e=Pp(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Op=()=>{var t;return(t=kp())===null||t===void 0?void 0:t.config},Fp=t=>{var e;return(e=kp())===null||e===void 0?void 0:e[`_${t}`]};var Yt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ZI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rs(JSON.stringify(n)),Rs(JSON.stringify(s)),""].join(".")}function xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xs(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function QI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XI(){let t=xe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Zt(){return Mp.NODE_CLIENT===!0||Mp.NODE_ADMIN===!0}function ru(){try{return typeof indexedDB=="object"}catch{return!1}}function eC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var zP="FirebaseError",Mt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zP,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nt.prototype.create)}},Nt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?GP(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mt(i,a,r)}};function GP(t,e){return t.replace(qP,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var qP=/\{\$([^}]+)}/g;function to(t){return JSON.parse(t)}function Ie(t){return JSON.stringify(t)}var tC=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=to(eo(o[0])||""),n=to(eo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var nC=function(t){let e=tC(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},rC=function(t){let e=tC(t).claims;return typeof e=="object"&&e.admin===!0};function Qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function ks(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ps(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ro(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(WI(o)&&WI(s)){if(!ro(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function WI(t){return t!==null&&typeof t=="object"}function xr(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function io(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function oo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var tu=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function iC(t,e){let n=new Rp(t,e);return n.subscribe.bind(n)}var Rp=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ap),i.error===void 0&&(i.error=Ap),i.complete===void 0&&(i.complete=Ap);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function KP(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ap(){}function oC(t,e){return`${t} failed: ${e} argument `}var sC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,I(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Os=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var Xq=4*60*60*1e3;function ot(t){return t&&t._delegate?t._delegate:t}var He=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var kr="[DEFAULT]";var iu=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Yt;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZP(e))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=kr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return p(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=kr){return this.instances.has(e)}getOptions(e=kr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=kr){return this.component?this.component.multipleInstances?e:kr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YP(t){return t===kr?void 0:t}function ZP(t){return t.instantiationMode==="EAGER"}var Fs=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new iu(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var QP=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),JP={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},XP=ee.INFO,eO={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},tO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=eO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Jt=class{constructor(e){this.name=e,this._logLevel=XP,this._logHandler=tO,this._userLogHandler=null,QP.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var nO=(t,e)=>e.some(n=>t instanceof n),aC,cC;function rO(){return aC||(aC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iO(){return cC||(cC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var lC=new WeakMap,Vp=new WeakMap,uC=new WeakMap,Lp=new WeakMap,Up=new WeakMap;function oO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Xt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&lC.set(n,t)}).catch(()=>{}),Up.set(e,t),e}function sO(t){if(Vp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Vp.set(t,e)}var jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dC(t){jp=t(jp)}function aO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ou(this),e,...n);return uC.set(r,e.sort?e.sort():[e]),Xt(r)}:iO().includes(t)?function(...e){return t.apply(ou(this),e),Xt(lC.get(this))}:function(...e){return Xt(t.apply(ou(this),e))}}function cO(t){return typeof t=="function"?aO(t):(t instanceof IDBTransaction&&sO(t),nO(t,rO())?new Proxy(t,jp):t)}function Xt(t){if(t instanceof IDBRequest)return oO(t);if(Lp.has(t))return Lp.get(t);let e=cO(t);return e!==t&&(Lp.set(t,e),Up.set(e,t)),e}var ou=t=>Up.get(t);function hC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Xt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Xt(s.result),c.oldVersion,c.newVersion,Xt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var lO=["get","getKey","getAll","getAllKeys","count"],uO=["put","add","delete","clear"],Bp=new Map;function fC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bp.get(e))return Bp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=uO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lO.includes(n)))return;let o=function(s,...a){return p(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Bp.set(e,o),o}dC(t=>$(w({},t),{get:(e,n,r)=>fC(e,n)||t.get(e,n,r),has:(e,n)=>!!fC(e,n)||t.has(e,n)}));var Hp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function dO(t){let e=t.getComponent();return e?.type==="VERSION"}var Wp="@firebase/app",pC="0.11.1";var yn=new Jt("@firebase/app"),fO="@firebase/app-compat",hO="@firebase/analytics-compat",pO="@firebase/analytics",gO="@firebase/app-check-compat",mO="@firebase/app-check",vO="@firebase/auth",yO="@firebase/auth-compat",_O="@firebase/database",EO="@firebase/data-connect",wO="@firebase/database-compat",IO="@firebase/functions",CO="@firebase/functions-compat",DO="@firebase/installations",bO="@firebase/installations-compat",TO="@firebase/messaging",SO="@firebase/messaging-compat",AO="@firebase/performance",MO="@firebase/performance-compat",NO="@firebase/remote-config",RO="@firebase/remote-config-compat",xO="@firebase/storage",kO="@firebase/storage-compat",PO="@firebase/firestore",OO="@firebase/vertexai",FO="@firebase/firestore-compat",LO="firebase",VO="11.3.1";var zp="[DEFAULT]",jO={[Wp]:"fire-core",[fO]:"fire-core-compat",[pO]:"fire-analytics",[hO]:"fire-analytics-compat",[mO]:"fire-app-check",[gO]:"fire-app-check-compat",[vO]:"fire-auth",[yO]:"fire-auth-compat",[_O]:"fire-rtdb",[EO]:"fire-data-connect",[wO]:"fire-rtdb-compat",[IO]:"fire-fn",[CO]:"fire-fn-compat",[DO]:"fire-iid",[bO]:"fire-iid-compat",[TO]:"fire-fcm",[SO]:"fire-fcm-compat",[AO]:"fire-perf",[MO]:"fire-perf-compat",[NO]:"fire-rc",[RO]:"fire-rc-compat",[xO]:"fire-gcs",[kO]:"fire-gcs-compat",[PO]:"fire-fst",[FO]:"fire-fst-compat",[OO]:"fire-vertex","fire-js":"fire-js",[LO]:"fire-js-all"};var Ls=new Map,UO=new Map,Gp=new Map;function gC(t,e){try{t.container.addComponent(e)}catch(n){yn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Rt(t){let e=t.name;if(Gp.has(e))return yn.debug(`There were multiple attempts to register component ${e}.`),!1;Gp.set(e,t);for(let n of Ls.values())gC(n,t);for(let n of UO.values())gC(n,t);return!0}function so(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ye(t){return t==null?!1:t.settings!==void 0}var BO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new Nt("app","Firebase",BO);var qp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new He("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}};var Gn=VO;function Zp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:zp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw zn.create("bad-app-name",{appName:String(i)});if(n||(n=Op()),!n)throw zn.create("no-options");let o=Ls.get(i);if(o){if(ro(n,o.options)&&ro(r,o.config))return o;throw zn.create("duplicate-app",{appName:i})}let s=new Fs(i);for(let c of Gp.values())s.addComponent(c);let a=new qp(n,r,s);return Ls.set(i,a),a}function Pr(t=zp){let e=Ls.get(t);if(!e&&t===zp&&Op())return Zp();if(!e)throw zn.create("no-app",{appName:t});return e}function su(){return Array.from(Ls.values())}function fe(t,e,n){var r;let i=(r=jO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yn.warn(a.join(" "));return}Rt(new He(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var $O="firebase-heartbeat-database",HO=1,Vs="firebase-heartbeat-store",$p=null;function _C(){return $p||($p=hC($O,HO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vs)}catch(n){console.warn(n)}}}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),$p}function WO(t){return p(this,null,function*(){try{let n=(yield _C()).transaction(Vs),r=yield n.objectStore(Vs).get(EC(t));return yield n.done,r}catch(e){if(e instanceof Mt)yn.warn(e.message);else{let n=zn.create("idb-get",{originalErrorMessage:e?.message});yn.warn(n.message)}}})}function mC(t,e){return p(this,null,function*(){try{let r=(yield _C()).transaction(Vs,"readwrite");yield r.objectStore(Vs).put(e,EC(t)),yield r.done}catch(n){if(n instanceof Mt)yn.warn(n.message);else{let r=zn.create("idb-set",{originalErrorMessage:n?.message});yn.warn(r.message)}}})}function EC(t){return`${t.name}!${t.options.appId}`}var zO=1024,GO=30,Kp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Yp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return p(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>GO){let s=KO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yn.warn(r)}})}getHeartbeatsHeader(){return p(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=vC(),{heartbeatsToSend:r,unsentEntries:i}=qO(this._heartbeatsCache.heartbeats),o=Rs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return yn.warn(n),""}})}};function vC(){return new Date().toISOString().substring(0,10)}function qO(t,e=zO){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),yC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),yC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Yp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return p(this,null,function*(){return ru()?eC().then(()=>!0).catch(()=>!1):!1})}read(){return p(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield WO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return p(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function yC(t){return Rs(JSON.stringify({version:2,heartbeats:t})).length}function KO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function YO(t){Rt(new He("platform-logger",e=>new Hp(e),"PRIVATE")),Rt(new He("heartbeat",e=>new Kp(e),"PRIVATE")),fe(Wp,pC,t),fe(Wp,pC,"esm2017"),fe("fire-js","")}YO("");function FC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var LC=FC,VC=new Nt("auth","Firebase",FC());var fu=new Jt("@firebase/auth");function ZO(t,...e){fu.logLevel<=ee.WARN&&fu.warn(`Auth (${Gn}): ${t}`,...e)}function cu(t,...e){fu.logLevel<=ee.ERROR&&fu.error(`Auth (${Gn}): ${t}`,...e)}function tn(t,...e){throw wg(t,...e)}function Or(t,...e){return wg(t,...e)}function jC(t,e,n){let r=Object.assign(Object.assign({},LC()),{[e]:n});return new Nt("auth","Firebase",r).create(e,{appName:t.name})}function wn(t){return jC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VC.create(t,...e)}function N(t,e,...n){if(!t)throw wg(e,...n)}function _n(t){let e="INTERNAL ASSERTION FAILED: "+t;throw cu(e),new Error(e)}function Kn(t,e){t||_n(e)}function eg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QO(){return wC()==="http:"||wC()==="https:"}function wC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function JO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QO()||JI()||"connection"in navigator)?navigator.onLine:!0}function XO(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Fr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Kn(n>e,"Short delay should be less than long delay!"),this.isMobile=xs()||nu()}get(){return JO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ig(t,e){Kn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hu=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var eF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var tF=new Fr(3e4,6e4);function Yn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Zn(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){return UC(t,i,()=>p(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=xr(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return QI()||(h.referrerPolicy="no-referrer"),hu.fetch()(BC(t,t.config.apiHost,n,d),h)}))})}function UC(t,e,n){return p(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},eF),e);try{let i=new tg(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw au(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw au(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw au(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw jC(t,u,l);tn(t,u)}}catch(i){if(i instanceof Mt)throw i;tn(t,"network-request-failed",{message:String(i)})}})}function qs(o,s,a,c){return p(this,arguments,function*(t,e,n,r,i={}){let l=yield Zn(t,e,n,r,i);return"mfaPendingCredential"in l&&tn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function BC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Ig(t.config,i):`${t.config.apiScheme}://${i}`}function nF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var tg=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),tF.get())})}};function au(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Or(t,e,r);return i.customData._tokenResponse=n,i}function IC(t){return t!==void 0&&t.enterprise!==void 0}var ng=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function rF(t,e){return p(this,null,function*(){return Zn(t,"GET","/v2/recaptchaConfig",Yn(t,e))})}function iF(t,e){return p(this,null,function*(){return Zn(t,"POST","/v1/accounts:delete",e)})}function $C(t,e){return p(this,null,function*(){return Zn(t,"POST","/v1/accounts:lookup",e)})}function Us(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Cg(t,e=!1){return p(this,null,function*(){let n=ot(t),r=yield n.getIdToken(e),i=Dg(r);N(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Us(Qp(i.auth_time)),issuedAtTime:Us(Qp(i.iat)),expirationTime:Us(Qp(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Qp(t){return Number(t)*1e3}function Dg(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cu("JWT malformed, contained fewer than 3 sections"),null;try{let i=eo(n);return i?JSON.parse(i):(cu("Failed to decode base64 JWT payload"),null)}catch(i){return cu("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CC(t){let e=Dg(t);return N(e,"internal-error"),N(typeof e.exp<"u","internal-error"),N(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function $s(t,e,n=!1){return p(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Mt&&oF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function oF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var rg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>p(this,null,function*(){yield this.iteration()}),n)}iteration(){return p(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Hs=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Us(this.lastLoginAt),this.creationTime=Us(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function pu(t){return p(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield $s(t,$C(n,{idToken:r}));N(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?HC(o.providerUserInfo):[],a=sF(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hs(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function bg(t){return p(this,null,function*(){let e=ot(t);yield pu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function sF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function HC(t){return t.map(e=>{var{providerId:n}=e,r=Id(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function aF(t,e){return p(this,null,function*(){let n=yield UC(t,{},()=>p(this,null,function*(){let r=xr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=BC(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hu.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function cF(t,e){return p(this,null,function*(){return Zn(t,"POST","/v2/accounts:revokeToken",Yn(t,e))})}var Bs=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){N(e.idToken,"internal-error"),N(typeof e.idToken<"u","internal-error"),N(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){N(e.length!==0,"internal-error");let n=CC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return p(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(N(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return p(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield aF(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(N(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(N(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(N(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _n("not implemented")}};function qn(t,e){N(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ao=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Id(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return p(this,null,function*(){let n=yield $s(this,this.stsTokenManager.getToken(this.auth,e));return N(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Cg(this,e)}reload(){return bg(this)}_assign(e){this!==e&&(N(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return p(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield pu(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return p(this,null,function*(){if(Ye(this.auth.app))return Promise.reject(wn(this.auth));let e=yield this.getIdToken();return yield $s(this,iF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,E=(a=n.tenantId)!==null&&a!==void 0?a:void 0,D=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Ae=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:G,emailVerified:Fe,isAnonymous:Yr,providerData:bn,stsTokenManager:ev}=n;N(G&&ev,e,"internal-error");let ST=Bs.fromJSON(this.name,ev);N(typeof G=="string",e,"internal-error"),qn(d,e.name),qn(f,e.name),N(typeof Fe=="boolean",e,"internal-error"),N(typeof Yr=="boolean",e,"internal-error"),qn(h,e.name),qn(v,e.name),qn(E,e.name),qn(D,e.name),qn(F,e.name),qn(Ae,e.name);let nd=new t({uid:G,auth:e,email:f,emailVerified:Fe,displayName:d,isAnonymous:Yr,photoURL:v,phoneNumber:h,tenantId:E,stsTokenManager:ST,createdAt:F,lastLoginAt:Ae});return bn&&Array.isArray(bn)&&(nd.providerData=bn.map(AT=>Object.assign({},AT))),D&&(nd._redirectEventId=D),nd}static _fromIdTokenResponse(e,n,r=!1){return p(this,null,function*(){let i=new Bs;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pu(o),o})}static _fromGetAccountInfoResponse(e,n,r){return p(this,null,function*(){let i=n.users[0];N(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?HC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Bs;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Hs(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var DC=new Map;function En(t){Kn(t instanceof Function,"Expected a class definition");let e=DC.get(t);return e?(Kn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DC.set(t,e),e)}var lF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return p(this,null,function*(){return!0})}_set(n,r){return p(this,null,function*(){this.storage[n]=r})}_get(n){return p(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return p(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ig=lF;function lu(t,e,n){return`firebase:${t}:${e}:${n}`}var gu=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=lu(this.userKey,i.apiKey,o),this.fullPersistenceKey=lu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return p(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ao._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return p(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return p(this,null,function*(){if(!n.length)return new t(En(ig),e,r);let i=(yield Promise.all(n.map(l=>p(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||En(ig),s=lu(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=ao._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>p(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function bC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YC(e))return"Blackberry";if(ZC(e))return"Webos";if(zC(e))return"Safari";if((e.includes("chrome/")||GC(e))&&!e.includes("edge/"))return"Chrome";if(KC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function WC(t=xe()){return/firefox\//i.test(t)}function zC(t=xe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GC(t=xe()){return/crios\//i.test(t)}function qC(t=xe()){return/iemobile/i.test(t)}function KC(t=xe()){return/android/i.test(t)}function YC(t=xe()){return/blackberry/i.test(t)}function ZC(t=xe()){return/webos/i.test(t)}function Tg(t=xe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uF(t=xe()){var e;return Tg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dF(){return XI()&&document.documentMode===10}function QC(t=xe()){return Tg(t)||KC(t)||ZC(t)||YC(t)||/windows phone/i.test(t)||qC(t)}function JC(t,e=[]){let n;switch(t){case"Browser":n=bC(xe());break;case"Worker":n=`${bC(xe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gn}/${r}`}var og=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return p(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function fF(n){return p(this,arguments,function*(t,e={}){return Zn(t,"GET","/v2/passwordPolicy",Yn(t,e))})}var hF=6,sg=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:hF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ag=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mu(this),this.idTokenSubscription=new mu(this),this.beforeStateQueue=new og(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=En(n)),this._initializationPromise=this.queue(()=>p(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield gu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return p(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return p(this,null,function*(){try{let n=yield $C(this,{idToken:e}),r=yield ao._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return p(this,null,function*(){var n;if(Ye(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return N(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return p(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return p(this,null,function*(){try{yield pu(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=XO()}_delete(){return p(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return p(this,null,function*(){if(Ye(this.app))return Promise.reject(wn(this));let n=e?ot(e):null;return n&&N(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return p(this,null,function*(){if(!this._deleted)return e&&N(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>p(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return p(this,null,function*(){return Ye(this.app)?Promise.reject(wn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Ye(this.app)?Promise.reject(wn(this)):this.queue(()=>p(this,null,function*(){yield this.assertedPersistence.setPersistence(En(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return p(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return p(this,null,function*(){let e=yield fF(this),n=new sg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return p(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield cF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return p(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return p(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&En(e)||this._popupRedirectResolver;N(n,this,"argument-error"),this.redirectPersistenceManager=yield gu.create(this,[En(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return p(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>p(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return p(this,null,function*(){if(e===this.currentUser)return this.queue(()=>p(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(N(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return p(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return p(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return p(this,null,function*(){var e;if(Ye(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&ZO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Vr(t){return ot(t)}var mu=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=iC(n=>this.observer=n)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Cu={loadJS(){return p(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pF(t){Cu=t}function XC(t){return Cu.loadJS(t)}function gF(){return Cu.recaptchaEnterpriseScript}function mF(){return Cu.gapiScript}function eD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var cg=class{constructor(){this.enterprise=new lg}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},lg=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var vF="recaptcha-enterprise",tD="NO_RECAPTCHA",ug=class{constructor(e){this.type=vF,this.auth=Vr(e)}verify(e="verify",n=!1){return p(this,null,function*(){function r(o){return p(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>p(this,null,function*(){rF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ng(c);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(c=>{a(c)})}))})}function i(o,s,a){let c=window.grecaptcha;IC(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(tD)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cg().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&IC(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=gF();c.length!==0&&(c+=a),XC(c).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function js(t,e,n,r=!1,i=!1){return p(this,null,function*(){let o=new ug(t),s;if(i)s=tD;else try{s=yield o.verify(n)}catch{s=yield o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function dg(t,e,n,r,i){return p(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield js(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(a=>p(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=yield js(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield js(t,e,n);return r(t,a).catch(c=>p(this,null,function*(){var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let u=yield js(t,e,n,!1,!0);return r(t,u)}return Promise.reject(c)}))}else{let a=yield js(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")})}function Sg(t,e){let n=so(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(ro(o,e??{}))return i;tn(i,"already-initialized")}return n.initialize({options:e})}function yF(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(En);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ag(t,e,n){let r=Vr(t);N(r._canInitEmulator,r,"emulator-config-failed"),N(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=nD(e),{host:s,port:a}=_F(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||EF()}function nD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _F(t){let e=nD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:TC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:TC(s)}}}function TC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function EF(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ws=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _n("not implemented")}_getIdTokenResponse(e){return _n("not implemented")}_linkToIdToken(e,n){return _n("not implemented")}_getReauthenticationResolver(e){return _n("not implemented")}};function wF(t,e){return p(this,null,function*(){return Zn(t,"POST","/v1/accounts:signUp",e)})}function IF(t,e){return p(this,null,function*(){return qs(t,"POST","/v1/accounts:signInWithPassword",Yn(t,e))})}function CF(t,e){return p(this,null,function*(){return qs(t,"POST","/v1/accounts:signInWithEmailLink",Yn(t,e))})}function DF(t,e){return p(this,null,function*(){return qs(t,"POST","/v1/accounts:signInWithEmailLink",Yn(t,e))})}var zs=class t extends Ws{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return p(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dg(e,n,"signInWithPassword",IF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return CF(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}})}_linkToIdToken(e,n){return p(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dg(e,r,"signUpPassword",wF,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return DF(e,{idToken:n,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Jp(t,e){return p(this,null,function*(){return qs(t,"POST","/v1/accounts:signInWithIdp",Yn(t,e))})}function bF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TF(t){let e=io(oo(t)).link,n=e?io(oo(e)).deep_link_id:null,r=io(oo(t)).deep_link_id;return(r?io(oo(r)).link:null)||r||n||e||t}var vu=class t{constructor(e){var n,r,i,o,s,a;let c=io(oo(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,d=bF((i=c.mode)!==null&&i!==void 0?i:null);N(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=c.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=TF(e);try{return new t(n)}catch{return null}}};var rD=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return zs._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=vu.parseLink(r);return N(i,"argument-error"),zs._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),yu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var fg=class extends yu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function SF(t,e){return p(this,null,function*(){return qs(t,"POST","/v1/accounts:signUp",Yn(t,e))})}var co=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return p(this,null,function*(){let o=yield ao._fromIdTokenResponse(e,r,i),s=SC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return p(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=SC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function SC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var hg=class t extends Mt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function iD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hg._fromErrorAndOperation(t,o,e,r):o})}function AF(t,e,n=!1){return p(this,null,function*(){let r=yield $s(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return co._forOperation(t,"link",r)})}function MF(t,e,n=!1){return p(this,null,function*(){let{auth:r}=t;if(Ye(r.app))return Promise.reject(wn(r));let i="reauthenticate";try{let o=yield $s(t,iD(r,i,e,t),n);N(o.idToken,r,"internal-error");let s=Dg(o.idToken);N(s,r,"internal-error");let{sub:a}=s;return N(t.uid===a,r,"user-mismatch"),co._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&tn(r,"user-mismatch"),o}})}function oD(t,e,n=!1){return p(this,null,function*(){if(Ye(t.app))return Promise.reject(wn(t));let r="signIn",i=yield iD(t,r,e),o=yield co._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Mg(t,e){return p(this,null,function*(){return oD(Vr(t),e)})}function sD(t){return p(this,null,function*(){let e=Vr(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Du(t,e,n){return p(this,null,function*(){if(Ye(t.app))return Promise.reject(wn(t));let r=Vr(t),s=yield dg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",SF,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&sD(t),c}),a=yield co._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function bu(t,e,n){return Ye(t.app)?Promise.reject(wn(t)):Mg(ot(t),rD.credential(e,n)).catch(r=>p(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&sD(t),r}))}function Ng(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function Rg(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function Tu(t){return ot(t).signOut()}var _u="__sak";var Eu=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var NF=1e3,RF=10,xF=(()=>{class t extends Eu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);dF()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,RF):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},NF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return p(this,null,function*(){yield nr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return p(this,null,function*(){let r=yield nr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return p(this,null,function*(){yield nr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),aD=xF;var kF=(()=>{class t extends Eu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),xg=kF;function PF(t){return Promise.all(t.map(e=>p(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var OF=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return p(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(u=>p(this,null,function*(){return u(r.origin,s)})),l=yield PF(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function cD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var pg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return p(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let l=cD("",20);i.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function en(){return window}function FF(t){en().location.href=t}function lD(){return typeof en().WorkerGlobalScope<"u"&&typeof en().importScripts=="function"}function LF(){return p(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function VF(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jF(){return lD()?self:null}var uD="firebaseLocalStorageDb",UF=1,wu="firebaseLocalStorage",dD="fbase_key",Lr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Su(t,e){return t.transaction([wu],e?"readwrite":"readonly").objectStore(wu)}function BF(){let t=indexedDB.deleteDatabase(uD);return new Lr(t).toPromise()}function gg(){let t=indexedDB.open(uD,UF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(wu,{keyPath:dD})}catch(i){n(i)}}),t.addEventListener("success",()=>p(this,null,function*(){let r=t.result;r.objectStoreNames.contains(wu)?e(r):(r.close(),yield BF(),e(yield gg()))}))})}function AC(t,e,n){return p(this,null,function*(){let r=Su(t,!0).put({[dD]:e,value:n});return new Lr(r).toPromise()})}function $F(t,e){return p(this,null,function*(){let n=Su(t,!1).get(e),r=yield new Lr(n).toPromise();return r===void 0?null:r.value})}function MC(t,e){let n=Su(t,!0).delete(e);return new Lr(n).toPromise()}var HF=800,WF=3,zF=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return p(this,null,function*(){return this.db?this.db:(this.db=yield gg(),this.db)})}_withRetries(n){return p(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>WF)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return p(this,null,function*(){return lD()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return p(this,null,function*(){this.receiver=OF._getInstance(jF()),this.receiver._subscribe("keyChanged",(n,r)=>p(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>p(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return p(this,null,function*(){var n,r;if(this.activeServiceWorker=yield LF(),!this.activeServiceWorker)return;this.sender=new pg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return p(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||VF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return p(this,null,function*(){try{if(!indexedDB)return!1;let n=yield gg();return yield AC(n,_u,"1"),yield MC(n,_u),!0}catch{}return!1})}_withPendingWrite(n){return p(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(i=>AC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return p(this,null,function*(){let r=yield this._withRetries(i=>$F(i,n));return this.localCache[n]=r,r})}_remove(n){return p(this,null,function*(){return this._withPendingWrite(()=>p(this,null,function*(){return yield this._withRetries(r=>MC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return p(this,null,function*(){let n=yield this._withRetries(o=>{let s=Su(o,!1).getAll();return new Lr(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>p(this,null,function*(){return this._poll()}),HF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),fD=zF;var T8=eD("rcb"),S8=new Fr(3e4,6e4);function GF(t,e){return e?En(e):(N(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Gs=class extends Ws{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jp(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function qF(t){return oD(t.auth,new Gs(t),t.bypassAuthState)}function KF(t){let{auth:e,user:n}=t;return N(n,e,"internal-error"),MF(n,new Gs(t),t.bypassAuthState)}function YF(t){return p(this,null,function*(){let{auth:e,user:n}=t;return N(n,e,"internal-error"),AF(n,new Gs(t),t.bypassAuthState)})}var mg=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>p(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return p(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qF;case"linkViaPopup":case"linkViaRedirect":return YF;case"reauthViaPopup":case"reauthViaRedirect":return KF;default:tn(this.auth,"internal-error")}}resolve(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var A8=new Fr(2e3,1e4);var ZF="pendingRedirect",uu=new Map,vg=class t extends mg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return p(this,null,function*(){let e=uu.get(this.auth._key());if(!e){try{let r=(yield QF(this.resolver,this.auth))?yield nr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uu.set(this.auth._key(),e)}return this.bypassAuthState||uu.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return p(this,null,function*(){if(e.type==="signInViaRedirect")return nr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,nr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return p(this,null,function*(){})}cleanUp(){}};function QF(t,e){return p(this,null,function*(){let n=eL(e),r=XF(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function JF(t,e){uu.set(t._key(),e)}function XF(t){return En(t._redirectPersistence)}function eL(t){return lu(ZF,t.config.apiKey,t.name)}function tL(t,e,n=!1){return p(this,null,function*(){if(Ye(t.app))return Promise.reject(wn(t));let r=Vr(t),i=GF(r,e),s=yield new vg(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var nL=10*60*1e3,yg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nL&&this.cachedEventUids.clear(),this.cachedEventUids.has(NC(e))}saveEventToCache(e){this.cachedEventUids.add(NC(e)),this.lastProcessedEventTime=Date.now()}};function NC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function rL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hD(t);default:return!1}}function iL(n){return p(this,arguments,function*(t,e={}){return Zn(t,"GET","/v1/projects",e)})}var oL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sL=/^https?/;function aL(t){return p(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield iL(t);for(let n of e)try{if(cL(n))return}catch{}tn(t,"unauthorized-domain")})}function cL(t){let e=eg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!sL.test(n))return!1;if(oL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var lL=new Fr(3e4,6e4);function RC(){let t=en().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uL(t){return new Promise((e,n)=>{var r,i,o;function s(){RC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RC(),n(Or(t,"network-request-failed"))},timeout:lL.get()})}if(!((i=(r=en().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=en().gapi)===null||o===void 0)&&o.load)s();else{let a=eD("iframefcb");return en()[a]=()=>{gapi.load?s():n(Or(t,"network-request-failed"))},XC(`${mF()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw du=null,e})}var du=null;function dL(t){return du=du||uL(t),du}var fL=new Fr(5e3,15e3),hL="__/auth/iframe",pL="emulator/auth/iframe",gL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vL(t){let e=t.config;N(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Ig(e,pL):`https://${t.config.authDomain}/${hL}`,r={apiKey:e.apiKey,appName:t.name,v:Gn},i=mL.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xr(r).slice(1)}`}function yL(t){return p(this,null,function*(){let e=yield dL(t),n=en().gapi;return N(n,t,"internal-error"),e.open({where:document.body,url:vL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gL,dontclear:!0},r=>new Promise((i,o)=>p(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Or(t,"network-request-failed"),a=en().setTimeout(()=>{o(s)},fL.get());function c(){en().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var _L={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EL=500,wL=600,IL="_blank",CL="http://localhost",Iu=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function DL(t,e,n,r=EL,i=wL){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},_L),{width:r.toString(),height:i.toString(),top:o,left:s}),l=xe().toLowerCase();n&&(a=GC(l)?IL:n),WC(l)&&(e=e||CL,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,v])=>`${f}${h}=${v},`,"");if(uF(l)&&a!=="_self")return bL(e||"",a),new Iu(null);let d=window.open(e||"",a,u);N(d,t,"popup-blocked");try{d.focus()}catch{}return new Iu(d)}function bL(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var TL="__/auth/handler",SL="emulator/auth/handler",AL=encodeURIComponent("fac");function xC(t,e,n,r,i,o){return p(this,null,function*(){N(t.config.authDomain,t,"auth-domain-config-required"),N(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gn,eventId:i};if(e instanceof yu){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",ks(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof fg){let u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield t._getAppCheckToken(),l=c?`#${AL}=${encodeURIComponent(c)}`:"";return`${ML(t)}?${xr(a).slice(1)}${l}`})}function ML({config:t}){return t.emulator?Ig(t,SL):`https://${t.authDomain}/${TL}`}var Xp="webStorageSupport",_g=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xg,this._completeRedirectFn=tL,this._overrideRedirectResult=JF}_openPopup(e,n,r,i){return p(this,null,function*(){var o;Kn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield xC(e,n,r,eg(),i);return DL(e,s,cD())})}_openRedirect(e,n,r,i){return p(this,null,function*(){yield this._originValidation(e);let o=yield xC(e,n,r,eg(),i);return FF(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Kn(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return p(this,null,function*(){let n=yield yL(e),r=new yg(e);return n.register("authEvent",i=>(N(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xp,{type:Xp},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Xp];s!==void 0&&n(!!s),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QC()||zC()||Tg()}},pD=_g;var kC="@firebase/auth",PC="1.9.0";var Eg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return p(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function NL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RL(t){Rt(new He("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;N(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JC(t)},l=new ag(r,i,o,c);return yF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Rt(new He("auth-internal",e=>{let n=Vr(e.getProvider("auth").getImmediate());return(r=>new Eg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fe(kC,PC,NL(t)),fe(kC,PC,"esm2017")}var xL=5*60,kL=Fp("authIdTokenMaxAge")||xL,OC=null,PL=t=>e=>p(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kL)return;let i=n?.token;OC!==i&&(OC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Ks(t=Pr()){let e=so(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Sg(t,{popupRedirectResolver:pD,persistence:[fD,aD,xg]}),r=Fp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=PL(o.toString());Rg(n,s,()=>s(n.currentUser)),Ng(n,a=>s(a))}}let i=Pp("auth");return i&&Ag(n,`http://${i}`),n}function OL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Or("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",OL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RL("Browser");var Au=class t{auth=Ks();static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-firebase"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"p"),y(1,"firebase works!"),m())},encapsulation:2})};var D1="firebase",b1="11.3.1";fe(D1,b1,"app");function kg(t){t===void 0&&(n_(kg),t=_(_e));let e=t.get(jc);return n=>new j(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Qn=new ln("ANGULARFIRE2_VERSION");function Ys(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var uo=(t,e)=>{let n=e?[e]:su(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},lo=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(lo||{}),gD=_h()&&typeof Zone<"u"?lo.WARN:lo.SILENT;var Mu=class{zone;delegate;constructor(e,n=wd){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Jn=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=_(te);this.outsideAngular=n.runOutsideAngular(()=>new Mu(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Mu(typeof Zone>"u"?void 0:Zone.current,Ed))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mD=!1;function T1(t,e){!mD&&(gD>lo.SILENT||_h())&&(mD=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),gD>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function S1(t){let e=_(te,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function jr(t){let e=_(te,{optional:!0});return e?e.run(()=>t()):t()}var A1=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),be(n,()=>jr(()=>t.apply(void 0,r)))),Ur=(t,e,n)=>(n||=e?lo.WARN:lo.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=_(Jn),s=_(jc),a=_(Me)}catch{return T1(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=jr(()=>s.add())),i[l]=A1(i[l],r,a));let c=S1(()=>t.apply(this,i));return e?c instanceof j?c.pipe(An(o.outsideAngular),Sn(o.insideAngular),kg(a)):c instanceof Promise?jr(()=>new Promise((l,u)=>{s.run(()=>c).then(d=>be(a,()=>jr(()=>l(d))),d=>be(a,()=>jr(()=>u(d))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:jr(()=>c):c instanceof j?c.pipe(An(o.outsideAngular),Sn(o.insideAngular)):jr(()=>c)});var In=class{constructor(e){return e}},Br=class{constructor(){return su()}};function M1(t){return t&&t.length===1?t[0]:new In(Pr())}var Pg=new b("angularfire2._apps"),N1={provide:In,useFactory:M1,deps:[[new Ue,Pg]]},R1={provide:Br,deps:[[new Ue,Pg]]};function x1(t){return(e,n)=>{let r=n.get(hn);fe("angularfire",Qn.full,"core"),fe("angularfire",Qn.full,"app"),fe("angular",XE.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new In(i)}}function vD(t,...e){return ht([N1,R1,{provide:Pg,useFactory:x1(t),multi:!0,deps:[te,_e,Jn,...e]}])}var yD=Ur(Zp,!0);var k1=new Map,P1={activated:!1,tokenObservers:[]},O1={initialized:!1,enabled:!1};function xt(t){return k1.get(t)||Object.assign({},P1)}function CD(){return O1}var F1="https://content-firebaseappcheck.googleapis.com/v1";var L1="exchangeDebugToken",_D={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},G4=24*60*60*1e3;var Fg=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return p(this,null,function*(){this.stop();try{this.pending=new Yt,this.pending.promise.catch(n=>{}),yield V1(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Yt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function V1(t){return new Promise(e=>{setTimeout(e,t)})}var j1={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Xn=new Nt("appCheck","AppCheck",j1);function DD(t){if(!xt(t).activated)throw Xn.create("use-before-activation",{appName:t.name})}function bD(r,i){return p(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(t,a)}catch(h){throw Xn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(c.status!==200)throw Xn.create("fetch-status-error",{httpStatus:c.status});let l;try{l=yield c.json()}catch(h){throw Xn.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Xn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:l.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function TD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${F1}/projects/${n}/apps/${r}:${L1}?key=${i}`,body:{debug_token:e}}}var U1="firebase-app-check-database",B1=1,Lg="firebase-app-check-store";var Nu=null;function $1(){return Nu||(Nu=new Promise((t,e)=>{try{let n=indexedDB.open(U1,B1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Xn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Lg,{keyPath:"compositeKey"})}}}catch(n){e(Xn.create("storage-open",{originalErrorMessage:n?.message}))}}),Nu)}function H1(t,e){return W1(z1(t),e)}function W1(t,e){return p(this,null,function*(){let r=(yield $1()).transaction(Lg,"readwrite"),o=r.objectStore(Lg).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(Xn.create("storage-set",{originalErrorMessage:(l=c.target.error)===null||l===void 0?void 0:l.message}))}})})}function z1(t){return`${t.options.appId}-${t.name}`}var Vg=new Jt("@firebase/app-check");function Og(t,e){return ru()?H1(t,e).catch(n=>{Vg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function SD(){return CD().enabled}function AD(){return p(this,null,function*(){let t=CD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var G1={error:"UNKNOWN_ERROR"};function q1(t){return no.encodeString(JSON.stringify(t),!1)}function jg(t,e=!1){return p(this,null,function*(){let n=t.app;DD(n);let r=xt(n),i=r.token,o;if(i&&!Zs(i)&&(r.token=void 0,i=void 0),!i){let c=yield r.cachedTokenPromise;c&&(Zs(c)?i=c:yield Og(n,void 0))}if(!e&&i&&Zs(i))return{token:i.token};let s=!1;if(SD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=bD(TD(n,yield AD()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Og(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield xt(n).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Vg.warn(c.message):Vg.error(c),o=c}let a;return i?o?Zs(i)?a={token:i.token,internalError:o}:a=wD(o):(a={token:i.token},r.token=i,yield Og(n,i)):a=wD(o),s&&Q1(n,a),a})}function K1(t){return p(this,null,function*(){let e=t.app;DD(e);let{provider:n}=xt(e);if(SD()){let r=yield AD(),{token:i}=yield bD(TD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Y1(t,e,n,r){let{app:i}=t,o=xt(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Zs(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),ED(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>ED(t))}function MD(t,e){let n=xt(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function ED(t){let{app:e}=t,n=xt(e),r=n.tokenRefresher;r||(r=Z1(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Z1(t){let{app:e}=t;return new Fg(()=>p(this,null,function*(){let n=xt(e),r;if(n.token?r=yield jg(t,!0):r=yield jg(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=xt(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},_D.RETRIAL_MIN_WAIT,_D.RETRIAL_MAX_WAIT)}function Q1(t,e){let n=xt(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Zs(t){return t.expireTimeMillis-Date.now()>0}function wD(t){return{token:q1(G1),error:t}}var Ug=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=xt(this.app);for(let n of e)MD(this.app,n.next);return Promise.resolve()}};function J1(t,e){return new Ug(t,e)}function X1(t){return{getToken:e=>jg(t,e),getLimitedUseToken:()=>K1(t),addTokenListener:e=>Y1(t,"INTERNAL",e),removeTokenListener:e=>MD(t.app,e)}}var eV="@firebase/app-check",tV="0.8.11";var nV="app-check",ID="app-check-internal";function rV(){Rt(new He(nV,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return J1(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ID).initialize()})),Rt(new He(ID,t=>{let e=t.getProvider("app-check").getImmediate();return X1(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),fe(eV,tV)}rV();var iV="app-check";var fo=class{constructor(){return uo(iV)}};var oV=["localhost","0.0.0.0","127.0.0.1"],o6=typeof window<"u"&&oV.includes(window.location.hostname);var ND="auth",st=class{constructor(e){return e}},Qs=class{constructor(){return uo(ND)}};var Bg=new b("angularfire2.auth-instances");function sV(t,e){let n=Ys(ND,t,e);return n&&new st(n)}function aV(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new st(r)}}var cV={provide:Qs,deps:[[new Ue,Bg]]},lV={provide:st,useFactory:sV,deps:[[new Ue,Bg],In]};function RD(t,...e){return fe("angularfire",Qn.full,"auth"),ht([lV,cV,{provide:Bg,useFactory:aV(t),multi:!0,deps:[te,_e,Jn,Br,[new Ue,fo],...e]}])}var xD=Ur(Ks,!0);function dV(t,e){if(t&1&&(g(0,"div")(1,"p"),y(2),m()()),t&2){let n=Tt();S(2),Re("Utilisateur connect\xE9: ",n.user.email,"")}}var Ru=class t{email="";password="";user=null;error=null;auth=_(st);signIn(){bu(this.auth,this.email,this.password).then(e=>{this.user=e.user,console.log("Utilisateur connect\xE9:",e);}).catch(e=>{this.error=e.message,console.error("Erreur de connexion:",e)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-login-page"]],decls:12,vars:3,consts:[["action",""],["for","email"],["type","email","name","email",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","password",3,"ngModelChange","ngModel"],["type","button",3,"click"],[4,"ngIf"]],template:function(n,r){n&1&&(g(0,"h2"),y(1,"Login"),m(),g(2,"form",0)(3,"label",1),y(4,"Email"),m(),g(5,"input",2),$e("ngModelChange",function(o){return qe(r.email,o)||(r.email=o),o}),m(),g(6,"label",3),y(7,"Password"),m(),g(8,"input",4),$e("ngModelChange",function(o){return qe(r.password,o)||(r.password=o),o}),m(),g(9,"button",5),le("click",function(){return r.signIn()}),y(10,"Se connecter"),m()(),Ee(11,dV,3,1,"div",6)),n&2&&(S(5),Be("ngModel",r.email),S(3),Be("ngModel",r.password),S(3),J("ngIf",r.user))},dependencies:[Kt,Xi,mt,qt,Ji,At,Mr,pt],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;align-items:center;gap:1rem}button[_ngcontent-%COMP%]{margin-block:2rem}"]})};function fV(t,e){if(t&1&&(g(0,"div")(1,"p"),y(2),m()()),t&2){let n=Tt();S(2),Re("Utilisateur inscrit: ",n.user.email,"")}}var xu=class t{email="";password="";user=null;error=null;auth=_(st);constructor(){}signUp(){Du(this.auth,this.email,this.password).then(e=>{this.user=e.user,console.log("Utilisateur inscrit:",e),console.log("Utilisateur inscrit:",this.user)}).catch(e=>{this.error=e.message,console.error("Erreur d'inscription:",e)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-register-page"]],decls:12,vars:3,consts:[["action",""],["for","email"],["type","email","name","email",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","password",3,"ngModelChange","ngModel"],["type","button",3,"click"],[4,"ngIf"]],template:function(n,r){n&1&&(g(0,"h2"),y(1,"Register"),m(),g(2,"form",0)(3,"label",1),y(4,"Email"),m(),g(5,"input",2),$e("ngModelChange",function(o){return qe(r.email,o)||(r.email=o),o}),m(),g(6,"label",3),y(7,"Password"),m(),g(8,"input",4),$e("ngModelChange",function(o){return qe(r.password,o)||(r.password=o),o}),m(),g(9,"button",5),le("click",function(){return r.signUp()}),y(10,"S'inscrire"),m()(),Ee(11,fV,3,1,"div",6)),n&2&&(S(5),Be("ngModel",r.email),S(3),Be("ngModel",r.password),S(3),J("ngIf",r.user))},dependencies:[Kt,Xi,mt,qt,Ji,At,Mr,pt],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center;align-items:center;gap:1rem}button[_ngcontent-%COMP%]{margin-block:2rem}"]})};var ku=class t{auth=_(st);router=_(Cs);canActivate(){return new j(e=>{this.auth.onAuthStateChanged(n=>{n?e.next(!0):(e.next(!1),this.router.navigate(["/app-login"]))})})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var kD=[{path:"home",component:Tl},{path:"exercises",canActivate:[ku],component:Sl},{path:"nesting",component:Hl},{path:"interpolation",component:ql},{path:"data-binding",component:Fl},{path:"directives",component:Kl},{path:"blog",component:Ql},{path:"api",component:eu},{path:"firebase",component:Au},{path:"app-login",component:Ru},{path:"app-register",component:xu}];var PD="@firebase/database",OD="1.0.12";var jm="";function hV(t){jm=t}var Yg=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ie(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:to(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Zg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Qt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var hb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Yg(e)}}catch{}return new Zg},Hr=hb("localStorage"),Qg=hb("sessionStorage");var mo=new Jt("@firebase/database"),pV=function(){let t=1;return function(){return t++}}(),pb=function(t){let e=sC(t),n=new tu;n.update(e);let r=n.digest();return no.encodeByteArray(r)},ua=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ua.apply(null,r):typeof r=="object"?e+=Ie(r):e+=r,e+=" "}return e},Wr=null,FD=!0,gV=function(t,e){I(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(mo.logLevel=ee.VERBOSE,Wr=mo.log.bind(mo),e&&Qg.set("logging_enabled",!0)):typeof t=="function"?Wr=t:(Wr=null,Qg.remove("logging_enabled"))},ke=function(...t){if(FD===!0&&(FD=!1,Wr===null&&Qg.get("logging_enabled")===!0&&gV(!0)),Wr){let e=ua.apply(null,t);Wr(e)}},da=function(t){return function(...e){ke(t,...e)}},Jg=function(...t){let e="FIREBASE INTERNAL ERROR: "+ua(...t);mo.error(e)},Dn=function(...t){let e=`FIREBASE FATAL ERROR: ${ua(...t)}`;throw mo.error(e),new Error(e)},at=function(...t){let e="FIREBASE WARNING: "+ua(...t);mo.warn(e)},mV=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vV=function(t){if(Zt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},yo="[MIN_NAME]",zr="[MAX_NAME]",bo=function(t,e){if(t===e)return 0;if(t===yo||e===zr)return-1;if(e===yo||t===zr)return 1;{let n=LD(t),r=LD(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},yV=function(t,e){return t===e?0:t<e?-1:1},Js=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ie(e))},Um=function(t){if(typeof t!="object"||t===null)return Ie(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ie(e[r]),n+=":",n+=Um(t[e[r]]);return n+="}",n},mb=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function _t(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var vb=function(t){I(!gb(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},_V=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EV=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var wV=new RegExp("^-?(0*)\\d{1,10}$"),IV=-2147483648,CV=2147483647,LD=function(t){if(wV.test(t)){let e=Number(t);if(e>=IV&&e<=CV)return e}return null},fa=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw at("Exception was thrown by user callback.",n),e},Math.floor(0))}},DV=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ra=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Xg=class{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Ye(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var em=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(e)}},ia=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ou="5",yb="v",_b="s",Eb="r",wb="f",Ib=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cb="ls",Db="p",tm="ac",bb="websocket",Tb="long_polling";var Fu=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Hr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Hr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function bV(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Sb(t,e,n){I(typeof e=="string","typeof type must == string"),I(typeof n=="object","typeof params must == object");let r;if(e===bb)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Tb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bV(t)&&(n.ns=t.namespace);let i=[];return _t(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var nm=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Qt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return GI(this.counters_)}};var $g={},Hg={};function Bm(t){let e=t.toString();return $g[e]||($g[e]=new nm),$g[e]}function TV(t,e){let n=t.toString();return Hg[n]||(Hg[n]=e()),Hg[n]}var rm=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&fa(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var VD="start",SV="close",AV="pLPCommand",MV="pRTLPCB",Ab="id",Mb="pw",Nb="ser",NV="cb",RV="seg",xV="ts",kV="d",PV="dframe",Rb=1870,xb=30,OV=Rb-xb,FV=25e3,LV=3e4,im=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=da(e),this.stats_=Bm(n),this.urlFn=c=>(this.appCheckToken&&(c[tm]=this.appCheckToken),Sb(n,Tb,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new rm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LV)),vV(()=>{if(this.isClosed_)return;this.scriptTagHolder=new om((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===VD)this.id=a,this.password=c;else if(s===SV)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[VD]="t",r[Nb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NV]=this.scriptTagHolder.uniqueCallbackIdentifier),r[yb]=Ou,this.transportSessionId&&(r[_b]=this.transportSessionId),this.lastSessionId&&(r[Cb]=this.lastSessionId),this.applicationId&&(r[Db]=this.applicationId),this.appCheckToken&&(r[tm]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ib.test(location.hostname)&&(r[Eb]=wb);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Zt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_V()&&!EV()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ie(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=xp(n),i=mb(r,OV);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Zt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[PV]="t",r[Ab]=e,r[Mb]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ie(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},om=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Zt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=pV(),window[AV+this.uniqueCallbackIdentifier]=e,window[MV+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ke("frame writing exception"),a.stack&&ke(a.stack),ke(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ke("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Ab]=this.myID,e[Mb]=this.myPW,e[Nb]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xb+r.length<=Rb;){let s=this.pendingSegs.shift();r=r+"&"+RV+i+"="+s.seg+"&"+xV+i+"="+s.ts+"&"+kV+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(FV)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Zt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ke("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var VV=16384,jV=45e3,Lu=null;typeof MozWebSocket<"u"?Lu=MozWebSocket:typeof WebSocket<"u"&&(Lu=WebSocket);var Xs=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=da(this.connId),this.stats_=Bm(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[yb]=Ou,!Zt()&&typeof location<"u"&&location.hostname&&Ib.test(location.hostname)&&(a[Eb]=wb),r&&(a[_b]=r),i&&(a[Cb]=i),o&&(a[tm]=o),s&&(a[Db]=s),Sb(n,bb,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Hr.set("previous_websocket_failure",!0);try{let i;if(Zt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Ou}/${jm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Lu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Lu!==null&&!t.forceDisallow_}static previouslyFailed(){return Hr.isInMemoryStorage||Hr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Hr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=to(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(I(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ie(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=mb(r,VV);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(jV))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),UV=(()=>{class t{static get ALL_TRANSPORTS(){return[im,Xs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Xs&&Xs.isAvailable(),i=r&&!Xs.previouslyFailed();if(n.webSocketOnly&&(r||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Xs];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),BV=6e4,$V=5e3,HV=10*1024,WV=100*1024,Wg="t",jD="d",zV="s",UD="r",GV="e",BD="o",$D="a",HD="n",WD="p",qV="h",sm=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=da("c:"+this.id+":"),this.transportManager_=new UV(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ra(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WV?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>HV?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Wg in e){let n=e[Wg];n===$D?this.upgradeIfSecondaryHealthy_():n===UD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===BD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Js("t",e),r=Js("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:WD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$D,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Js("t",e),r=Js("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Js(Wg,e);if(jD in e){let r=e[jD];if(n===qV){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===HD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zV?this.onConnectionShutdown_(r):n===UD?this.onReset_(r):n===GV?Jg("Server Error: "+r):n===BD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jg("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ou!==r&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ra(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BV))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ra(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($V))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:WD,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Hr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Vu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var ju=class{constructor(e){this.allowedEvents_=e,this.listeners_={},I(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){I(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Uu=class t extends ju{static getInstance(){return new t}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!xs()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return I(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var zD=32,GD=768,oe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function re(){return new oe("")}function Y(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function tr(t){return t.pieces_.length-t.pieceNum_}function ae(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new oe(t.pieces_,e)}function kb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function KV(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Pb(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Ob(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new oe(e,0)}function Ce(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new oe(n,0)}function z(t){return t.pieceNum_>=t.pieces_.length}function vt(t,e){let n=Y(t),r=Y(e);if(n===null)return e;if(n===r)return vt(ae(t),ae(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Fb(t,e){if(tr(t)!==tr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Pt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(tr(t)>tr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var am=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Pb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Os(this.parts_[r]);Lb(this)}};function YV(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Os(e),Lb(t)}function ZV(t){let e=t.parts_.pop();t.byteLength_-=Os(e),t.parts_.length>0&&(t.byteLength_-=1)}function Lb(t){if(t.byteLength_>GD)throw new Error(t.errorPrefix_+"has a key path longer than "+GD+" bytes ("+t.byteLength_+").");if(t.parts_.length>zD)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zD+") or object contains a cycle "+$r(t))}function $r(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var cm=class t extends ju{static getInstance(){return new t}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return I(e==="visible","Unknown event type: "+e),[this.visible_]}};var ea=1e3,QV=60*5*1e3,qD=30*1e3,JV=1.3,XV=3e4,ej="server_kill",KD=3,$m=(()=>{class t extends Vu{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=da("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ea,this.maxReconnectDelay_=QV,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Zt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Uu.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ie(s)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Yt,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Qt(n,"w")){let i=Rr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||rC(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=nC(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ie(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Jg("Unrecognized action received from server: "+Ie(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ea,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ea,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>XV&&(this.reconnectDelay_=ea),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JV)}this.onConnectStatus_(!1)}establishConnection_(){return p(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){I(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?ke("getToken() completed but was canceled"):(ke("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new sm(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,v=>{at(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(ej)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&at(f),l())}}})}interrupt(n){ke("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ke("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ks(this.interruptReasons_)&&(this.reconnectDelay_=ea,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Um(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new oe(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){ke("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KD&&(this.reconnectDelay_=qD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ke("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Zt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+jm.replace(/\./g,"-")]=1,xs()?n["framework.cordova"]=1:nu()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Uu.getInstance().currentlyOnline();return ks(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Z=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var _o=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Z(yo,e),i=new Z(yo,n);return this.compare(r,i)!==0}minPost(){return Z.MIN}};var Pu,Bu=class extends _o{static get __EMPTY_NODE(){return Pu}static set __EMPTY_NODE(e){Pu=e}compare(e,n){return bo(e.name,n.name)}isDefinedOn(e){throw Nr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Z.MIN}maxPost(){return new Z(zr,Pu)}makePost(e,n){return I(typeof e=="string","KeyIndex indexValue must always be a string."),new Z(e,Pu)}toString(){return".key"}},vo=new Bu;var po=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},kt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??yt.EMPTY_NODE,this.right=s??yt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return yt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return yt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),lm=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},yt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new po(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new po(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new po(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new po(this.root_,null,this.comparator_,!0,e)}};yt.EMPTY_NODE=new lm;function tj(t,e){return bo(t.name,e.name)}function Hm(t,e){return bo(t,e)}var um;function nj(t){um=t}var Vb=function(t){return typeof t=="number"?"number:"+vb(t):"string:"+t},jb=function(t){if(t.isLeafNode()){let e=t.val();I(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Qt(e,".sv"),"Priority must be a string or number.")}else I(t===um||t.isEmpty(),"priority of unexpected type.");I(t===um||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var YD,Eo=(()=>{class t{static set __childrenNodeConstructor(n){YD=n}static get __childrenNodeConstructor(){return YD}constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,I(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return z(n)?this:Y(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Y(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(I(i!==".priority"||tr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Vb(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=vb(this.value_):n+=this.value_,this.lazyHash_=pb(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(I(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return I(o>=0,"Unknown leaf type: "+r),I(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),Ub,Bb;function rj(t){Ub=t}function ij(t){Bb=t}var dm=class extends _o{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?bo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Z.MIN}maxPost(){return new Z(zr,new Eo("[PRIORITY-POST]",Bb))}makePost(e,n){let r=Ub(e);return new Z(n,new Eo("[PRIORITY-POST]",r))}toString(){return".priority"}},Oe=new dm;var oj=Math.log(2),fm=class{constructor(e){let n=o=>parseInt(Math.log(o)/oj,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},$u=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new kt(f,d.node,kt.BLACK,null,null);{let h=parseInt(u/2,10)+c,v=i(c,h),E=i(h+1,l);return d=t[h],f=n?n(d):d,new kt(f,d.node,kt.BLACK,v,E)}},o=function(c){let l=null,u=null,d=t.length,f=function(v,E){let D=d-v,F=d;d-=v;let Ae=i(D+1,F),G=t[D],Fe=n?n(G):G;h(new kt(Fe,G.node,E,null,Ae))},h=function(v){l?(l.left=v,l=v):(u=v,l=v)};for(let v=0;v<c.count;++v){let E=c.nextBitIsOne(),D=Math.pow(2,c.count-(v+1));E?f(D,kt.BLACK):(f(D,kt.BLACK),f(D,kt.RED))}return u},s=new fm(t.length),a=o(s);return new yt(r||e,a)};var zg,ho={},wo=class t{static get Default(){return I(ho&&Oe,"ChildrenNode.ts has not been loaded"),zg=zg||new t({".priority":ho},{".priority":Oe}),zg}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){let n=Rr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof yt?n:null}hasIndex(e){return Qt(this.indexSet_,e.toString())}addIndex(e,n){I(e!==vo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Z.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=$u(r,e.getCompare()):a=ho;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Ps(this.indexes_,(i,o)=>{let s=Rr(this.indexSet_,o);if(I(s,"Missing index implementation for "+o),i===ho)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(Z.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),$u(a,s.getCompare())}else return ho;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new Z(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Ps(this.indexes_,i=>{if(i===ho)return i;{let o=n.get(e.name);return o?i.remove(new Z(e.name,o)):i}});return new t(r,this.indexSet_)}};var ta,ue=(()=>{class t{static get EMPTY_NODE(){return ta||(ta=new t(new yt(Hm),null,wo.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&jb(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ta}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ta:r}}getChild(n){let r=Y(n);return r===null?this:this.getImmediateChild(r).getChild(ae(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(I(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Z(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ta:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=Y(n);if(i===null)return r;{I(Y(n)!==".priority"||tr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ae(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(Oe,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Vb(this.getPriority().val())+":"),this.forEachChild(Oe,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":pb(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Z(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Z(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Z(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Z.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Z.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ha?-1:0}withIndex(n){if(n===vo||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===vo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Oe),o=r.getIterator(Oe),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===vo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),hm=class extends ue{constructor(){super(new yt(Hm),ue.EMPTY_NODE,wo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}},ha=new hm;Object.defineProperties(Z,{MIN:{value:new Z(yo,ue.EMPTY_NODE)},MAX:{value:new Z(zr,ha)}});Bu.__EMPTY_NODE=ue.EMPTY_NODE;Eo.__childrenNodeConstructor=ue;nj(ha);ij(ha);var sj=!0;function Pe(t,e=null){if(t===null)return ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),I(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Eo(n,Pe(e))}if(!(t instanceof Array)&&sj){let n=[],r=!1;if(_t(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Pe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Z(s,c)))}}),n.length===0)return ue.EMPTY_NODE;let o=$u(n,tj,s=>s.name,Hm);if(r){let s=$u(n,Oe.getCompare());return new ue(o,Pe(e),new wo({".priority":s},{".priority":Oe}))}else return new ue(o,Pe(e),wo.Default)}else{let n=ue.EMPTY_NODE;return _t(t,(r,i)=>{if(Qt(t,r)&&r.substring(0,1)!=="."){let o=Pe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Pe(e))}}rj(Pe);var pm=class extends _o{constructor(e){super(),this.indexPath_=e,I(!z(e)&&Y(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?bo(e.name,n.name):o}makePost(e,n){let r=Pe(e),i=ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new Z(n,i)}maxPost(){let e=ue.EMPTY_NODE.updateChild(this.indexPath_,ha);return new Z(zr,e)}toString(){return Pb(this.indexPath_,0).join("/")}};var gm=class extends _o{compare(e,n){let r=e.node.compareTo(n.node);return r===0?bo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Z.MIN}maxPost(){return Z.MAX}makePost(e,n){let r=Pe(e);return new Z(n,r)}toString(){return".value"}},aj=new gm;function cj(t){return{type:"value",snapshotNode:t}}function lj(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function uj(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ZD(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function dj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var mm=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yo}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Oe}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function QD(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Oe?n="$priority":t.index_===aj?n="$value":t.index_===vo?n="$key":(I(t.index_ instanceof pm,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ie(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ie(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ie(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ie(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ie(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function JD(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Oe&&(e.i=t.index_.toString()),e}var vm=class t extends Vu{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(I(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=da("p:rest:"),this.listens_={}}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=QD(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Rr(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=QD(e._queryParams),r=e._path.toString(),i=new Yt;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xr(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=to(a.responseText)}catch{at("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&at("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var ym=class{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Hu(){return{value:null,children:new Map}}function $b(t,e,n){if(z(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=Y(e);t.children.has(r)||t.children.set(r,Hu());let i=t.children.get(r);e=ae(e),$b(i,e,n)}}function _m(t,e,n){t.value!==null?n(e,t.value):fj(t,(r,i)=>{let o=new oe(e.toString()+"/"+r);_m(i,o,n)})}function fj(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Em=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&_t(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var XD=10*1e3,hj=30*1e3,pj=5*60*1e3,wm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Em(e);let r=XD+(hj-XD)*Math.random();ra(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;_t(e,(i,o)=>{o>0&&Qt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ra(this.reportStats_.bind(this),Math.floor(Math.random()*2*pj))}};var Cn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Cn||{});function Hb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Wb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Im=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Cn.ACK_USER_WRITE,this.source=Hb()}operationForChild(e){if(z(this.path)){if(this.affectedTree.value!=null)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new oe(e));return new t(re(),n,this.revert)}}else return I(Y(this.path)===e,"operationForChild called for unrelated child."),new t(ae(this.path),this.affectedTree,this.revert)}};var Io=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Cn.OVERWRITE}operationForChild(e){return z(this.path)?new t(this.source,re(),this.snap.getImmediateChild(e)):new t(this.source,ae(this.path),this.snap)}};var Wu=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Cn.MERGE}operationForChild(e){if(z(this.path)){let n=this.children.subtree(new oe(e));return n.isEmpty()?null:n.value?new Io(this.source,re(),n.value):new t(this.source,re(),n)}else return I(Y(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var aa=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(z(e))return this.isFullyInitialized()&&!this.filtered_;let n=Y(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function gj(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(dj(s.childName,s.snapshotNode))}),na(t,i,"child_removed",e,r,n),na(t,i,"child_added",e,r,n),na(t,i,"child_moved",o,r,n),na(t,i,"child_changed",e,r,n),na(t,i,"value",e,r,n),i}function na(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>vj(t,a,c)),s.forEach(a=>{let c=mj(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function mj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function vj(t,e,n){if(e.childName==null||n.childName==null)throw Nr("Should only compare child_ events.");let r=new Z(e.childName,e.snapshotNode),i=new Z(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function Gb(t,e){return{eventCache:t,serverCache:e}}function oa(t,e,n,r){return Gb(new aa(e,n,r),t.serverCache)}function qb(t,e,n,r){return Gb(t.eventCache,new aa(e,n,r))}function Cm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Gg,yj=()=>(Gg||(Gg=new yt(yV)),Gg),Ze=class t{static fromObject(e){let n=new t(null);return _t(e,(r,i)=>{n=n.set(new oe(r),i)}),n}constructor(e,n=yj()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(z(e))return null;{let r=Y(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ae(e),n);return o!=null?{path:Ce(new oe(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(z(e))return this;{let n=Y(e),r=this.children.get(n);return r!==null?r.subtree(ae(e)):new t(null)}}set(e,n){if(z(e))return new t(n,this.children);{let r=Y(e),o=(this.children.get(r)||new t(null)).set(ae(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(z(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=Y(e),r=this.children.get(n);if(r){let i=r.remove(ae(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(z(e))return this.value;{let n=Y(e),r=this.children.get(n);return r?r.get(ae(e)):null}}setTree(e,n){if(z(e))return n;{let r=Y(e),o=(this.children.get(r)||new t(null)).setTree(ae(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(re(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ce(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,re(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(z(e))return null;{let o=Y(e),s=this.children.get(o);return s?s.findOnPath_(ae(e),Ce(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,re(),n)}foreachOnPath_(e,n,r){if(z(e))return this;{this.value&&r(n,this.value);let i=Y(e),o=this.children.get(i);return o?o.foreachOnPath_(ae(e),Ce(n,i),r):new t(null)}}foreach(e){this.foreach_(re(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ce(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Ot=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Ze(null))}};function sa(t,e,n){if(z(e))return new Ot(new Ze(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=vt(i,e);return o=o.updateChild(s,n),new Ot(t.writeTree_.set(i,o))}else{let i=new Ze(n),o=t.writeTree_.setTree(e,i);return new Ot(o)}}}function eb(t,e,n){let r=t;return _t(n,(i,o)=>{r=sa(r,Ce(e,i),o)}),r}function tb(t,e){if(z(e))return Ot.empty();{let n=t.writeTree_.setTree(e,new Ze(null));return new Ot(n)}}function Dm(t,e){return qr(t,e)!=null}function qr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(vt(n.path,e)):null}function nb(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Oe,(r,i)=>{e.push(new Z(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Z(r,i.value))}),e}function er(t,e){if(z(e))return t;{let n=qr(t,e);return n!=null?new Ot(new Ze(n)):new Ot(t.writeTree_.subtree(e))}}function bm(t){return t.writeTree_.isEmpty()}function Co(t,e){return Kb(re(),t.writeTree_,e)}function Kb(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(I(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Kb(Ce(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ce(t,".priority"),r)),n}}function Yb(t,e){return eT(e,t)}function _j(t,e,n,r,i){I(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=sa(t.visibleWrites,e,n)),t.lastWriteId=r}function Ej(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function wj(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);I(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&Ij(a,r.path)?i=!1:Pt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Cj(t),!0;if(r.snap)t.visibleWrites=tb(t.visibleWrites,r.path);else{let a=r.children;_t(a,c=>{t.visibleWrites=tb(t.visibleWrites,Ce(r.path,c))})}return!0}else return!1}function Ij(t,e){if(t.snap)return Pt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Pt(Ce(t.path,n),e))return!0;return!1}function Cj(t){t.visibleWrites=Zb(t.allWrites,Dj,re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Dj(t){return t.visible}function Zb(t,e,n){let r=Ot.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Pt(n,s)?(a=vt(n,s),r=sa(r,a,o.snap)):Pt(s,n)&&(a=vt(s,n),r=sa(r,re(),o.snap.getChild(a)));else if(o.children){if(Pt(n,s))a=vt(n,s),r=eb(r,a,o.children);else if(Pt(s,n))if(a=vt(s,n),z(a))r=eb(r,re(),o.children);else{let c=Rr(o.children,Y(a));if(c){let l=c.getChild(ae(a));r=sa(r,re(),l)}}}else throw Nr("WriteRecord should have .snap or .children")}}return r}function Qb(t,e,n,r,i){if(!r&&!i){let o=qr(t.visibleWrites,e);if(o!=null)return o;{let s=er(t.visibleWrites,e);if(bm(s))return n;if(n==null&&!Dm(s,re()))return null;{let a=n||ue.EMPTY_NODE;return Co(s,a)}}}else{let o=er(t.visibleWrites,e);if(!i&&bm(o))return n;if(!i&&n==null&&!Dm(o,re()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Pt(l.path,e)||Pt(e,l.path))},a=Zb(t.allWrites,s,e),c=n||ue.EMPTY_NODE;return Co(a,c)}}}function bj(t,e,n){let r=ue.EMPTY_NODE,i=qr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Oe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=er(t.visibleWrites,e);return n.forEachChild(Oe,(s,a)=>{let c=Co(er(o,new oe(s)),a);r=r.updateImmediateChild(s,c)}),nb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=er(t.visibleWrites,e);return nb(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Tj(t,e,n,r,i){I(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Ce(e,n);if(Dm(t.visibleWrites,o))return null;{let s=er(t.visibleWrites,o);return bm(s)?i.getChild(n):Co(s,i.getChild(n))}}function Sj(t,e,n,r){let i=Ce(e,n),o=qr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=er(t.visibleWrites,i);return Co(s,r.getNode().getImmediateChild(n))}else return null}function Aj(t,e){return qr(t.visibleWrites,e)}function Mj(t,e,n,r,i,o,s){let a,c=er(t.visibleWrites,e),l=qr(c,re());if(l!=null)a=l;else if(n!=null)a=Co(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function Nj(){return{visibleWrites:Ot.empty(),allWrites:[],lastWriteId:-1}}function Tm(t,e,n,r){return Qb(t.writeTree,t.treePath,e,n,r)}function Jb(t,e){return bj(t.writeTree,t.treePath,e)}function rb(t,e,n,r){return Tj(t.writeTree,t.treePath,e,n,r)}function zu(t,e){return Aj(t.writeTree,Ce(t.treePath,e))}function Rj(t,e,n,r,i,o){return Mj(t.writeTree,t.treePath,e,n,r,i,o)}function Wm(t,e,n){return Sj(t.writeTree,t.treePath,e,n)}function Xb(t,e){return eT(Ce(t.treePath,e),t.writeTree)}function eT(t,e){return{treePath:t,writeTree:e}}var Sm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;I(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),I(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ZD(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,uj(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,lj(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ZD(r,e.snapshotNode,i.oldSnap));else throw Nr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Am=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},tT=new Am,ca=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new aa(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Wm(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gr(this.viewCache_),o=Rj(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function xj(t,e){I(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),I(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function kj(t,e,n,r,i){let o=new Sm,s,a;if(n.type===Cn.OVERWRITE){let l=n;l.source.fromUser?s=Mm(t,e,l.path,l.snap,r,i,o):(I(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!z(l.path),s=Gu(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Cn.MERGE){let l=n;l.source.fromUser?s=Oj(t,e,l.path,l.children,r,i,o):(I(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Nm(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Cn.ACK_USER_WRITE){let l=n;l.revert?s=Vj(t,e,l.path,r,i,o):s=Fj(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Cn.LISTEN_COMPLETE)s=Lj(t,e,n.path,r,o);else throw Nr("Unknown operation type: "+n.type);let c=o.getChanges();return Pj(e,s,c),{viewCache:s,changes:c}}function Pj(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Cm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(cj(Cm(e)))}}function nT(t,e,n,r,i,o){let s=e.eventCache;if(zu(r,n)!=null)return e;{let a,c;if(z(n))if(I(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=Gr(e),u=l instanceof ue?l:ue.EMPTY_NODE,d=Jb(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Tm(r,Gr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=Y(n);if(l===".priority"){I(tr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=rb(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ae(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=rb(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Wm(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return oa(e,a,s.isFullyInitialized()||z(n),t.filter.filtersNodes())}}function Gu(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(z(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=Y(n);if(!c.isCompleteForPath(n)&&tr(n)>1)return e;let v=ae(n),D=c.getNode().getImmediateChild(h).updateChild(v,r);h===".priority"?l=u.updatePriority(c.getNode(),D):l=u.updateChild(c.getNode(),h,D,v,tT,null)}let d=qb(e,l,c.isFullyInitialized()||z(n),u.filtersNodes()),f=new ca(i,d,o);return nT(t,d,n,i,f,a)}function Mm(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new ca(i,e,o);if(z(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=oa(e,l,!0,t.filter.filtersNodes());else{let d=Y(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=oa(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ae(n),h=a.getNode().getImmediateChild(d),v;if(z(f))v=r;else{let E=u.getCompleteChild(d);E!=null?kb(f)===".priority"&&E.getChild(Ob(f)).isEmpty()?v=E:v=E.updateChild(f,r):v=ue.EMPTY_NODE}if(h.equals(v))c=e;else{let E=t.filter.updateChild(a.getNode(),d,v,f,u,s);c=oa(e,E,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function ib(t,e){return t.eventCache.isCompleteForChild(e)}function Oj(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Ce(n,c);ib(e,Y(u))&&(a=Mm(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Ce(n,c);ib(e,Y(u))||(a=Mm(t,a,u,l,i,o,s))}),a}function ob(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Nm(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;z(n)?l=r:l=new Ze(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),v=ob(t,h,f);c=Gu(t,c,new oe(d),v,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let v=e.serverCache.getNode().getImmediateChild(d),E=ob(t,v,f);c=Gu(t,c,new oe(d),E,i,o,s,a)}}),c}function Fj(t,e,n,r,i,o,s){if(zu(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(z(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Gu(t,e,n,c.getNode().getChild(n),i,o,a,s);if(z(n)){let l=new Ze(null);return c.getNode().forEachChild(vo,(u,d)=>{l=l.set(new oe(u),d)}),Nm(t,e,n,l,i,o,a,s)}else return e}else{let l=new Ze(null);return r.foreach((u,d)=>{let f=Ce(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Nm(t,e,n,l,i,o,a,s)}}function Lj(t,e,n,r,i){let o=e.serverCache,s=qb(e,o.getNode(),o.isFullyInitialized()||z(n),o.isFiltered());return nT(t,s,n,r,tT,i)}function Vj(t,e,n,r,i,o){let s;if(zu(r,n)!=null)return e;{let a=new ca(r,e,i),c=e.eventCache.getNode(),l;if(z(n)||Y(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Tm(r,Gr(e));else{let d=e.serverCache.getNode();I(d instanceof ue,"serverChildren would be complete if leaf node"),u=Jb(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=Y(n),d=Wm(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ae(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,ue.EMPTY_NODE,ae(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Tm(r,Gr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||zu(r,re())!=null,oa(e,l,s,t.filter.filtersNodes())}}function jj(t,e){let n=Gr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!z(e)&&!n.getImmediateChild(Y(e)).isEmpty())?n.getChild(e):null}function sb(t,e,n,r){e.type===Cn.MERGE&&e.source.queryId!==null&&(I(Gr(t.viewCache_),"We should always have a full cache before handling merges"),I(Cm(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=kj(t.processor_,i,e,n,r);return xj(t.processor_,o.viewCache),I(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Uj(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Uj(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return gj(t.eventGenerator_,e,n,i)}var ab;function Bj(t){I(!ab,"__referenceConstructor has already been defined"),ab=t}function zm(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return I(o!=null,"SyncTree gave us an op for an invalid query."),sb(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(sb(s,e,n,r));return o}}function Gm(t,e){let n=null;for(let r of t.views.values())n=n||jj(r,e);return n}var cb;function $j(t){I(!cb,"__referenceConstructor has already been defined"),cb=t}var qu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=Nj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Hj(t,e,n,r,i){return _j(t.pendingWriteTree_,e,n,r,i),i?Yu(t,new Io(Hb(),e,n)):[]}function go(t,e,n=!1){let r=Ej(t.pendingWriteTree_,e);if(wj(t.pendingWriteTree_,e)){let o=new Ze(null);return r.snap!=null?o=o.set(re(),!0):_t(r.children,s=>{o=o.set(new oe(s),!0)}),Yu(t,new Im(r.path,o,n))}else return[]}function Ku(t,e,n){return Yu(t,new Io(Wb(),e,n))}function Wj(t,e,n){let r=Ze.fromObject(n);return Yu(t,new Wu(Wb(),e,r))}function zj(t,e,n,r){let i=sT(t,r);if(i!=null){let o=aT(i),s=o.path,a=o.queryId,c=vt(s,e),l=new Io(zb(a),c,n);return cT(t,s,l)}else return[]}function Gj(t,e,n,r){let i=sT(t,r);if(i){let o=aT(i),s=o.path,a=o.queryId,c=vt(s,e),l=Ze.fromObject(n),u=new Wu(zb(a),c,l);return cT(t,s,u)}else return[]}function rT(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=vt(s,e),l=Gm(a,c);if(l)return l});return Qb(i,e,o,n,!0)}function Yu(t,e){return iT(e,t.syncPointTree_,null,Yb(t.pendingWriteTree_,re()))}function iT(t,e,n,r){if(z(t.path))return oT(t,e,n,r);{let i=e.get(re());n==null&&i!=null&&(n=Gm(i,re()));let o=[],s=Y(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=Xb(r,s);o=o.concat(iT(a,c,l,u))}return i&&(o=o.concat(zm(i,t,r,n))),o}}function oT(t,e,n,r){let i=e.get(re());n==null&&i!=null&&(n=Gm(i,re()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=Xb(r,s),u=t.operationForChild(s);u&&(o=o.concat(oT(u,a,c,l)))}),i&&(o=o.concat(zm(i,t,r,n))),o}function sT(t,e){return t.tagToQueryMap.get(e)}function aT(t){let e=t.indexOf("$");return I(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new oe(t.substr(0,e))}}function cT(t,e,n){let r=t.syncPointTree_.get(e);I(r,"Missing sync point for query tag that we're tracking");let i=Yb(t.pendingWriteTree_,e);return zm(r,n,i,null)}var Rm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},xm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ce(this.path_,e);return new t(this.syncTree_,n)}node(){return rT(this.syncTree_,this.path_)}},qj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lb=function(t,e,n){if(!t||typeof t!="object")return t;if(I(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Kj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Yj(t[".sv"],e);I(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Kj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:I(!1,"Unexpected server value: "+t)}},Yj=function(t,e,n){t.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&I(!1,"Unexpected increment value: "+r);let i=e.node();if(I(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},Zj=function(t,e,n,r){return qm(e,new xm(n,t),r)},Qj=function(t,e,n){return qm(t,new Rm(e),n)};function qm(t,e,n){let r=t.getPriority().val(),i=lb(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=lb(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new Eo(a,Pe(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Eo(i))),s.forEachChild(Oe,(a,c)=>{let l=qm(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var la=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Km(t,e){let n=e instanceof oe?e:new oe(e),r=t,i=Y(n);for(;i!==null;){let o=Rr(r.node.children,i)||{children:{},childCount:0};r=new la(i,r,o),n=ae(n),i=Y(n)}return r}function To(t){return t.node.value}function lT(t,e){t.node.value=e,km(t)}function uT(t){return t.node.childCount>0}function Jj(t){return To(t)===void 0&&!uT(t)}function Zu(t,e){_t(t.node.children,(n,r)=>{e(new la(n,t,r))})}function dT(t,e,n,r){n&&!r&&e(t),Zu(t,i=>{dT(i,e,!0,r)}),n&&r&&e(t)}function Xj(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function pa(t){return new oe(t.parent===null?t.name:pa(t.parent)+"/"+t.name)}function km(t){t.parent!==null&&eU(t.parent,t.name,t)}function eU(t,e,n){let r=Jj(n),i=Qt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,km(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,km(t))}var tU=/[\[\].#$\/\u0000-\u001F\u007F]/,nU=/[\[\].#$\u0000-\u001F\u007F]/,qg=10*1024*1024,fT=function(t){return typeof t=="string"&&t.length!==0&&!tU.test(t)},rU=function(t){return typeof t=="string"&&t.length!==0&&!nU.test(t)},iU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rU(t)};var hT=function(t,e,n){let r=n instanceof oe?new am(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+$r(r));if(typeof e=="function")throw new Error(t+"contains a function "+$r(r)+" with contents = "+e.toString());if(gb(e))throw new Error(t+"contains "+e.toString()+" "+$r(r));if(typeof e=="string"&&e.length>qg/3&&Os(e)>qg)throw new Error(t+"contains a string greater than "+qg+" utf8 bytes "+$r(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(_t(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!fT(s)))throw new Error(t+" contains an invalid key ("+s+") "+$r(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YV(r,s),hT(t,a,r),ZV(r)}),i&&o)throw new Error(t+' contains ".value" child '+$r(r)+" in addition to actual children.")}};var oU=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iU(n))throw new Error(oC(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Pm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function sU(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Fb(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Kr(t,e,n){sU(t,n),aU(t,r=>Pt(r,e)||Pt(e,r))}function aU(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(cU(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cU(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Wr&&ke("event: "+n.toString()),fa(r)}}}var lU="repo_interrupt",uU=25,Om=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Pm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Hu(),this.transactionQueueTree_=new la,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function dU(t,e,n){if(t.stats_=Bm(t.repoInfo_),t.forceRestClient_||DV())t.server_=new vm(t.repoInfo_,(r,i,o,s)=>{ub(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>db(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ie(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new $m(t.repoInfo_,e,(r,i,o,s)=>{ub(t,r,i,o,s)},r=>{db(t,r)},r=>{hU(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=TV(t.repoInfo_,()=>new wm(t.stats_,t.server_)),t.infoData_=new ym,t.infoSyncTree_=new qu({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Ku(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Ym(t,"connected",!1),t.serverSyncTree_=new qu({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);Kr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function fU(t){let n=t.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function pT(t){return qj({timestamp:fU(t)})}function ub(t,e,n,r,i){t.dataUpdateCount++;let o=new oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Ps(n,l=>Pe(l));s=Gj(t.serverSyncTree_,o,c,i)}else{let c=Pe(n);s=zj(t.serverSyncTree_,o,c,i)}else if(r){let c=Ps(n,l=>Pe(l));s=Wj(t.serverSyncTree_,o,c)}else{let c=Pe(n);s=Ku(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Qm(t,o)),Kr(t.eventQueue_,a,s)}function db(t,e){Ym(t,"connected",e),e===!1&&gU(t)}function hU(t,e){_t(e,(n,r)=>{Ym(t,n,r)})}function Ym(t,e,n){let r=new oe("/.info/"+e),i=Pe(n);t.infoData_.updateSnapshot(r,i);let o=Ku(t.infoSyncTree_,r,i);Kr(t.eventQueue_,r,o)}function pU(t){return t.nextWriteId_++}function gU(t){gT(t,"onDisconnectEvents");let e=pT(t),n=Hu();_m(t.onDisconnect_,re(),(i,o)=>{let s=Zj(i,o,t.serverSyncTree_,e);$b(n,i,s)});let r=[];_m(n,re(),(i,o)=>{r=r.concat(Ku(t.serverSyncTree_,i,o));let s=_U(t,i);Qm(t,s)}),t.onDisconnect_=Hu(),Kr(t.eventQueue_,re(),r)}function mU(t){t.persistentConnection_&&t.persistentConnection_.interrupt(lU)}function gT(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ke(n,...e)}function mT(t,e,n){return rT(t.serverSyncTree_,e,n)||ue.EMPTY_NODE}function Zm(t,e=t.transactionQueueTree_){if(e||Qu(t,e),To(e)){let n=yT(t,e);I(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&vU(t,pa(e),n)}else uT(e)&&Zu(e,n=>{Zm(t,n)})}function vU(t,e,n){let r=n.map(l=>l.currentWriteId),i=mT(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];I(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=vt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{gT(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(go(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Qu(t,Km(t.transactionQueueTree_,e)),Zm(t,t.transactionQueueTree_),Kr(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)fa(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{at("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Qm(t,e)}},s)}function Qm(t,e){let n=vT(t,e),r=pa(n),i=yT(t,n);return yU(t,i,r),r}function yU(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=vt(n,c.path),u=!1,d;if(I(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(go(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=uU)u=!0,d="maxretry",i=i.concat(go(t.serverSyncTree_,c.currentWriteId,!0));else{let f=mT(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){hT("transaction failed: Data returned ",h,c.path);let v=Pe(h);typeof h=="object"&&h!=null&&Qt(h,".priority")||(v=v.updatePriority(f.getPriority()));let D=c.currentWriteId,F=pT(t),Ae=Qj(v,f,F);c.currentOutputSnapshotRaw=v,c.currentOutputSnapshotResolved=Ae,c.currentWriteId=pU(t),s.splice(s.indexOf(D),1),i=i.concat(Hj(t.serverSyncTree_,c.path,Ae,c.currentWriteId,c.applyLocally)),i=i.concat(go(t.serverSyncTree_,D,!0))}else u=!0,d="nodata",i=i.concat(go(t.serverSyncTree_,c.currentWriteId,!0))}Kr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Qu(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)fa(r[a]);Zm(t,t.transactionQueueTree_)}function vT(t,e){let n,r=t.transactionQueueTree_;for(n=Y(e);n!==null&&To(r)===void 0;)r=Km(r,n),e=ae(e),n=Y(e);return r}function yT(t,e){let n=[];return _T(t,e,n),n.sort((r,i)=>r.order-i.order),n}function _T(t,e,n){let r=To(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Zu(e,i=>{_T(t,i,n)})}function Qu(t,e){let n=To(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,lT(e,n.length>0?n:void 0)}Zu(e,r=>{Qu(t,r)})}function _U(t,e){let n=pa(vT(t,e)),r=Km(t.transactionQueueTree_,e);return Xj(r,i=>{Kg(t,i)}),Kg(t,r),dT(r,i=>{Kg(t,i)}),n}function Kg(t,e){let n=To(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(I(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(I(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(go(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?lT(e,void 0):n.length=o+1,Kr(t.eventQueue_,pa(e),i);for(let s=0;s<r.length;s++)fa(r[s])}}function EU(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function wU(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):at(`Invalid query segment '${n}' in query '${t}'`)}return e}var fb=function(t,e){let n=IU(t),r=n.namespace;n.domain==="firebase.com"&&Dn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Dn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mV();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Fu(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new oe(n.pathString)}},IU=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=EU(t.substring(u,d)));let f=wU(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Fm=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return z(this._path)?null:kb(this._path)}get ref(){return new Do(this._repo,this._path)}get _queryIdentifier(){let e=JD(this._queryParams),n=Um(e);return n==="{}"?"default":n}get _queryObject(){return JD(this._queryParams)}isEqual(e){if(e=ot(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Fb(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+KV(this._path)}};var Do=class t extends Fm{constructor(e,n){super(e,n,new mm,!1)}get parent(){let e=Ob(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};Bj(Do);$j(Do);var CU="FIREBASE_DATABASE_EMULATOR_HOST",Lm={},DU=!1;function bU(t,e,n,r){t.repoInfo_=new Fu(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function TU(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Dn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ke("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=fb(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[CU]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=fb(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new ia(ia.OWNER):new em(t.name,t.options,e);oU("Invalid Firebase Database URL",s),z(s.path)||Dn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=AU(a,t,u,new Xg(t,n));return new Vm(d,t)}function SU(t,e){let n=Lm[e];(!n||n[t.key]!==t)&&Dn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),mU(t),delete n[t.key]}function AU(t,e,n,r){let i=Lm[e.name];i||(i={},Lm[e.name]=i);let o=i[t.toURLString()];return o&&Dn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Om(t,DU,n,r),i[t.toURLString()]=o,o}var Vm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(dU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Do(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(SU(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Dn("Cannot call "+e+" on a deleted database.")}};function ET(t=Pr(),e){let n=so(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=YI("database");r&&wT(n,...r)}return n}function wT(t,e,n,r={}){t=ot(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Dn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Dn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ia(ia.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:ZI(r.mockUserToken,t.app.options.projectId);o=new ia(s)}bU(i,e,n,o)}function MU(t){hV(Gn),Rt(new He("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return TU(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),fe(PD,OD,t),fe(PD,OD,"esm2017")}$m.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};$m.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};MU();var ga=class{constructor(e){return e}},IT="database",Jm=class{constructor(){return uo(IT)}};var Xm=new b("angularfire2.database-instances");function NU(t,e){let n=Ys(IT,t,e);return n&&new ga(n)}function RU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ga(r)}}var xU={provide:Jm,deps:[[new Ue,Xm]]},kU={provide:ga,useFactory:NU,deps:[[new Ue,Xm],In]};function CT(t,...e){return fe("angularfire",Qn.full,"rtdb"),ht([kU,xU,{provide:Xm,useFactory:RU(t),multi:!0,deps:[te,_e,Jn,Br,[new Ue,Qs],[new Ue,fo],...e]}])}var DT=Ur(ET,!0);var bT={firebaseConfig:{apiKey:"AIzaSyBRQLmDQb5AW0XcwgyC5XtbaRfEuXhJOsY",authDomain:"auth-d3328.firebaseapp.com",projectId:"auth-d3328",storageBucket:"auth-d3328.firebasestorage.app",messagingSenderId:"450342154242",appId:"1:450342154242:web:0f5cc29ac945cc37fef71b"}};var TT={providers:[tw({eventCoalescing:!0}),II(kD),Mw(),vD(()=>yD(bT.firebaseConfig)),CT(()=>DT()),RD(()=>xD())]};var Ju=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-footer"]],decls:3,vars:0,template:function(n,r){n&1&&(g(0,"footer")(1,"p"),y(2,"Super footer"),m()())},styles:["footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;text-align:center;padding:1rem}"]})};function PU(t,e){if(t&1){let n=Kc();g(0,"button",5),le("click",function(){Go(n);let i=Tt();return qo(i.disconnect())}),y(1," Logout "),m()}}function OU(t,e){t&1&&(g(0,"li")(1,"a",6),y(2,"Login"),m()())}var Xu=class t{constructor(e){this.auth=e;this.auth.onAuthStateChanged(n=>{n?(console.log(n),this.currentUser=n.email):this.currentUser=null})}currentUser=null;disconnect(){return p(this,null,function*(){try{yield Tu(this.auth),this.currentUser=null}catch(e){console.error("Erreur lors de la d\xE9connexion :",e)}})}static \u0275fac=function(n){return new(n||t)(O(st))};static \u0275cmp=A({type:t,selectors:[["app-nav-bar"]],decls:16,vars:2,consts:[["connected",""],["aria-current","page","routerLink","/home"],["aria-current","exercises","routerLink","/exercises"],[3,"click",4,"ngIf","ngIfElse"],["aria-current","register","routerLink","/app-register"],[3,"click"],["aria-current","login","routerLink","/app-login"]],template:function(n,r){if(n&1&&(g(0,"nav")(1,"ul")(2,"div")(3,"li")(4,"a",1),y(5,"Home"),m()(),g(6,"li")(7,"a",2),y(8,"Exercises"),m()()(),g(9,"div"),Ee(10,PU,2,0,"button",3)(11,OU,3,0,"ng-template",null,0,ki),g(13,"li")(14,"a",4),y(15,"Register"),m()()()()()),n&2){let i=xi(12);S(10),J("ngIf",r.currentUser!==null)("ngIfElse",i)}},dependencies:[bl,pt],styles:["ul[_ngcontent-%COMP%]{display:flex;justify-content:space-between}button[_ngcontent-%COMP%]{margin-inline:1rem;cursor:pointer}"]})};var ed=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-header"]],decls:2,vars:0,template:function(n,r){n&1&&(g(0,"header"),M(1,"app-nav-bar"),m())},dependencies:[Xu],styles:["header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:1rem}"]})};var td=class t{title="Angular try-hard";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=A({type:t,selectors:[["app-root"]],decls:4,vars:0,template:function(n,r){n&1&&(M(0,"app-header"),g(1,"main"),M(2,"router-outlet"),m(),M(3,"app-footer"))},dependencies:[vp,ed,Ju],encapsulation:2})};jw(td,TT).catch(t=>console.error(t));
